var zd="2.1.12";const Vt="[data-trix-attachment]",Io={preview:{presentation:"gallery",caption:{name:!0,size:!0}},file:{caption:{size:!0}}},ge={default:{tagName:"div",parse:!1},quote:{tagName:"blockquote",nestable:!0},heading1:{tagName:"h1",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:"pre",terminal:!0,htmlAttributes:["language"],text:{plaintext:!0}},bulletList:{tagName:"ul",parse:!1},bullet:{tagName:"li",listAttribute:"bulletList",group:!1,nestable:!0,test(n){return Ma(n.parentNode)===ge[this.listAttribute].tagName}},numberList:{tagName:"ol",parse:!1},number:{tagName:"li",listAttribute:"numberList",group:!1,nestable:!0,test(n){return Ma(n.parentNode)===ge[this.listAttribute].tagName}},attachmentGallery:{tagName:"div",exclusive:!0,terminal:!0,parse:!1,group:!1}},Ma=n=>{var e;return n==null||(e=n.tagName)===null||e===void 0?void 0:e.toLowerCase()},Fa=navigator.userAgent.match(/android\s([0-9]+.*Chrome)/i),rr=Fa&&parseInt(Fa[1]);var Tn={composesExistingText:/Android.*Chrome/.test(navigator.userAgent),recentAndroid:rr&&rr>12,samsungAndroid:rr&&navigator.userAgent.match(/Android.*SM-/),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:typeof InputEvent<"u"&&["data","getTargetRanges","inputType"].every(n=>n in InputEvent.prototype)},nc={ADD_ATTR:["language"],SAFE_FOR_XML:!1,RETURN_DOM:!0},T={attachFiles:"Attach Files",bold:"Bold",bullets:"Bullets",byte:"Byte",bytes:"Bytes",captionPlaceholder:"Add a caption…",code:"Code",heading1:"Heading",indent:"Increase Level",italic:"Italic",link:"Link",numbers:"Numbers",outdent:"Decrease Level",quote:"Quote",redo:"Redo",remove:"Remove",strike:"Strikethrough",undo:"Undo",unlink:"Unlink",url:"URL",urlPlaceholder:"Enter a URL…",GB:"GB",KB:"KB",MB:"MB",PB:"PB",TB:"TB"};const Ud=[T.bytes,T.KB,T.MB,T.GB,T.TB,T.PB];var sc={prefix:"IEC",precision:2,formatter(n){switch(n){case 0:return"0 ".concat(T.bytes);case 1:return"1 ".concat(T.byte);default:let e;this.prefix==="SI"?e=1e3:this.prefix==="IEC"&&(e=1024);const t=Math.floor(Math.log(n)/Math.log(e)),i=(n/Math.pow(e,t)).toFixed(this.precision).replace(/0*$/,"").replace(/\.$/,"");return"".concat(i," ").concat(Ud[t])}}};const Bs="\uFEFF",Et=" ",rc=function(n){for(const e in n){const t=n[e];this[e]=t}return this},Ro=document.documentElement,Jd=Ro.matches,G=function(n){let{onElement:e,matchingSelector:t,withCallback:i,inPhase:s,preventDefault:r,times:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const a=e||Ro,l=t,c=s==="capturing",u=function(h){o!=null&&--o==0&&u.destroy();const f=Lt(h.target,{matchingSelector:l});f!=null&&(i==null||i.call(f,h,f),r&&h.preventDefault())};return u.destroy=()=>a.removeEventListener(n,u,c),a.addEventListener(n,u,c),u},an=function(n){let{onElement:e,bubbles:t,cancelable:i,attributes:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=e??Ro;t=t!==!1,i=i!==!1;const o=document.createEvent("Events");return o.initEvent(n,t,i),s!=null&&rc.call(o,s),r.dispatchEvent(o)},oc=function(n,e){if((n==null?void 0:n.nodeType)===1)return Jd.call(n,e)},Lt=function(n){let{matchingSelector:e,untilNode:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};for(;n&&n.nodeType!==Node.ELEMENT_NODE;)n=n.parentNode;if(n!=null){if(e==null)return n;if(n.closest&&t==null)return n.closest(e);for(;n&&n!==t;){if(oc(n,e))return n;n=n.parentNode}}},Do=n=>document.activeElement!==n&&$t(n,document.activeElement),$t=function(n,e){if(n&&e)for(;e;){if(e===n)return!0;e=e.parentNode}},or=function(n){var e;if((e=n)===null||e===void 0||!e.parentNode)return;let t=0;for(n=n.previousSibling;n;)t++,n=n.previousSibling;return t},Tt=n=>{var e;return n==null||(e=n.parentNode)===null||e===void 0?void 0:e.removeChild(n)},xs=function(n){let{onlyNodesOfType:e,usingFilter:t,expandEntityReferences:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=(()=>{switch(e){case"element":return NodeFilter.SHOW_ELEMENT;case"text":return NodeFilter.SHOW_TEXT;case"comment":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}})();return document.createTreeWalker(n,s,t??null,i===!0)},me=n=>{var e;return n==null||(e=n.tagName)===null||e===void 0?void 0:e.toLowerCase()},R=function(n){let e,t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof n=="object"?(i=n,n=i.tagName):i={attributes:i};const s=document.createElement(n);if(i.editable!=null&&(i.attributes==null&&(i.attributes={}),i.attributes.contenteditable=i.editable),i.attributes)for(e in i.attributes)t=i.attributes[e],s.setAttribute(e,t);if(i.style)for(e in i.style)t=i.style[e],s.style[e]=t;if(i.data)for(e in i.data)t=i.data[e],s.dataset[e]=t;return i.className&&i.className.split(" ").forEach(r=>{s.classList.add(r)}),i.textContent&&(s.textContent=i.textContent),i.childNodes&&[].concat(i.childNodes).forEach(r=>{s.appendChild(r)}),s};let Ui;const ln=function(){if(Ui!=null)return Ui;Ui=[];for(const n in ge){const e=ge[n];e.tagName&&Ui.push(e.tagName)}return Ui},ar=n=>yi(n==null?void 0:n.firstChild),_a=function(n){let{strict:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{strict:!0};return e?yi(n):yi(n)||!yi(n.firstChild)&&function(t){return ln().includes(me(t))&&!ln().includes(me(t.firstChild))}(n)},yi=n=>Kd(n)&&(n==null?void 0:n.data)==="block",Kd=n=>(n==null?void 0:n.nodeType)===Node.COMMENT_NODE,vi=function(n){let{name:e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n)return cn(n)?n.data===Bs?!e||n.parentNode.dataset.trixCursorTarget===e:void 0:vi(n.firstChild)},jt=n=>oc(n,Vt),ac=n=>cn(n)&&(n==null?void 0:n.data)==="",cn=n=>(n==null?void 0:n.nodeType)===Node.TEXT_NODE,Po={level2Enabled:!0,getLevel(){return this.level2Enabled&&Tn.supportsInputEvents?2:0},pickFiles(n){const e=R("input",{type:"file",multiple:!0,hidden:!0,id:this.fileInputId});e.addEventListener("change",()=>{n(e.files),Tt(e)}),Tt(document.getElementById(this.fileInputId)),document.body.appendChild(e),e.click()}};var fs={removeBlankTableCells:!1,tableCellSeparator:" | ",tableRowSeparator:`
`},Gt={bold:{tagName:"strong",inheritable:!0,parser(n){const e=window.getComputedStyle(n);return e.fontWeight==="bold"||e.fontWeight>=600}},italic:{tagName:"em",inheritable:!0,parser:n=>window.getComputedStyle(n).fontStyle==="italic"},href:{groupTagName:"a",parser(n){const e="a:not(".concat(Vt,")"),t=n.closest(e);if(t)return t.getAttribute("href")}},strike:{tagName:"del",inheritable:!0},frozen:{style:{backgroundColor:"highlight"}}},lc={getDefaultHTML:()=>`<div class="trix-button-row">
      <span class="trix-button-group trix-button-group--text-tools" data-trix-button-group="text-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bold" data-trix-attribute="bold" data-trix-key="b" title="`.concat(T.bold,'" tabindex="-1">').concat(T.bold,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-italic" data-trix-attribute="italic" data-trix-key="i" title="`).concat(T.italic,'" tabindex="-1">').concat(T.italic,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-strike" data-trix-attribute="strike" title="`).concat(T.strike,'" tabindex="-1">').concat(T.strike,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-link" data-trix-attribute="href" data-trix-action="link" data-trix-key="k" title="`).concat(T.link,'" tabindex="-1">').concat(T.link,`</button>
      </span>

      <span class="trix-button-group trix-button-group--block-tools" data-trix-button-group="block-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-heading-1" data-trix-attribute="heading1" title="`).concat(T.heading1,'" tabindex="-1">').concat(T.heading1,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-quote" data-trix-attribute="quote" title="`).concat(T.quote,'" tabindex="-1">').concat(T.quote,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-code" data-trix-attribute="code" title="`).concat(T.code,'" tabindex="-1">').concat(T.code,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-bullet-list" data-trix-attribute="bullet" title="`).concat(T.bullets,'" tabindex="-1">').concat(T.bullets,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-number-list" data-trix-attribute="number" title="`).concat(T.numbers,'" tabindex="-1">').concat(T.numbers,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-decrease-nesting-level" data-trix-action="decreaseNestingLevel" title="`).concat(T.outdent,'" tabindex="-1">').concat(T.outdent,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-increase-nesting-level" data-trix-action="increaseNestingLevel" title="`).concat(T.indent,'" tabindex="-1">').concat(T.indent,`</button>
      </span>

      <span class="trix-button-group trix-button-group--file-tools" data-trix-button-group="file-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-attach" data-trix-action="attachFiles" title="`).concat(T.attachFiles,'" tabindex="-1">').concat(T.attachFiles,`</button>
      </span>

      <span class="trix-button-group-spacer"></span>

      <span class="trix-button-group trix-button-group--history-tools" data-trix-button-group="history-tools">
        <button type="button" class="trix-button trix-button--icon trix-button--icon-undo" data-trix-action="undo" data-trix-key="z" title="`).concat(T.undo,'" tabindex="-1">').concat(T.undo,`</button>
        <button type="button" class="trix-button trix-button--icon trix-button--icon-redo" data-trix-action="redo" data-trix-key="shift+z" title="`).concat(T.redo,'" tabindex="-1">').concat(T.redo,`</button>
      </span>
    </div>

    <div class="trix-dialogs" data-trix-dialogs>
      <div class="trix-dialog trix-dialog--link" data-trix-dialog="href" data-trix-dialog-attribute="href">
        <div class="trix-dialog__link-fields">
          <input type="url" name="href" class="trix-input trix-input--dialog" placeholder="`).concat(T.urlPlaceholder,'" aria-label="').concat(T.url,`" data-trix-validate-href required data-trix-input>
          <div class="trix-button-group">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(T.link,`" data-trix-method="setAttribute">
            <input type="button" class="trix-button trix-button--dialog" value="`).concat(T.unlink,`" data-trix-method="removeAttribute">
          </div>
        </div>
      </div>
    </div>`)};const Hr={interval:5e3};var kn=Object.freeze({__proto__:null,attachments:Io,blockAttributes:ge,browser:Tn,css:{attachment:"attachment",attachmentCaption:"attachment__caption",attachmentCaptionEditor:"attachment__caption-editor",attachmentMetadata:"attachment__metadata",attachmentMetadataContainer:"attachment__metadata-container",attachmentName:"attachment__name",attachmentProgress:"attachment__progress",attachmentSize:"attachment__size",attachmentToolbar:"attachment__toolbar",attachmentGallery:"attachment-gallery"},dompurify:nc,fileSize:sc,input:Po,keyNames:{8:"backspace",9:"tab",13:"return",27:"escape",37:"left",39:"right",46:"delete",68:"d",72:"h",79:"o"},lang:T,parser:fs,textAttributes:Gt,toolbar:lc,undo:Hr});class te{static proxyMethod(e){const{name:t,toMethod:i,toProperty:s,optional:r}=Xd(e);this.prototype[t]=function(){let o,a;var l,c;return i?a=r?(l=this[i])===null||l===void 0?void 0:l.call(this):this[i]():s&&(a=this[s]),r?(o=(c=a)===null||c===void 0?void 0:c[t],o?$a.call(o,a,arguments):void 0):(o=a[t],$a.call(o,a,arguments))}}}const Xd=function(n){const e=n.match(Gd);if(!e)throw new Error("can't parse @proxyMethod expression: ".concat(n));const t={name:e[4]};return e[2]!=null?t.toMethod=e[1]:t.toProperty=e[1],e[3]!=null&&(t.optional=!0),t},{apply:$a}=Function.prototype,Gd=new RegExp("^(.+?)(\\(\\))?(\\?)?\\.(.+?)$");var lr,cr,ur;class yn extends te{static box(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e instanceof this?e:this.fromUCS2String(e==null?void 0:e.toString())}static fromUCS2String(e){return new this(e,Vr(e))}static fromCodepoints(e){return new this(jr(e),e)}constructor(e,t){super(...arguments),this.ucs2String=e,this.codepoints=t,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}offsetToUCS2Offset(e){return jr(this.codepoints.slice(0,Math.max(0,e))).length}offsetFromUCS2Offset(e){return Vr(this.ucs2String.slice(0,Math.max(0,e))).length}slice(){return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))}charAt(e){return this.slice(e,e+1)}isEqualTo(e){return this.constructor.box(e).ucs2String===this.ucs2String}toJSON(){return this.ucs2String}getCacheKey(){return this.ucs2String}toString(){return this.ucs2String}}const Qd=((lr=Array.from)===null||lr===void 0?void 0:lr.call(Array,"👼").length)===1,Yd=((cr=" ".codePointAt)===null||cr===void 0?void 0:cr.call(" ",0))!=null,Zd=((ur=String.fromCodePoint)===null||ur===void 0?void 0:ur.call(String,32,128124))===" 👼";let Vr,jr;Vr=Qd&&Yd?n=>Array.from(n).map(e=>e.codePointAt(0)):function(n){const e=[];let t=0;const{length:i}=n;for(;t<i;){let s=n.charCodeAt(t++);if(55296<=s&&s<=56319&&t<i){const r=n.charCodeAt(t++);(64512&r)==56320?s=((1023&s)<<10)+(1023&r)+65536:t--}e.push(s)}return e},jr=Zd?n=>String.fromCodePoint(...Array.from(n||[])):function(n){return(()=>{const e=[];return Array.from(n).forEach(t=>{let i="";t>65535&&(t-=65536,i+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e.push(i+String.fromCharCode(t))}),e})().join("")};let eh=0;class ii extends te{static fromJSONString(e){return this.fromJSON(JSON.parse(e))}constructor(){super(...arguments),this.id=++eh}hasSameConstructorAs(e){return this.constructor===(e==null?void 0:e.constructor)}isEqualTo(e){return this===e}inspect(){const e=[],t=this.contentsForInspection()||{};for(const i in t){const s=t[i];e.push("".concat(i,"=").concat(s))}return"#<".concat(this.constructor.name,":").concat(this.id).concat(e.length?" ".concat(e.join(", ")):"",">")}contentsForInspection(){}toJSONString(){return JSON.stringify(this)}toUTF16String(){return yn.box(this)}getCacheKey(){return this.id.toString()}}const Qt=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0},Oo=function(n){const e=n.slice(0);for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return e.splice(...i),e},th=/[\u05BE\u05C0\u05C3\u05D0-\u05EA\u05F0-\u05F4\u061B\u061F\u0621-\u063A\u0640-\u064A\u066D\u0671-\u06B7\u06BA-\u06BE\u06C0-\u06CE\u06D0-\u06D5\u06E5\u06E6\u200F\u202B\u202E\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE72\uFE74\uFE76-\uFEFC]/,ih=function(){const n=R("input",{dir:"auto",name:"x",dirName:"x.dir"}),e=R("textarea",{dir:"auto",name:"y",dirName:"y.dir"}),t=R("form");t.appendChild(n),t.appendChild(e);const i=function(){try{return new FormData(t).has(e.dirName)}catch{return!1}}(),s=function(){try{return n.matches(":dir(ltr),:dir(rtl)")}catch{return!1}}();return i?function(r){return e.value=r,new FormData(t).get(e.dirName)}:s?function(r){return n.value=r,n.matches(":dir(rtl)")?"rtl":"ltr"}:function(r){const o=r.trim().charAt(0);return th.test(o)?"rtl":"ltr"}}();let dr=null,hr=null,fr=null,ts=null;const Wr=()=>(dr||(dr=sh().concat(nh())),dr),Z=n=>ge[n],nh=()=>(hr||(hr=Object.keys(ge)),hr),zr=n=>Gt[n],sh=()=>(fr||(fr=Object.keys(Gt)),fr),cc=function(n,e){rh(n).textContent=e.replace(/%t/g,n)},rh=function(n){const e=document.createElement("style");e.setAttribute("type","text/css"),e.setAttribute("data-tag-name",n.toLowerCase());const t=oh();return t&&e.setAttribute("nonce",t),document.head.insertBefore(e,document.head.firstChild),e},oh=function(){const n=qa("trix-csp-nonce")||qa("csp-nonce");if(n){const{nonce:e,content:t}=n;return e==""?t:e}},qa=n=>document.head.querySelector("meta[name=".concat(n,"]")),Ha={"application/x-trix-feature-detection":"test"},uc=function(n){const e=n.getData("text/plain"),t=n.getData("text/html");if(!e||!t)return e==null?void 0:e.length;{const{body:i}=new DOMParser().parseFromString(t,"text/html");if(i.textContent===e)return!i.querySelector("*")}},dc=/Mac|^iP/.test(navigator.platform)?n=>n.metaKey:n=>n.ctrlKey,No=n=>setTimeout(n,1),hc=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const e={};for(const t in n){const i=n[t];e[t]=i}return e},Di=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0},F=function(n){if(n!=null)return Array.isArray(n)||(n=[n,n]),[Va(n[0]),Va(n[1]!=null?n[1]:n[0])]},bt=function(n){if(n==null)return;const[e,t]=F(n);return Ur(e,t)},Ss=function(n,e){if(n==null||e==null)return;const[t,i]=F(n),[s,r]=F(e);return Ur(t,s)&&Ur(i,r)},Va=function(n){return typeof n=="number"?n:hc(n)},Ur=function(n,e){return typeof n=="number"?n===e:Di(n,e)};class fc extends te{constructor(){super(...arguments),this.update=this.update.bind(this),this.selectionManagers=[]}start(){this.started||(this.started=!0,document.addEventListener("selectionchange",this.update,!0))}stop(){if(this.started)return this.started=!1,document.removeEventListener("selectionchange",this.update,!0)}registerSelectionManager(e){if(!this.selectionManagers.includes(e))return this.selectionManagers.push(e),this.start()}unregisterSelectionManager(e){if(this.selectionManagers=this.selectionManagers.filter(t=>t!==e),this.selectionManagers.length===0)return this.stop()}notifySelectionManagersOfSelectionChange(){return this.selectionManagers.map(e=>e.selectionDidChange())}update(){this.notifySelectionManagersOfSelectionChange()}reset(){this.update()}}const Yt=new fc,pc=function(){const n=window.getSelection();if(n.rangeCount>0)return n},un=function(){var n;const e=(n=pc())===null||n===void 0?void 0:n.getRangeAt(0);if(e&&!ah(e))return e},mc=function(n){const e=window.getSelection();return e.removeAllRanges(),e.addRange(n),Yt.update()},ah=n=>ja(n.startContainer)||ja(n.endContainer),ja=n=>!Object.getPrototypeOf(n),rn=n=>n.replace(new RegExp("".concat(Bs),"g"),"").replace(new RegExp("".concat(Et),"g")," "),Bo=new RegExp("[^\\S".concat(Et,"]")),Mo=n=>n.replace(new RegExp("".concat(Bo.source),"g")," ").replace(/\ {2,}/g," "),Wa=function(n,e){if(n.isEqualTo(e))return["",""];const t=pr(n,e),{length:i}=t.utf16String;let s;if(i){const{offset:r}=t,o=n.codepoints.slice(0,r).concat(n.codepoints.slice(r+i));s=pr(e,yn.fromCodepoints(o))}else s=pr(e,n);return[t.utf16String.toString(),s.utf16String.toString()]},pr=function(n,e){let t=0,i=n.length,s=e.length;for(;t<i&&n.charAt(t).isEqualTo(e.charAt(t));)t++;for(;i>t+1&&n.charAt(i-1).isEqualTo(e.charAt(s-1));)i--,s--;return{utf16String:n.slice(t,i),offset:t}};class Ee extends ii{static fromCommonAttributesOfObjects(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(!e.length)return new this;let t=Ji(e[0]),i=t.getKeys();return e.slice(1).forEach(s=>{i=t.getKeysCommonToHash(Ji(s)),t=t.slice(i)}),t}static box(e){return Ji(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(...arguments),this.values=ps(e)}add(e,t){return this.merge(lh(e,t))}remove(e){return new Ee(ps(this.values,e))}get(e){return this.values[e]}has(e){return e in this.values}merge(e){return new Ee(ch(this.values,uh(e)))}slice(e){const t={};return Array.from(e).forEach(i=>{this.has(i)&&(t[i]=this.values[i])}),new Ee(t)}getKeys(){return Object.keys(this.values)}getKeysCommonToHash(e){return e=Ji(e),this.getKeys().filter(t=>this.values[t]===e.values[t])}isEqualTo(e){return Qt(this.toArray(),Ji(e).toArray())}isEmpty(){return this.getKeys().length===0}toArray(){if(!this.array){const e=[];for(const t in this.values){const i=this.values[t];e.push(e.push(t,i))}this.array=e.slice(0)}return this.array}toObject(){return ps(this.values)}toJSON(){return this.toObject()}contentsForInspection(){return{values:JSON.stringify(this.values)}}}const lh=function(n,e){const t={};return t[n]=e,t},ch=function(n,e){const t=ps(n);for(const i in e){const s=e[i];t[i]=s}return t},ps=function(n,e){const t={};return Object.keys(n).sort().forEach(i=>{i!==e&&(t[i]=n[i])}),t},Ji=function(n){return n instanceof Ee?n:new Ee(n)},uh=function(n){return n instanceof Ee?n.values:n};class Fo{static groupObjects(){let e,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:i,asTree:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s&&i==null&&(i=0);const r=[];return Array.from(t).forEach(o=>{var a;if(e){var l,c,u;if((l=o.canBeGrouped)!==null&&l!==void 0&&l.call(o,i)&&(c=(u=e[e.length-1]).canBeGroupedWith)!==null&&c!==void 0&&c.call(u,o,i))return void e.push(o);r.push(new this(e,{depth:i,asTree:s})),e=null}(a=o.canBeGrouped)!==null&&a!==void 0&&a.call(o,i)?e=[o]:r.push(o)}),e&&r.push(new this(e,{depth:i,asTree:s})),r}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{depth:t,asTree:i}=arguments.length>1?arguments[1]:void 0;this.objects=e,i&&(this.depth=t,this.objects=this.constructor.groupObjects(this.objects,{asTree:i,depth:this.depth+1}))}getObjects(){return this.objects}getDepth(){return this.depth}getCacheKey(){const e=["objectGroup"];return Array.from(this.getObjects()).forEach(t=>{e.push(t.getCacheKey())}),e.join("/")}}class dh extends te{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects={},Array.from(e).forEach(t=>{const i=JSON.stringify(t);this.objects[i]==null&&(this.objects[i]=t)})}find(e){const t=JSON.stringify(e);return this.objects[t]}}class hh{constructor(e){this.reset(e)}add(e){const t=za(e);this.elements[t]=e}remove(e){const t=za(e),i=this.elements[t];if(i)return delete this.elements[t],i}reset(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return this.elements={},Array.from(e).forEach(t=>{this.add(t)}),e}}const za=n=>n.dataset.trixStoreKey;class As extends te{isPerforming(){return this.performing===!0}hasPerformed(){return this.performed===!0}hasSucceeded(){return this.performed&&this.succeeded}hasFailed(){return this.performed&&!this.succeeded}getPromise(){return this.promise||(this.promise=new Promise((e,t)=>(this.performing=!0,this.perform((i,s)=>{this.succeeded=i,this.performing=!1,this.performed=!0,this.succeeded?e(s):t(s)})))),this.promise}perform(e){return e(!1)}release(){var e,t;(e=this.promise)===null||e===void 0||(t=e.cancel)===null||t===void 0||t.call(e),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null}}As.proxyMethod("getPromise().then"),As.proxyMethod("getPromise().catch");class ni extends te{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.object=e,this.options=t,this.childViews=[],this.rootView=this}getNodes(){return this.nodes||(this.nodes=this.createNodes()),this.nodes.map(e=>e.cloneNode(!0))}invalidate(){var e;return this.nodes=null,this.childViews=[],(e=this.parentView)===null||e===void 0?void 0:e.invalidate()}invalidateViewForObject(e){var t;return(t=this.findViewForObject(e))===null||t===void 0?void 0:t.invalidate()}findOrCreateCachedChildView(e,t,i){let s=this.getCachedViewForObject(t);return s?this.recordChildView(s):(s=this.createChildView(...arguments),this.cacheViewForObject(s,t)),s}createChildView(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};t instanceof Fo&&(i.viewClass=e,e=fh);const s=new e(t,i);return this.recordChildView(s)}recordChildView(e){return e.parentView=this,e.rootView=this.rootView,this.childViews.push(e),e}getAllChildViews(){let e=[];return this.childViews.forEach(t=>{e.push(t),e=e.concat(t.getAllChildViews())}),e}findElement(){return this.findElementForObject(this.object)}findElementForObject(e){const t=e==null?void 0:e.id;if(t)return this.rootView.element.querySelector("[data-trix-id='".concat(t,"']"))}findViewForObject(e){for(const t of this.getAllChildViews())if(t.object===e)return t}getViewCache(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?(this.viewCache||(this.viewCache={}),this.viewCache):void 0}isViewCachingEnabled(){return this.shouldCacheViews!==!1}enableViewCaching(){this.shouldCacheViews=!0}disableViewCaching(){this.shouldCacheViews=!1}getCachedViewForObject(e){var t;return(t=this.getViewCache())===null||t===void 0?void 0:t[e.getCacheKey()]}cacheViewForObject(e,t){const i=this.getViewCache();i&&(i[t.getCacheKey()]=e)}garbageCollectCachedViews(){const e=this.getViewCache();if(e){const t=this.getAllChildViews().concat(this).map(i=>i.object.getCacheKey());for(const i in e)t.includes(i)||delete e[i]}}}class fh extends ni{constructor(){super(...arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}getChildViews(){return this.childViews.length||Array.from(this.objectGroup.getObjects()).forEach(e=>{this.findOrCreateCachedChildView(this.viewClass,e,this.options)}),this.childViews}createNodes(){const e=this.createContainerElement();return this.getChildViews().forEach(t=>{Array.from(t.getNodes()).forEach(i=>{e.appendChild(i)})}),[e]}createContainerElement(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.objectGroup.getDepth();return this.getChildViews()[0].createContainerElement(e)}}/*! @license DOMPurify 3.2.3 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.3/LICENSE */const{entries:gc,setPrototypeOf:Ua,isFrozen:ph,getPrototypeOf:mh,getOwnPropertyDescriptor:gh}=Object;let{freeze:ye,seal:Ne,create:bc}=Object,{apply:Jr,construct:Kr}=typeof Reflect<"u"&&Reflect;ye||(ye=function(n){return n}),Ne||(Ne=function(n){return n}),Jr||(Jr=function(n,e,t){return n.apply(e,t)}),Kr||(Kr=function(n,e){return new n(...e)});const is=Te(Array.prototype.forEach),Ja=Te(Array.prototype.pop),Ki=Te(Array.prototype.push),ms=Te(String.prototype.toLowerCase),mr=Te(String.prototype.toString),Ka=Te(String.prototype.match),Xi=Te(String.prototype.replace),bh=Te(String.prototype.indexOf),yh=Te(String.prototype.trim),Ve=Te(Object.prototype.hasOwnProperty),fe=Te(RegExp.prototype.test),Gi=(Xa=TypeError,function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Kr(Xa,e)});var Xa;function Te(n){return function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return Jr(n,e,i)}}function P(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ms;Ua&&Ua(n,null);let i=e.length;for(;i--;){let s=e[i];if(typeof s=="string"){const r=t(s);r!==s&&(ph(e)||(e[i]=r),s=r)}n[s]=!0}return n}function vh(n){for(let e=0;e<n.length;e++)Ve(n,e)||(n[e]=null);return n}function Bt(n){const e=bc(null);for(const[t,i]of gc(n))Ve(n,t)&&(Array.isArray(i)?e[t]=vh(i):i&&typeof i=="object"&&i.constructor===Object?e[t]=Bt(i):e[t]=i);return e}function Qi(n,e){for(;n!==null;){const t=gh(n,e);if(t){if(t.get)return Te(t.get);if(typeof t.value=="function")return Te(t.value)}n=mh(n)}return function(){return null}}const Ga=ye(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),gr=ye(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),br=ye(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),wh=ye(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),yr=ye(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ch=ye(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Qa=ye(["#text"]),Ya=ye(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),vr=ye(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Za=ye(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ns=ye(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),xh=Ne(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Sh=Ne(/<%[\w\W]*|[\w\W]*%>/gm),Ah=Ne(/\$\{[\w\W]*}/gm),Eh=Ne(/^data-[\-\w.\u00B7-\uFFFF]+$/),Lh=Ne(/^aria-[\-\w]+$/),yc=Ne(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Th=Ne(/^(?:\w+script|data):/i),kh=Ne(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),vc=Ne(/^html$/i),Ih=Ne(/^[a-z][.\w]*(-[.\w]+)+$/i);var el=Object.freeze({__proto__:null,ARIA_ATTR:Lh,ATTR_WHITESPACE:kh,CUSTOM_ELEMENT:Ih,DATA_ATTR:Eh,DOCTYPE_NAME:vc,ERB_EXPR:Sh,IS_ALLOWED_URI:yc,IS_SCRIPT_OR_DATA:Th,MUSTACHE_EXPR:xh,TMPLIT_EXPR:Ah});const Rh=1,Dh=3,Ph=7,Oh=8,Nh=9,Bh=function(){return typeof window>"u"?null:window};var Es=function n(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Bh();const t=d=>n(d);if(t.version="3.2.3",t.removed=[],!e||!e.document||e.document.nodeType!==Nh)return t.isSupported=!1,t;let{document:i}=e;const s=i,r=s.currentScript,{DocumentFragment:o,HTMLTemplateElement:a,Node:l,Element:c,NodeFilter:u,NamedNodeMap:h=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:f,DOMParser:g,trustedTypes:b}=e,y=c.prototype,p=Qi(y,"cloneNode"),v=Qi(y,"remove"),S=Qi(y,"nextSibling"),A=Qi(y,"childNodes"),w=Qi(y,"parentNode");if(typeof a=="function"){const d=i.createElement("template");d.content&&d.content.ownerDocument&&(i=d.content.ownerDocument)}let C,L="";const{implementation:I,createNodeIterator:H,createDocumentFragment:j,getElementsByTagName:X}=i,{importNode:oe}=s;let W={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};t.isSupported=typeof gc=="function"&&typeof w=="function"&&I&&I.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:ne,ERB_EXPR:_e,TMPLIT_EXPR:$e,DATA_ATTR:de,ARIA_ATTR:Se,IS_SCRIPT_OR_DATA:oi,ATTR_WHITESPACE:Ke,CUSTOM_ELEMENT:ai}=el;let{IS_ALLOWED_URI:li}=el,J=null;const Pt=P({},[...Ga,...gr,...br,...yr,...Qa]);let K=null;const qe=P({},[...Ya,...vr,...Za,...ns]);let $=Object.seal(bc(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Xe=null,He=null,ci=!0,qi=!0,ui=!1,Xn=!0,st=!1,Hi=!0,rt=!1,di=!1,hi=!1,wt=!1,fi=!1,Ie=!1,Ot=!0,Vi=!1,pi=!0,ot=!1,at={},lt=null;const ji=P({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Wi=null;const xa=P({},["audio","video","img","source","image","track"]);let er=null;const Sa=P({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Gn="http://www.w3.org/1998/Math/MathML",Qn="http://www.w3.org/2000/svg",ct="http://www.w3.org/1999/xhtml";let mi=ct,tr=!1,ir=null;const qd=P({},[Gn,Qn,ct],mr);let Yn=P({},["mi","mo","mn","ms","mtext"]),Zn=P({},["annotation-xml"]);const Hd=P({},["title","style","font","a","script"]);let zi=null;const Vd=["application/xhtml+xml","text/html"];let ae=null,gi=null;const jd=i.createElement("form"),Aa=function(d){return d instanceof RegExp||d instanceof Function},nr=function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!gi||gi!==d){if(d&&typeof d=="object"||(d={}),d=Bt(d),zi=Vd.indexOf(d.PARSER_MEDIA_TYPE)===-1?"text/html":d.PARSER_MEDIA_TYPE,ae=zi==="application/xhtml+xml"?mr:ms,J=Ve(d,"ALLOWED_TAGS")?P({},d.ALLOWED_TAGS,ae):Pt,K=Ve(d,"ALLOWED_ATTR")?P({},d.ALLOWED_ATTR,ae):qe,ir=Ve(d,"ALLOWED_NAMESPACES")?P({},d.ALLOWED_NAMESPACES,mr):qd,er=Ve(d,"ADD_URI_SAFE_ATTR")?P(Bt(Sa),d.ADD_URI_SAFE_ATTR,ae):Sa,Wi=Ve(d,"ADD_DATA_URI_TAGS")?P(Bt(xa),d.ADD_DATA_URI_TAGS,ae):xa,lt=Ve(d,"FORBID_CONTENTS")?P({},d.FORBID_CONTENTS,ae):ji,Xe=Ve(d,"FORBID_TAGS")?P({},d.FORBID_TAGS,ae):{},He=Ve(d,"FORBID_ATTR")?P({},d.FORBID_ATTR,ae):{},at=!!Ve(d,"USE_PROFILES")&&d.USE_PROFILES,ci=d.ALLOW_ARIA_ATTR!==!1,qi=d.ALLOW_DATA_ATTR!==!1,ui=d.ALLOW_UNKNOWN_PROTOCOLS||!1,Xn=d.ALLOW_SELF_CLOSE_IN_ATTR!==!1,st=d.SAFE_FOR_TEMPLATES||!1,Hi=d.SAFE_FOR_XML!==!1,rt=d.WHOLE_DOCUMENT||!1,wt=d.RETURN_DOM||!1,fi=d.RETURN_DOM_FRAGMENT||!1,Ie=d.RETURN_TRUSTED_TYPE||!1,hi=d.FORCE_BODY||!1,Ot=d.SANITIZE_DOM!==!1,Vi=d.SANITIZE_NAMED_PROPS||!1,pi=d.KEEP_CONTENT!==!1,ot=d.IN_PLACE||!1,li=d.ALLOWED_URI_REGEXP||yc,mi=d.NAMESPACE||ct,Yn=d.MATHML_TEXT_INTEGRATION_POINTS||Yn,Zn=d.HTML_INTEGRATION_POINTS||Zn,$=d.CUSTOM_ELEMENT_HANDLING||{},d.CUSTOM_ELEMENT_HANDLING&&Aa(d.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($.tagNameCheck=d.CUSTOM_ELEMENT_HANDLING.tagNameCheck),d.CUSTOM_ELEMENT_HANDLING&&Aa(d.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($.attributeNameCheck=d.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),d.CUSTOM_ELEMENT_HANDLING&&typeof d.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&($.allowCustomizedBuiltInElements=d.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),st&&(qi=!1),fi&&(wt=!0),at&&(J=P({},Qa),K=[],at.html===!0&&(P(J,Ga),P(K,Ya)),at.svg===!0&&(P(J,gr),P(K,vr),P(K,ns)),at.svgFilters===!0&&(P(J,br),P(K,vr),P(K,ns)),at.mathMl===!0&&(P(J,yr),P(K,Za),P(K,ns))),d.ADD_TAGS&&(J===Pt&&(J=Bt(J)),P(J,d.ADD_TAGS,ae)),d.ADD_ATTR&&(K===qe&&(K=Bt(K)),P(K,d.ADD_ATTR,ae)),d.ADD_URI_SAFE_ATTR&&P(er,d.ADD_URI_SAFE_ATTR,ae),d.FORBID_CONTENTS&&(lt===ji&&(lt=Bt(lt)),P(lt,d.FORBID_CONTENTS,ae)),pi&&(J["#text"]=!0),rt&&P(J,["html","head","body"]),J.table&&(P(J,["tbody"]),delete Xe.tbody),d.TRUSTED_TYPES_POLICY){if(typeof d.TRUSTED_TYPES_POLICY.createHTML!="function")throw Gi('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof d.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Gi('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');C=d.TRUSTED_TYPES_POLICY,L=C.createHTML("")}else C===void 0&&(C=function(E,x){if(typeof E!="object"||typeof E.createPolicy!="function")return null;let O=null;const M="data-tt-policy-suffix";x&&x.hasAttribute(M)&&(O=x.getAttribute(M));const D="dompurify"+(O?"#"+O:"");try{return E.createPolicy(D,{createHTML:se=>se,createScriptURL:se=>se})}catch{return console.warn("TrustedTypes policy "+D+" could not be created."),null}}(b,r)),C!==null&&typeof L=="string"&&(L=C.createHTML(""));ye&&ye(d),gi=d}},Ea=P({},[...gr,...br,...wh]),La=P({},[...yr,...Ch]),Ge=function(d){Ki(t.removed,{element:d});try{w(d).removeChild(d)}catch{v(d)}},es=function(d,E){try{Ki(t.removed,{attribute:E.getAttributeNode(d),from:E})}catch{Ki(t.removed,{attribute:null,from:E})}if(E.removeAttribute(d),d==="is")if(wt||fi)try{Ge(E)}catch{}else try{E.setAttribute(d,"")}catch{}},Ta=function(d){let E=null,x=null;if(hi)d="<remove></remove>"+d;else{const D=Ka(d,/^[\r\n\t ]+/);x=D&&D[0]}zi==="application/xhtml+xml"&&mi===ct&&(d='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+d+"</body></html>");const O=C?C.createHTML(d):d;if(mi===ct)try{E=new g().parseFromString(O,zi)}catch{}if(!E||!E.documentElement){E=I.createDocument(mi,"template",null);try{E.documentElement.innerHTML=tr?L:O}catch{}}const M=E.body||E.documentElement;return d&&x&&M.insertBefore(i.createTextNode(x),M.childNodes[0]||null),mi===ct?X.call(E,rt?"html":"body")[0]:rt?E.documentElement:M},ka=function(d){return H.call(d.ownerDocument||d,d,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},sr=function(d){return d instanceof f&&(typeof d.nodeName!="string"||typeof d.textContent!="string"||typeof d.removeChild!="function"||!(d.attributes instanceof h)||typeof d.removeAttribute!="function"||typeof d.setAttribute!="function"||typeof d.namespaceURI!="string"||typeof d.insertBefore!="function"||typeof d.hasChildNodes!="function")},Ia=function(d){return typeof l=="function"&&d instanceof l};function ut(d,E,x){is(d,O=>{O.call(t,E,x,gi)})}const Ra=function(d){let E=null;if(ut(W.beforeSanitizeElements,d,null),sr(d))return Ge(d),!0;const x=ae(d.nodeName);if(ut(W.uponSanitizeElement,d,{tagName:x,allowedTags:J}),d.hasChildNodes()&&!Ia(d.firstElementChild)&&fe(/<[/\w]/g,d.innerHTML)&&fe(/<[/\w]/g,d.textContent)||d.nodeType===Ph||Hi&&d.nodeType===Oh&&fe(/<[/\w]/g,d.data))return Ge(d),!0;if(!J[x]||Xe[x]){if(!Xe[x]&&Pa(x)&&($.tagNameCheck instanceof RegExp&&fe($.tagNameCheck,x)||$.tagNameCheck instanceof Function&&$.tagNameCheck(x)))return!1;if(pi&&!lt[x]){const O=w(d)||d.parentNode,M=A(d)||d.childNodes;if(M&&O)for(let D=M.length-1;D>=0;--D){const se=p(M[D],!0);se.__removalCount=(d.__removalCount||0)+1,O.insertBefore(se,S(d))}}return Ge(d),!0}return d instanceof c&&!function(O){let M=w(O);M&&M.tagName||(M={namespaceURI:mi,tagName:"template"});const D=ms(O.tagName),se=ms(M.tagName);return!!ir[O.namespaceURI]&&(O.namespaceURI===Qn?M.namespaceURI===ct?D==="svg":M.namespaceURI===Gn?D==="svg"&&(se==="annotation-xml"||Yn[se]):!!Ea[D]:O.namespaceURI===Gn?M.namespaceURI===ct?D==="math":M.namespaceURI===Qn?D==="math"&&Zn[se]:!!La[D]:O.namespaceURI===ct?!(M.namespaceURI===Qn&&!Zn[se])&&!(M.namespaceURI===Gn&&!Yn[se])&&!La[D]&&(Hd[D]||!Ea[D]):!(zi!=="application/xhtml+xml"||!ir[O.namespaceURI]))}(d)?(Ge(d),!0):x!=="noscript"&&x!=="noembed"&&x!=="noframes"||!fe(/<\/no(script|embed|frames)/i,d.innerHTML)?(st&&d.nodeType===Dh&&(E=d.textContent,is([ne,_e,$e],O=>{E=Xi(E,O," ")}),d.textContent!==E&&(Ki(t.removed,{element:d.cloneNode()}),d.textContent=E)),ut(W.afterSanitizeElements,d,null),!1):(Ge(d),!0)},Da=function(d,E,x){if(Ot&&(E==="id"||E==="name")&&(x in i||x in jd))return!1;if(!(qi&&!He[E]&&fe(de,E))){if(!(ci&&fe(Se,E))){if(!K[E]||He[E]){if(!(Pa(d)&&($.tagNameCheck instanceof RegExp&&fe($.tagNameCheck,d)||$.tagNameCheck instanceof Function&&$.tagNameCheck(d))&&($.attributeNameCheck instanceof RegExp&&fe($.attributeNameCheck,E)||$.attributeNameCheck instanceof Function&&$.attributeNameCheck(E))||E==="is"&&$.allowCustomizedBuiltInElements&&($.tagNameCheck instanceof RegExp&&fe($.tagNameCheck,x)||$.tagNameCheck instanceof Function&&$.tagNameCheck(x))))return!1}else if(!er[E]){if(!fe(li,Xi(x,Ke,""))){if((E!=="src"&&E!=="xlink:href"&&E!=="href"||d==="script"||bh(x,"data:")!==0||!Wi[d])&&!(ui&&!fe(oi,Xi(x,Ke,"")))){if(x)return!1}}}}}return!0},Pa=function(d){return d!=="annotation-xml"&&Ka(d,ai)},Oa=function(d){ut(W.beforeSanitizeAttributes,d,null);const{attributes:E}=d;if(!E||sr(d))return;const x={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:K,forceKeepAttr:void 0};let O=E.length;for(;O--;){const M=E[O],{name:D,namespaceURI:se,value:dt}=M,Qe=ae(D);let he=D==="value"?dt:yh(dt);if(x.attrName=Qe,x.attrValue=he,x.keepAttr=!0,x.forceKeepAttr=void 0,ut(W.uponSanitizeAttribute,d,x),he=x.attrValue,!Vi||Qe!=="id"&&Qe!=="name"||(es(D,d),he="user-content-"+he),Hi&&fe(/((--!?|])>)|<\/(style|title)/i,he)){es(D,d);continue}if(x.forceKeepAttr||(es(D,d),!x.keepAttr))continue;if(!Xn&&fe(/\/>/i,he)){es(D,d);continue}st&&is([ne,_e,$e],Ba=>{he=Xi(he,Ba," ")});const Na=ae(d.nodeName);if(Da(Na,Qe,he)){if(C&&typeof b=="object"&&typeof b.getAttributeType=="function"&&!se)switch(b.getAttributeType(Na,Qe)){case"TrustedHTML":he=C.createHTML(he);break;case"TrustedScriptURL":he=C.createScriptURL(he)}try{se?d.setAttributeNS(se,D,he):d.setAttribute(D,he),sr(d)?Ge(d):Ja(t.removed)}catch{}}}ut(W.afterSanitizeAttributes,d,null)},Wd=function d(E){let x=null;const O=ka(E);for(ut(W.beforeSanitizeShadowDOM,E,null);x=O.nextNode();)ut(W.uponSanitizeShadowNode,x,null),Ra(x),Oa(x),x.content instanceof o&&d(x.content);ut(W.afterSanitizeShadowDOM,E,null)};return t.sanitize=function(d){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},x=null,O=null,M=null,D=null;if(tr=!d,tr&&(d="<!-->"),typeof d!="string"&&!Ia(d)){if(typeof d.toString!="function")throw Gi("toString is not a function");if(typeof(d=d.toString())!="string")throw Gi("dirty is not a string, aborting")}if(!t.isSupported)return d;if(di||nr(E),t.removed=[],typeof d=="string"&&(ot=!1),ot){if(d.nodeName){const Qe=ae(d.nodeName);if(!J[Qe]||Xe[Qe])throw Gi("root node is forbidden and cannot be sanitized in-place")}}else if(d instanceof l)x=Ta("<!---->"),O=x.ownerDocument.importNode(d,!0),O.nodeType===Rh&&O.nodeName==="BODY"||O.nodeName==="HTML"?x=O:x.appendChild(O);else{if(!wt&&!st&&!rt&&d.indexOf("<")===-1)return C&&Ie?C.createHTML(d):d;if(x=Ta(d),!x)return wt?null:Ie?L:""}x&&hi&&Ge(x.firstChild);const se=ka(ot?d:x);for(;M=se.nextNode();)Ra(M),Oa(M),M.content instanceof o&&Wd(M.content);if(ot)return d;if(wt){if(fi)for(D=j.call(x.ownerDocument);x.firstChild;)D.appendChild(x.firstChild);else D=x;return(K.shadowroot||K.shadowrootmode)&&(D=oe.call(s,D,!0)),D}let dt=rt?x.outerHTML:x.innerHTML;return rt&&J["!doctype"]&&x.ownerDocument&&x.ownerDocument.doctype&&x.ownerDocument.doctype.name&&fe(vc,x.ownerDocument.doctype.name)&&(dt="<!DOCTYPE "+x.ownerDocument.doctype.name+`>
`+dt),st&&is([ne,_e,$e],Qe=>{dt=Xi(dt,Qe," ")}),C&&Ie?C.createHTML(dt):dt},t.setConfig=function(){nr(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}),di=!0},t.clearConfig=function(){gi=null,di=!1},t.isValidAttribute=function(d,E,x){gi||nr({});const O=ae(d),M=ae(E);return Da(O,M,x)},t.addHook=function(d,E){typeof E=="function"&&Ki(W[d],E)},t.removeHook=function(d){return Ja(W[d])},t.removeHooks=function(d){W[d]=[]},t.removeAllHooks=function(){W={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},t}();Es.addHook("uponSanitizeAttribute",function(n,e){/^data-trix-/.test(e.attrName)&&(e.forceKeepAttr=!0)});const Mh="style href src width height language class".split(" "),Fh="javascript:".split(" "),_h="script iframe form noscript".split(" ");class Ms extends te{static setHTML(e,t){const i=new this(t).sanitize(),s=i.getHTML?i.getHTML():i.outerHTML;e.innerHTML=s}static sanitize(e,t){const i=new this(e,t);return i.sanitize(),i}constructor(e){let{allowedAttributes:t,forbiddenProtocols:i,forbiddenElements:s}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.allowedAttributes=t||Mh,this.forbiddenProtocols=i||Fh,this.forbiddenElements=s||_h,this.body=$h(e)}sanitize(){return this.sanitizeElements(),this.normalizeListElementNesting(),Es.setConfig(nc),this.body=Es.sanitize(this.body),this.body}getHTML(){return this.body.innerHTML}getBody(){return this.body}sanitizeElements(){const e=xs(this.body),t=[];for(;e.nextNode();){const i=e.currentNode;switch(i.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(i)?t.push(i):this.sanitizeElement(i);break;case Node.COMMENT_NODE:t.push(i)}}return t.forEach(i=>Tt(i)),this.body}sanitizeElement(e){return e.hasAttribute("href")&&this.forbiddenProtocols.includes(e.protocol)&&e.removeAttribute("href"),Array.from(e.attributes).forEach(t=>{let{name:i}=t;this.allowedAttributes.includes(i)||i.indexOf("data-trix")===0||e.removeAttribute(i)}),e}normalizeListElementNesting(){return Array.from(this.body.querySelectorAll("ul,ol")).forEach(e=>{const t=e.previousElementSibling;t&&me(t)==="li"&&t.appendChild(e)}),this.body}elementIsRemovable(e){if((e==null?void 0:e.nodeType)===Node.ELEMENT_NODE)return this.elementIsForbidden(e)||this.elementIsntSerializable(e)}elementIsForbidden(e){return this.forbiddenElements.includes(me(e))}elementIsntSerializable(e){return e.getAttribute("data-trix-serialize")==="false"&&!jt(e)}}const $h=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";n=n.replace(/<\/html[^>]*>[^]*$/i,"</html>");const e=document.implementation.createHTMLDocument("");return e.documentElement.innerHTML=n,Array.from(e.head.querySelectorAll("style")).forEach(t=>{e.body.appendChild(t)}),e.body},{css:Ct}=kn;class _o extends ni{constructor(){super(...arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}createContentNodes(){return[]}createNodes(){let e;const t=e=R({tagName:"figure",className:this.getClassName(),data:this.getData(),editable:!1}),i=this.getHref();return i&&(e=R({tagName:"a",editable:!1,attributes:{href:i,tabindex:-1}}),t.appendChild(e)),this.attachment.hasContent()?Ms.setHTML(e,this.attachment.getContent()):this.createContentNodes().forEach(s=>{e.appendChild(s)}),e.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=R({tagName:"progress",attributes:{class:Ct.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:["progressElement",this.attachment.id].join("/")}}),t.appendChild(this.progressElement)),[tl("left"),t,tl("right")]}createCaptionElement(){const e=R({tagName:"figcaption",className:Ct.attachmentCaption}),t=this.attachmentPiece.getCaption();if(t)e.classList.add("".concat(Ct.attachmentCaption,"--edited")),e.textContent=t;else{let i,s;const r=this.getCaptionConfig();if(r.name&&(i=this.attachment.getFilename()),r.size&&(s=this.attachment.getFormattedFilesize()),i){const o=R({tagName:"span",className:Ct.attachmentName,textContent:i});e.appendChild(o)}if(s){i&&e.appendChild(document.createTextNode(" "));const o=R({tagName:"span",className:Ct.attachmentSize,textContent:s});e.appendChild(o)}}return e}getClassName(){const e=[Ct.attachment,"".concat(Ct.attachment,"--").concat(this.attachment.getType())],t=this.attachment.getExtension();return t&&e.push("".concat(Ct.attachment,"--").concat(t)),e.join(" ")}getData(){const e={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},{attributes:t}=this.attachmentPiece;return t.isEmpty()||(e.trixAttributes=JSON.stringify(t)),this.attachment.isPending()&&(e.trixSerialize=!1),e}getHref(){if(!qh(this.attachment.getContent(),"a"))return this.attachment.getHref()}getCaptionConfig(){var e;const t=this.attachment.getType(),i=hc((e=Io[t])===null||e===void 0?void 0:e.caption);return t==="file"&&(i.name=!0),i}findProgressElement(){var e;return(e=this.findElement())===null||e===void 0?void 0:e.querySelector("progress")}attachmentDidChangeUploadProgress(){const e=this.attachment.getUploadProgress(),t=this.findProgressElement();t&&(t.value=e)}}const tl=n=>R({tagName:"span",textContent:Bs,data:{trixCursorTarget:n,trixSerialize:!1}}),qh=function(n,e){const t=R("div");return Ms.setHTML(t,n||""),t.querySelector(e)};class wc extends _o{constructor(){super(...arguments),this.attachment.previewDelegate=this}createContentNodes(){return this.image=R({tagName:"img",attributes:{src:""},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]}createCaptionElement(){const e=super.createCaptionElement(...arguments);return e.textContent||e.setAttribute("data-trix-placeholder",T.captionPlaceholder),e}refresh(e){var t;if(e||(e=(t=this.findElement())===null||t===void 0?void 0:t.querySelector("img")),e)return this.updateAttributesForImage(e)}updateAttributesForImage(e){const t=this.attachment.getURL(),i=this.attachment.getPreviewURL();if(e.src=i||t,i===t)e.removeAttribute("data-trix-serialized-attributes");else{const a=JSON.stringify({src:t});e.setAttribute("data-trix-serialized-attributes",a)}const s=this.attachment.getWidth(),r=this.attachment.getHeight();s!=null&&(e.width=s),r!=null&&(e.height=r);const o=["imageElement",this.attachment.id,e.src,e.width,e.height].join("/");e.dataset.trixStoreKey=o}attachmentDidChangeAttributes(){return this.refresh(this.image),this.refresh()}}class Cc extends ni{constructor(){super(...arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=this.options.textConfig,this.context=this.options.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}createNodes(){let e=this.attachment?this.createAttachmentNodes():this.createStringNodes();const t=this.createElement();if(t){const i=function(s){for(;(r=s)!==null&&r!==void 0&&r.firstElementChild;){var r;s=s.firstElementChild}return s}(t);Array.from(e).forEach(s=>{i.appendChild(s)}),e=[t]}return e}createAttachmentNodes(){const e=this.attachment.isPreviewable()?wc:_o;return this.createChildView(e,this.piece.attachment,{piece:this.piece}).getNodes()}createStringNodes(){var e;if((e=this.textConfig)!==null&&e!==void 0&&e.plaintext)return[document.createTextNode(this.string)];{const t=[],i=this.string.split(`
`);for(let s=0;s<i.length;s++){const r=i[s];if(s>0){const o=R("br");t.push(o)}if(r.length){const o=document.createTextNode(this.preserveSpaces(r));t.push(o)}}return t}}createElement(){let e,t,i;const s={};for(t in this.attributes){i=this.attributes[t];const o=zr(t);if(o){if(o.tagName){var r;const a=R(o.tagName);r?(r.appendChild(a),r=a):e=r=a}if(o.styleProperty&&(s[o.styleProperty]=i),o.style)for(t in o.style)i=o.style[t],s[t]=i}}if(Object.keys(s).length)for(t in e||(e=R("span")),s)i=s[t],e.style[t]=i;return e}createContainerElement(){for(const e in this.attributes){const t=this.attributes[e],i=zr(e);if(i&&i.groupTagName){const s={};return s[e]=t,R(i.groupTagName,s)}}}preserveSpaces(e){return this.context.isLast&&(e=e.replace(/\ $/,Et)),e=e.replace(/(\S)\ {3}(\S)/g,"$1 ".concat(Et," $2")).replace(/\ {2}/g,"".concat(Et," ")).replace(/\ {2}/g," ".concat(Et)),(this.context.isFirst||this.context.followsWhitespace)&&(e=e.replace(/^\ /,Et)),e}}class xc extends ni{constructor(){super(...arguments),this.text=this.object,this.textConfig=this.options.textConfig}createNodes(){const e=[],t=Fo.groupObjects(this.getPieces()),i=t.length-1;for(let r=0;r<t.length;r++){const o=t[r],a={};r===0&&(a.isFirst=!0),r===i&&(a.isLast=!0),Hh(s)&&(a.followsWhitespace=!0);const l=this.findOrCreateCachedChildView(Cc,o,{textConfig:this.textConfig,context:a});e.push(...Array.from(l.getNodes()||[]));var s=o}return e}getPieces(){return Array.from(this.text.getPieces()).filter(e=>!e.hasAttribute("blockBreak"))}}const Hh=n=>/\s$/.test(n==null?void 0:n.toString()),{css:il}=kn;class Sc extends ni{constructor(){super(...arguments),this.block=this.object,this.attributes=this.block.getAttributes()}createNodes(){const e=[document.createComment("block")];if(this.block.isEmpty())e.push(R("br"));else{var t;const i=(t=Z(this.block.getLastAttribute()))===null||t===void 0?void 0:t.text,s=this.findOrCreateCachedChildView(xc,this.block.text,{textConfig:i});e.push(...Array.from(s.getNodes()||[])),this.shouldAddExtraNewlineElement()&&e.push(R("br"))}if(this.attributes.length)return e;{let i;const{tagName:s}=ge.default;this.block.isRTL()&&(i={dir:"rtl"});const r=R({tagName:s,attributes:i});return e.forEach(o=>r.appendChild(o)),[r]}}createContainerElement(e){const t={};let i;const s=this.attributes[e],{tagName:r,htmlAttributes:o=[]}=Z(s);if(e===0&&this.block.isRTL()&&Object.assign(t,{dir:"rtl"}),s==="attachmentGallery"){const a=this.block.getBlockBreakPosition();i="".concat(il.attachmentGallery," ").concat(il.attachmentGallery,"--").concat(a)}return Object.entries(this.block.htmlAttributes).forEach(a=>{let[l,c]=a;o.includes(l)&&(t[l]=c)}),R({tagName:r,className:i,attributes:t})}shouldAddExtraNewlineElement(){return/\n\n$/.test(this.block.toString())}}class Fs extends ni{static render(e){const t=R("div"),i=new this(e,{element:t});return i.render(),i.sync(),t}constructor(){super(...arguments),this.element=this.options.element,this.elementStore=new hh,this.setDocument(this.object)}setDocument(e){e.isEqualTo(this.document)||(this.document=this.object=e)}render(){if(this.childViews=[],this.shadowElement=R("div"),!this.document.isEmpty()){const e=Fo.groupObjects(this.document.getBlocks(),{asTree:!0});Array.from(e).forEach(t=>{const i=this.findOrCreateCachedChildView(Sc,t);Array.from(i.getNodes()).map(s=>this.shadowElement.appendChild(s))})}}isSynced(){return Vh(this.shadowElement,this.element)}sync(){const e=this.createDocumentFragmentForSync();for(;this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(e),this.didSync()}didSync(){return this.elementStore.reset(nl(this.element)),No(()=>this.garbageCollectCachedViews())}createDocumentFragmentForSync(){const e=document.createDocumentFragment();return Array.from(this.shadowElement.childNodes).forEach(t=>{e.appendChild(t.cloneNode(!0))}),Array.from(nl(e)).forEach(t=>{const i=this.elementStore.remove(t);i&&t.parentNode.replaceChild(i,t)}),e}}const nl=n=>n.querySelectorAll("[data-trix-store-key]"),Vh=(n,e)=>sl(n.innerHTML)===sl(e.innerHTML),sl=n=>n.replace(/&nbsp;/g," ");function ve(n,e,t){return(e=jh(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jh(n){var e=function(t,i){if(typeof t!="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var r=s.call(t,i||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(t)}(n,"string");return typeof e=="symbol"?e:String(e)}function V(n,e){return Wh(n,Ac(n,e,"get"))}function $o(n,e,t){return zh(n,Ac(n,e,"set"),t),t}function Ac(n,e,t){if(!e.has(n))throw new TypeError("attempted to "+t+" private field on non-instance");return e.get(n)}function Wh(n,e){return e.get?e.get.call(n):e.value}function zh(n,e,t){if(e.set)e.set.call(n,t);else{if(!e.writable)throw new TypeError("attempted to set read only private field");e.value=t}}function ss(n,e,t){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return t}function Ec(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function dn(n,e,t){Ec(n,e),e.set(n,t)}class si extends ii{static registerType(e,t){t.type=e,this.types[e]=t}static fromJSON(e){const t=this.types[e.type];if(t)return t.fromJSON(e)}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.attributes=Ee.box(t)}copyWithAttributes(e){return new this.constructor(this.getValue(),e)}copyWithAdditionalAttributes(e){return this.copyWithAttributes(this.attributes.merge(e))}copyWithoutAttribute(e){return this.copyWithAttributes(this.attributes.remove(e))}copy(){return this.copyWithAttributes(this.attributes)}getAttribute(e){return this.attributes.get(e)}getAttributesHash(){return this.attributes}getAttributes(){return this.attributes.toObject()}hasAttribute(e){return this.attributes.has(e)}hasSameStringValueAsPiece(e){return e&&this.toString()===e.toString()}hasSameAttributesAsPiece(e){return e&&(this.attributes===e.attributes||this.attributes.isEqualTo(e.attributes))}isBlockBreak(){return!1}isEqualTo(e){return super.isEqualTo(...arguments)||this.hasSameConstructorAs(e)&&this.hasSameStringValueAsPiece(e)&&this.hasSameAttributesAsPiece(e)}isEmpty(){return this.length===0}isSerializable(){return!0}toJSON(){return{type:this.constructor.type,attributes:this.getAttributes()}}contentsForInspection(){return{type:this.constructor.type,attributes:this.attributes.inspect()}}canBeGrouped(){return this.hasAttribute("href")}canBeGroupedWith(e){return this.getAttribute("href")===e.getAttribute("href")}getLength(){return this.length}canBeConsolidatedWith(e){return!1}}ve(si,"types",{});class Lc extends As{constructor(e){super(...arguments),this.url=e}perform(e){const t=new Image;t.onload=()=>(t.width=this.width=t.naturalWidth,t.height=this.height=t.naturalHeight,e(!0,t)),t.onerror=()=>e(!1),t.src=this.url}}class Pi extends ii{static attachmentForFile(e){const t=new this(this.attributesForFile(e));return t.setFile(e),t}static attributesForFile(e){return new Ee({filename:e.name,filesize:e.size,contentType:e.type})}static fromJSON(e){return new this(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(e),this.releaseFile=this.releaseFile.bind(this),this.attributes=Ee.box(e),this.didChangeAttributes()}getAttribute(e){return this.attributes.get(e)}hasAttribute(e){return this.attributes.has(e)}getAttributes(){return this.attributes.toObject()}setAttributes(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=this.attributes.merge(e);var i,s,r,o;if(!this.attributes.isEqualTo(t))return this.attributes=t,this.didChangeAttributes(),(i=this.previewDelegate)===null||i===void 0||(s=i.attachmentDidChangeAttributes)===null||s===void 0||s.call(i,this),(r=this.delegate)===null||r===void 0||(o=r.attachmentDidChangeAttributes)===null||o===void 0?void 0:o.call(r,this)}didChangeAttributes(){if(this.isPreviewable())return this.preloadURL()}isPending(){return this.file!=null&&!(this.getURL()||this.getHref())}isPreviewable(){return this.attributes.has("previewable")?this.attributes.get("previewable"):Pi.previewablePattern.test(this.getContentType())}getType(){return this.hasContent()?"content":this.isPreviewable()?"preview":"file"}getURL(){return this.attributes.get("url")}getHref(){return this.attributes.get("href")}getFilename(){return this.attributes.get("filename")||""}getFilesize(){return this.attributes.get("filesize")}getFormattedFilesize(){const e=this.attributes.get("filesize");return typeof e=="number"?sc.formatter(e):""}getExtension(){var e;return(e=this.getFilename().match(/\.(\w+)$/))===null||e===void 0?void 0:e[1].toLowerCase()}getContentType(){return this.attributes.get("contentType")}hasContent(){return this.attributes.has("content")}getContent(){return this.attributes.get("content")}getWidth(){return this.attributes.get("width")}getHeight(){return this.attributes.get("height")}getFile(){return this.file}setFile(e){if(this.file=e,this.isPreviewable())return this.preloadFile()}releaseFile(){this.releasePreloadedFile(),this.file=null}getUploadProgress(){return this.uploadProgress!=null?this.uploadProgress:0}setUploadProgress(e){var t,i;if(this.uploadProgress!==e)return this.uploadProgress=e,(t=this.uploadProgressDelegate)===null||t===void 0||(i=t.attachmentDidChangeUploadProgress)===null||i===void 0?void 0:i.call(t,this)}toJSON(){return this.getAttributes()}getCacheKey(){return[super.getCacheKey(...arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join("/")}getPreviewURL(){return this.previewURL||this.preloadingURL}setPreviewURL(e){var t,i,s,r;if(e!==this.getPreviewURL())return this.previewURL=e,(t=this.previewDelegate)===null||t===void 0||(i=t.attachmentDidChangeAttributes)===null||i===void 0||i.call(t,this),(s=this.delegate)===null||s===void 0||(r=s.attachmentDidChangePreviewURL)===null||r===void 0?void 0:r.call(s,this)}preloadURL(){return this.preload(this.getURL(),this.releaseFile)}preloadFile(){if(this.file)return this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)}releasePreloadedFile(){this.fileObjectURL&&(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null)}preload(e,t){if(e&&e!==this.getPreviewURL())return this.preloadingURL=e,new Lc(e).then(i=>{let{width:s,height:r}=i;return this.getWidth()&&this.getHeight()||this.setAttributes({width:s,height:r}),this.preloadingURL=null,this.setPreviewURL(e),t==null?void 0:t()}).catch(()=>(this.preloadingURL=null,t==null?void 0:t()))}}ve(Pi,"previewablePattern",/^image(\/(gif|png|webp|jpe?g)|$)/);class wi extends si{static fromJSON(e){return new this(Pi.fromJSON(e.attachment),e.attributes)}constructor(e){super(...arguments),this.attachment=e,this.length=1,this.ensureAttachmentExclusivelyHasAttribute("href"),this.attachment.hasContent()||this.removeProhibitedAttributes()}ensureAttachmentExclusivelyHasAttribute(e){this.hasAttribute(e)&&(this.attachment.hasAttribute(e)||this.attachment.setAttributes(this.attributes.slice([e])),this.attributes=this.attributes.remove(e))}removeProhibitedAttributes(){const e=this.attributes.slice(wi.permittedAttributes);e.isEqualTo(this.attributes)||(this.attributes=e)}getValue(){return this.attachment}isSerializable(){return!this.attachment.isPending()}getCaption(){return this.attributes.get("caption")||""}isEqualTo(e){var t;return super.isEqualTo(e)&&this.attachment.id===(e==null||(t=e.attachment)===null||t===void 0?void 0:t.id)}toString(){return"￼"}toJSON(){const e=super.toJSON(...arguments);return e.attachment=this.attachment,e}getCacheKey(){return[super.getCacheKey(...arguments),this.attachment.getCacheKey()].join("/")}toConsole(){return JSON.stringify(this.toString())}}ve(wi,"permittedAttributes",["caption","presentation"]),si.registerType("attachment",wi);class qo extends si{static fromJSON(e){return new this(e.string,e.attributes)}constructor(e){super(...arguments),this.string=(t=>t.replace(/\r\n?/g,`
`))(e),this.length=this.string.length}getValue(){return this.string}toString(){return this.string.toString()}isBlockBreak(){return this.toString()===`
`&&this.getAttribute("blockBreak")===!0}toJSON(){const e=super.toJSON(...arguments);return e.string=this.string,e}canBeConsolidatedWith(e){return e&&this.hasSameConstructorAs(e)&&this.hasSameAttributesAsPiece(e)}consolidateWith(e){return new this.constructor(this.toString()+e.toString(),this.attributes)}splitAtOffset(e){let t,i;return e===0?(t=null,i=this):e===this.length?(t=this,i=null):(t=new this.constructor(this.string.slice(0,e),this.attributes),i=new this.constructor(this.string.slice(e),this.attributes)),[t,i]}toConsole(){let{string:e}=this;return e.length>15&&(e=e.slice(0,14)+"…"),JSON.stringify(e.toString())}}si.registerType("string",qo);class Ls extends ii{static box(e){return e instanceof this?e:new this(e)}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.objects=e.slice(0),this.length=this.objects.length}indexOf(e){return this.objects.indexOf(e)}splice(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return new this.constructor(Oo(this.objects,...t))}eachObject(e){return this.objects.map((t,i)=>e(t,i))}insertObjectAtIndex(e,t){return this.splice(t,0,e)}insertSplittableListAtIndex(e,t){return this.splice(t,0,...e.objects)}insertSplittableListAtPosition(e,t){const[i,s]=this.splitObjectAtPosition(t);return new this.constructor(i).insertSplittableListAtIndex(e,s)}editObjectAtIndex(e,t){return this.replaceObjectAtIndex(t(this.objects[e]),e)}replaceObjectAtIndex(e,t){return this.splice(t,1,e)}removeObjectAtIndex(e){return this.splice(e,1)}getObjectAtIndex(e){return this.objects[e]}getSplittableListInRange(e){const[t,i,s]=this.splitObjectsAtRange(e);return new this.constructor(t.slice(i,s+1))}selectSplittableList(e){const t=this.objects.filter(i=>e(i));return new this.constructor(t)}removeObjectsInRange(e){const[t,i,s]=this.splitObjectsAtRange(e);return new this.constructor(t).splice(i,s-i+1)}transformObjectsInRange(e,t){const[i,s,r]=this.splitObjectsAtRange(e),o=i.map((a,l)=>s<=l&&l<=r?t(a):a);return new this.constructor(o)}splitObjectsAtRange(e){let t,[i,s,r]=this.splitObjectAtPosition(Jh(e));return[i,t]=new this.constructor(i).splitObjectAtPosition(Kh(e)+r),[i,s,t-1]}getObjectAtPosition(e){const{index:t}=this.findIndexAndOffsetAtPosition(e);return this.objects[t]}splitObjectAtPosition(e){let t,i;const{index:s,offset:r}=this.findIndexAndOffsetAtPosition(e),o=this.objects.slice(0);if(s!=null)if(r===0)t=s,i=0;else{const a=this.getObjectAtIndex(s),[l,c]=a.splitAtOffset(r);o.splice(s,1,l,c),t=s+1,i=l.getLength()-r}else t=o.length,i=0;return[o,t,i]}consolidate(){const e=[];let t=this.objects[0];return this.objects.slice(1).forEach(i=>{var s,r;(s=(r=t).canBeConsolidatedWith)!==null&&s!==void 0&&s.call(r,i)?t=t.consolidateWith(i):(e.push(t),t=i)}),t&&e.push(t),new this.constructor(e)}consolidateFromIndexToIndex(e,t){const i=this.objects.slice(0).slice(e,t+1),s=new this.constructor(i).consolidate().toArray();return this.splice(e,i.length,...s)}findIndexAndOffsetAtPosition(e){let t,i=0;for(t=0;t<this.objects.length;t++){const s=i+this.objects[t].getLength();if(i<=e&&e<s)return{index:t,offset:e-i};i=s}return{index:null,offset:null}}findPositionAtIndexAndOffset(e,t){let i=0;for(let s=0;s<this.objects.length;s++){const r=this.objects[s];if(s<e)i+=r.getLength();else if(s===e){i+=t;break}}return i}getEndPosition(){return this.endPosition==null&&(this.endPosition=0,this.objects.forEach(e=>this.endPosition+=e.getLength())),this.endPosition}toString(){return this.objects.join("")}toArray(){return this.objects.slice(0)}toJSON(){return this.toArray()}isEqualTo(e){return super.isEqualTo(...arguments)||Uh(this.objects,e==null?void 0:e.objects)}contentsForInspection(){return{objects:"[".concat(this.objects.map(e=>e.inspect()).join(", "),"]")}}}const Uh=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(n.length!==e.length)return!1;let t=!0;for(let i=0;i<n.length;i++){const s=n[i];t&&!s.isEqualTo(e[i])&&(t=!1)}return t},Jh=n=>n[0],Kh=n=>n[1];class We extends ii{static textForAttachmentWithAttributes(e,t){return new this([new wi(e,t)])}static textForStringWithAttributes(e,t){return new this([new qo(e,t)])}static fromJSON(e){return new this(Array.from(e).map(t=>si.fromJSON(t)))}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments);const t=e.filter(i=>!i.isEmpty());this.pieceList=new Ls(t)}copy(){return this.copyWithPieceList(this.pieceList)}copyWithPieceList(e){return new this.constructor(e.consolidate().toArray())}copyUsingObjectMap(e){const t=this.getPieces().map(i=>e.find(i)||i);return new this.constructor(t)}appendText(e){return this.insertTextAtPosition(e,this.getLength())}insertTextAtPosition(e,t){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(e.pieceList,t))}removeTextAtRange(e){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(e))}replaceTextAtRange(e,t){return this.removeTextAtRange(t).insertTextAtPosition(e,t[0])}moveTextFromRangeToPosition(e,t){if(e[0]<=t&&t<=e[1])return;const i=this.getTextAtRange(e),s=i.getLength();return e[0]<t&&(t-=s),this.removeTextAtRange(e).insertTextAtPosition(i,t)}addAttributeAtRange(e,t,i){const s={};return s[e]=t,this.addAttributesAtRange(s,i)}addAttributesAtRange(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,i=>i.copyWithAdditionalAttributes(e)))}removeAttributeAtRange(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,i=>i.copyWithoutAttribute(e)))}setAttributesAtRange(e,t){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(t,i=>i.copyWithAttributes(e)))}getAttributesAtPosition(e){var t;return((t=this.pieceList.getObjectAtPosition(e))===null||t===void 0?void 0:t.getAttributes())||{}}getCommonAttributes(){const e=Array.from(this.pieceList.toArray()).map(t=>t.getAttributes());return Ee.fromCommonAttributesOfObjects(e).toObject()}getCommonAttributesAtRange(e){return this.getTextAtRange(e).getCommonAttributes()||{}}getExpandedRangeForAttributeAtOffset(e,t){let i,s=i=t;const r=this.getLength();for(;s>0&&this.getCommonAttributesAtRange([s-1,i])[e];)s--;for(;i<r&&this.getCommonAttributesAtRange([t,i+1])[e];)i++;return[s,i]}getTextAtRange(e){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(e))}getStringAtRange(e){return this.pieceList.getSplittableListInRange(e).toString()}getStringAtPosition(e){return this.getStringAtRange([e,e+1])}startsWithString(e){return this.getStringAtRange([0,e.length])===e}endsWithString(e){const t=this.getLength();return this.getStringAtRange([t-e.length,t])===e}getAttachmentPieces(){return this.pieceList.toArray().filter(e=>!!e.attachment)}getAttachments(){return this.getAttachmentPieces().map(e=>e.attachment)}getAttachmentAndPositionById(e){let t=0;for(const s of this.pieceList.toArray()){var i;if(((i=s.attachment)===null||i===void 0?void 0:i.id)===e)return{attachment:s.attachment,position:t};t+=s.length}return{attachment:null,position:null}}getAttachmentById(e){const{attachment:t}=this.getAttachmentAndPositionById(e);return t}getRangeOfAttachment(e){const t=this.getAttachmentAndPositionById(e.id),i=t.position;if(e=t.attachment)return[i,i+1]}updateAttributesForAttachment(e,t){const i=this.getRangeOfAttachment(t);return i?this.addAttributesAtRange(e,i):this}getLength(){return this.pieceList.getEndPosition()}isEmpty(){return this.getLength()===0}isEqualTo(e){var t;return super.isEqualTo(e)||(e==null||(t=e.pieceList)===null||t===void 0?void 0:t.isEqualTo(this.pieceList))}isBlockBreak(){return this.getLength()===1&&this.pieceList.getObjectAtIndex(0).isBlockBreak()}eachPiece(e){return this.pieceList.eachObject(e)}getPieces(){return this.pieceList.toArray()}getPieceAtPosition(e){return this.pieceList.getObjectAtPosition(e)}contentsForInspection(){return{pieceList:this.pieceList.inspect()}}toSerializableText(){const e=this.pieceList.selectSplittableList(t=>t.isSerializable());return this.copyWithPieceList(e)}toString(){return this.pieceList.toString()}toJSON(){return this.pieceList.toJSON()}toConsole(){return JSON.stringify(this.pieceList.toArray().map(e=>JSON.parse(e.toConsole())))}getDirection(){return ih(this.toString())}isRTL(){return this.getDirection()==="rtl"}}class tt extends ii{static fromJSON(e){return new this(We.fromJSON(e.text),e.attributes,e.htmlAttributes)}constructor(e,t,i){super(...arguments),this.text=Xh(e||new We),this.attributes=t||[],this.htmlAttributes=i||{}}isEmpty(){return this.text.isBlockBreak()}isEqualTo(e){return!!super.isEqualTo(e)||this.text.isEqualTo(e==null?void 0:e.text)&&Qt(this.attributes,e==null?void 0:e.attributes)&&Di(this.htmlAttributes,e==null?void 0:e.htmlAttributes)}copyWithText(e){return new tt(e,this.attributes,this.htmlAttributes)}copyWithoutText(){return this.copyWithText(null)}copyWithAttributes(e){return new tt(this.text,e,this.htmlAttributes)}copyWithoutAttributes(){return this.copyWithAttributes(null)}copyUsingObjectMap(e){const t=e.find(this.text);return t?this.copyWithText(t):this.copyWithText(this.text.copyUsingObjectMap(e))}addAttribute(e){const t=this.attributes.concat(rl(e));return this.copyWithAttributes(t)}addHTMLAttribute(e,t){const i=Object.assign({},this.htmlAttributes,{[e]:t});return new tt(this.text,this.attributes,i)}removeAttribute(e){const{listAttribute:t}=Z(e),i=al(al(this.attributes,e),t);return this.copyWithAttributes(i)}removeLastAttribute(){return this.removeAttribute(this.getLastAttribute())}getLastAttribute(){return ol(this.attributes)}getAttributes(){return this.attributes.slice(0)}getAttributeLevel(){return this.attributes.length}getAttributeAtLevel(e){return this.attributes[e-1]}hasAttribute(e){return this.attributes.includes(e)}hasAttributes(){return this.getAttributeLevel()>0}getLastNestableAttribute(){return ol(this.getNestableAttributes())}getNestableAttributes(){return this.attributes.filter(e=>Z(e).nestable)}getNestingLevel(){return this.getNestableAttributes().length}decreaseNestingLevel(){const e=this.getLastNestableAttribute();return e?this.removeAttribute(e):this}increaseNestingLevel(){const e=this.getLastNestableAttribute();if(e){const t=this.attributes.lastIndexOf(e),i=Oo(this.attributes,t+1,0,...rl(e));return this.copyWithAttributes(i)}return this}getListItemAttributes(){return this.attributes.filter(e=>Z(e).listAttribute)}isListItem(){var e;return(e=Z(this.getLastAttribute()))===null||e===void 0?void 0:e.listAttribute}isTerminalBlock(){var e;return(e=Z(this.getLastAttribute()))===null||e===void 0?void 0:e.terminal}breaksOnReturn(){var e;return(e=Z(this.getLastAttribute()))===null||e===void 0?void 0:e.breakOnReturn}findLineBreakInDirectionFromPosition(e,t){const i=this.toString();let s;switch(e){case"forward":s=i.indexOf(`
`,t);break;case"backward":s=i.slice(0,t).lastIndexOf(`
`)}if(s!==-1)return s}contentsForInspection(){return{text:this.text.inspect(),attributes:this.attributes}}toString(){return this.text.toString()}toJSON(){return{text:this.text,attributes:this.attributes,htmlAttributes:this.htmlAttributes}}getDirection(){return this.text.getDirection()}isRTL(){return this.text.isRTL()}getLength(){return this.text.getLength()}canBeConsolidatedWith(e){return!this.hasAttributes()&&!e.hasAttributes()&&this.getDirection()===e.getDirection()}consolidateWith(e){const t=We.textForStringWithAttributes(`
`),i=this.getTextWithoutBlockBreak().appendText(t);return this.copyWithText(i.appendText(e.text))}splitAtOffset(e){let t,i;return e===0?(t=null,i=this):e===this.getLength()?(t=this,i=null):(t=this.copyWithText(this.text.getTextAtRange([0,e])),i=this.copyWithText(this.text.getTextAtRange([e,this.getLength()]))),[t,i]}getBlockBreakPosition(){return this.text.getLength()-1}getTextWithoutBlockBreak(){return Tc(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()}canBeGrouped(e){return this.attributes[e]}canBeGroupedWith(e,t){const i=e.getAttributes(),s=i[t],r=this.attributes[t];return r===s&&!(Z(r).group===!1&&!(()=>{if(!ts){ts=[];for(const o in ge){const{listAttribute:a}=ge[o];a!=null&&ts.push(a)}}return ts})().includes(i[t+1]))&&(this.getDirection()===e.getDirection()||e.isEmpty())}}const Xh=function(n){return n=Gh(n),n=Yh(n)},Gh=function(n){let e=!1;const t=n.getPieces();let i=t.slice(0,t.length-1);const s=t[t.length-1];return s?(i=i.map(r=>r.isBlockBreak()?(e=!0,Zh(r)):r),e?new We([...i,s]):n):n},Qh=We.textForStringWithAttributes(`
`,{blockBreak:!0}),Yh=function(n){return Tc(n)?n:n.appendText(Qh)},Tc=function(n){const e=n.getLength();return e===0?!1:n.getTextAtRange([e-1,e]).isBlockBreak()},Zh=n=>n.copyWithoutAttribute("blockBreak"),rl=function(n){const{listAttribute:e}=Z(n);return e?[e,n]:[n]},ol=n=>n.slice(-1)[0],al=function(n,e){const t=n.lastIndexOf(e);return t===-1?n:Oo(n,t,1)};let De=class extends ii{static fromJSON(e){return new this(Array.from(e).map(t=>tt.fromJSON(t)))}static fromString(e,t){const i=We.textForStringWithAttributes(e,t);return new this([new tt(i)])}constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),e.length===0&&(e=[new tt]),this.blockList=Ls.box(e)}isEmpty(){const e=this.getBlockAtIndex(0);return this.blockList.length===1&&e.isEmpty()&&!e.hasAttributes()}copy(){const e=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray();return new this.constructor(e)}copyUsingObjectsFromDocument(e){const t=new dh(e.getObjects());return this.copyUsingObjectMap(t)}copyUsingObjectMap(e){const t=this.getBlocks().map(i=>e.find(i)||i.copyUsingObjectMap(e));return new this.constructor(t)}copyWithBaseBlockAttributes(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const t=this.getBlocks().map(i=>{const s=e.concat(i.getAttributes());return i.copyWithAttributes(s)});return new this.constructor(t)}replaceBlock(e,t){const i=this.blockList.indexOf(e);return i===-1?this:new this.constructor(this.blockList.replaceObjectAtIndex(t,i))}insertDocumentAtRange(e,t){const{blockList:i}=e;t=F(t);let[s]=t;const{index:r,offset:o}=this.locationFromPosition(s);let a=this;const l=this.getBlockAtPosition(s);return bt(t)&&l.isEmpty()&&!l.hasAttributes()?a=new this.constructor(a.blockList.removeObjectAtIndex(r)):l.getBlockBreakPosition()===o&&s++,a=a.removeTextAtRange(t),new this.constructor(a.blockList.insertSplittableListAtPosition(i,s))}mergeDocumentAtRange(e,t){let i,s;t=F(t);const[r]=t,o=this.locationFromPosition(r),a=this.getBlockAtIndex(o.index).getAttributes(),l=e.getBaseBlockAttributes(),c=a.slice(-l.length);if(Qt(l,c)){const f=a.slice(0,-l.length);i=e.copyWithBaseBlockAttributes(f)}else i=e.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(a);const u=i.getBlockCount(),h=i.getBlockAtIndex(0);if(Qt(a,h.getAttributes())){const f=h.getTextWithoutBlockBreak();if(s=this.insertTextAtRange(f,t),u>1){i=new this.constructor(i.getBlocks().slice(1));const g=r+f.getLength();s=s.insertDocumentAtRange(i,g)}}else s=this.insertDocumentAtRange(i,t);return s}insertTextAtRange(e,t){t=F(t);const[i]=t,{index:s,offset:r}=this.locationFromPosition(i),o=this.removeTextAtRange(t);return new this.constructor(o.blockList.editObjectAtIndex(s,a=>a.copyWithText(a.text.insertTextAtPosition(e,r))))}removeTextAtRange(e){let t;e=F(e);const[i,s]=e;if(bt(e))return this;const[r,o]=Array.from(this.locationRangeFromRange(e)),a=r.index,l=r.offset,c=this.getBlockAtIndex(a),u=o.index,h=o.offset,f=this.getBlockAtIndex(u);if(s-i==1&&c.getBlockBreakPosition()===l&&f.getBlockBreakPosition()!==h&&f.text.getStringAtPosition(h)===`
`)t=this.blockList.editObjectAtIndex(u,g=>g.copyWithText(g.text.removeTextAtRange([h,h+1])));else{let g;const b=c.text.getTextAtRange([0,l]),y=f.text.getTextAtRange([h,f.getLength()]),p=b.appendText(y);g=a!==u&&l===0&&c.getAttributeLevel()>=f.getAttributeLevel()?f.copyWithText(p):c.copyWithText(p);const v=u+1-a;t=this.blockList.splice(a,v,g)}return new this.constructor(t)}moveTextFromRangeToPosition(e,t){let i;e=F(e);const[s,r]=e;if(s<=t&&t<=r)return this;let o=this.getDocumentAtRange(e),a=this.removeTextAtRange(e);const l=s<t;l&&(t-=o.getLength());const[c,...u]=o.getBlocks();return u.length===0?(i=c.getTextWithoutBlockBreak(),l&&(t+=1)):i=c.text,a=a.insertTextAtRange(i,t),u.length===0?a:(o=new this.constructor(u),t+=i.getLength(),a.insertDocumentAtRange(o,t))}addAttributeAtRange(e,t,i){let{blockList:s}=this;return this.eachBlockAtRange(i,(r,o,a)=>s=s.editObjectAtIndex(a,function(){return Z(e)?r.addAttribute(e,t):o[0]===o[1]?r:r.copyWithText(r.text.addAttributeAtRange(e,t,o))})),new this.constructor(s)}addAttribute(e,t){let{blockList:i}=this;return this.eachBlock((s,r)=>i=i.editObjectAtIndex(r,()=>s.addAttribute(e,t))),new this.constructor(i)}removeAttributeAtRange(e,t){let{blockList:i}=this;return this.eachBlockAtRange(t,function(s,r,o){Z(e)?i=i.editObjectAtIndex(o,()=>s.removeAttribute(e)):r[0]!==r[1]&&(i=i.editObjectAtIndex(o,()=>s.copyWithText(s.text.removeAttributeAtRange(e,r))))}),new this.constructor(i)}updateAttributesForAttachment(e,t){const i=this.getRangeOfAttachment(t),[s]=Array.from(i),{index:r}=this.locationFromPosition(s),o=this.getTextAtIndex(r);return new this.constructor(this.blockList.editObjectAtIndex(r,a=>a.copyWithText(o.updateAttributesForAttachment(e,t))))}removeAttributeForAttachment(e,t){const i=this.getRangeOfAttachment(t);return this.removeAttributeAtRange(e,i)}setHTMLAttributeAtPosition(e,t,i){const s=this.getBlockAtPosition(e),r=s.addHTMLAttribute(t,i);return this.replaceBlock(s,r)}insertBlockBreakAtRange(e){let t;e=F(e);const[i]=e,{offset:s}=this.locationFromPosition(i),r=this.removeTextAtRange(e);return s===0&&(t=[new tt]),new this.constructor(r.blockList.insertSplittableListAtPosition(new Ls(t),i))}applyBlockAttributeAtRange(e,t,i){const s=this.expandRangeToLineBreaksAndSplitBlocks(i);let r=s.document;i=s.range;const o=Z(e);if(o.listAttribute){r=r.removeLastListAttributeAtRange(i,{exceptAttributeName:e});const a=r.convertLineBreaksToBlockBreaksInRange(i);r=a.document,i=a.range}else r=o.exclusive?r.removeBlockAttributesAtRange(i):o.terminal?r.removeLastTerminalAttributeAtRange(i):r.consolidateBlocksAtRange(i);return r.addAttributeAtRange(e,t,i)}removeLastListAttributeAtRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{blockList:i}=this;return this.eachBlockAtRange(e,function(s,r,o){const a=s.getLastAttribute();a&&Z(a).listAttribute&&a!==t.exceptAttributeName&&(i=i.editObjectAtIndex(o,()=>s.removeAttribute(a)))}),new this.constructor(i)}removeLastTerminalAttributeAtRange(e){let{blockList:t}=this;return this.eachBlockAtRange(e,function(i,s,r){const o=i.getLastAttribute();o&&Z(o).terminal&&(t=t.editObjectAtIndex(r,()=>i.removeAttribute(o)))}),new this.constructor(t)}removeBlockAttributesAtRange(e){let{blockList:t}=this;return this.eachBlockAtRange(e,function(i,s,r){i.hasAttributes()&&(t=t.editObjectAtIndex(r,()=>i.copyWithoutAttributes()))}),new this.constructor(t)}expandRangeToLineBreaksAndSplitBlocks(e){let t;e=F(e);let[i,s]=e;const r=this.locationFromPosition(i),o=this.locationFromPosition(s);let a=this;const l=a.getBlockAtIndex(r.index);if(r.offset=l.findLineBreakInDirectionFromPosition("backward",r.offset),r.offset!=null&&(t=a.positionFromLocation(r),a=a.insertBlockBreakAtRange([t,t+1]),o.index+=1,o.offset-=a.getBlockAtIndex(r.index).getLength(),r.index+=1),r.offset=0,o.offset===0&&o.index>r.index)o.index-=1,o.offset=a.getBlockAtIndex(o.index).getBlockBreakPosition();else{const c=a.getBlockAtIndex(o.index);c.text.getStringAtRange([o.offset-1,o.offset])===`
`?o.offset-=1:o.offset=c.findLineBreakInDirectionFromPosition("forward",o.offset),o.offset!==c.getBlockBreakPosition()&&(t=a.positionFromLocation(o),a=a.insertBlockBreakAtRange([t,t+1]))}return i=a.positionFromLocation(r),s=a.positionFromLocation(o),{document:a,range:e=F([i,s])}}convertLineBreaksToBlockBreaksInRange(e){e=F(e);let[t]=e;const i=this.getStringAtRange(e).slice(0,-1);let s=this;return i.replace(/.*?\n/g,function(r){t+=r.length,s=s.insertBlockBreakAtRange([t-1,t])}),{document:s,range:e}}consolidateBlocksAtRange(e){e=F(e);const[t,i]=e,s=this.locationFromPosition(t).index,r=this.locationFromPosition(i).index;return new this.constructor(this.blockList.consolidateFromIndexToIndex(s,r))}getDocumentAtRange(e){e=F(e);const t=this.blockList.getSplittableListInRange(e).toArray();return new this.constructor(t)}getStringAtRange(e){let t;const i=e=F(e);return i[i.length-1]!==this.getLength()&&(t=-1),this.getDocumentAtRange(e).toString().slice(0,t)}getBlockAtIndex(e){return this.blockList.getObjectAtIndex(e)}getBlockAtPosition(e){const{index:t}=this.locationFromPosition(e);return this.getBlockAtIndex(t)}getTextAtIndex(e){var t;return(t=this.getBlockAtIndex(e))===null||t===void 0?void 0:t.text}getTextAtPosition(e){const{index:t}=this.locationFromPosition(e);return this.getTextAtIndex(t)}getPieceAtPosition(e){const{index:t,offset:i}=this.locationFromPosition(e);return this.getTextAtIndex(t).getPieceAtPosition(i)}getCharacterAtPosition(e){const{index:t,offset:i}=this.locationFromPosition(e);return this.getTextAtIndex(t).getStringAtRange([i,i+1])}getLength(){return this.blockList.getEndPosition()}getBlocks(){return this.blockList.toArray()}getBlockCount(){return this.blockList.length}getEditCount(){return this.editCount}eachBlock(e){return this.blockList.eachObject(e)}eachBlockAtRange(e,t){let i,s;e=F(e);const[r,o]=e,a=this.locationFromPosition(r),l=this.locationFromPosition(o);if(a.index===l.index)return i=this.getBlockAtIndex(a.index),s=[a.offset,l.offset],t(i,s,a.index);for(let c=a.index;c<=l.index;c++)if(i=this.getBlockAtIndex(c),i){switch(c){case a.index:s=[a.offset,i.text.getLength()];break;case l.index:s=[0,l.offset];break;default:s=[0,i.text.getLength()]}t(i,s,c)}}getCommonAttributesAtRange(e){e=F(e);const[t]=e;if(bt(e))return this.getCommonAttributesAtPosition(t);{const i=[],s=[];return this.eachBlockAtRange(e,function(r,o){if(o[0]!==o[1])return i.push(r.text.getCommonAttributesAtRange(o)),s.push(ll(r))}),Ee.fromCommonAttributesOfObjects(i).merge(Ee.fromCommonAttributesOfObjects(s)).toObject()}}getCommonAttributesAtPosition(e){let t,i;const{index:s,offset:r}=this.locationFromPosition(e),o=this.getBlockAtIndex(s);if(!o)return{};const a=ll(o),l=o.text.getAttributesAtPosition(r),c=o.text.getAttributesAtPosition(r-1),u=Object.keys(Gt).filter(h=>Gt[h].inheritable);for(t in c)i=c[t],(i===l[t]||u.includes(t))&&(a[t]=i);return a}getRangeOfCommonAttributeAtPosition(e,t){const{index:i,offset:s}=this.locationFromPosition(t),r=this.getTextAtIndex(i),[o,a]=Array.from(r.getExpandedRangeForAttributeAtOffset(e,s)),l=this.positionFromLocation({index:i,offset:o}),c=this.positionFromLocation({index:i,offset:a});return F([l,c])}getBaseBlockAttributes(){let e=this.getBlockAtIndex(0).getAttributes();for(let t=1;t<this.getBlockCount();t++){const i=this.getBlockAtIndex(t).getAttributes(),s=Math.min(e.length,i.length);e=(()=>{const r=[];for(let o=0;o<s&&i[o]===e[o];o++)r.push(i[o]);return r})()}return e}getAttachmentById(e){for(const t of this.getAttachments())if(t.id===e)return t}getAttachmentPieces(){let e=[];return this.blockList.eachObject(t=>{let{text:i}=t;return e=e.concat(i.getAttachmentPieces())}),e}getAttachments(){return this.getAttachmentPieces().map(e=>e.attachment)}getRangeOfAttachment(e){let t=0;const i=this.blockList.toArray();for(let s=0;s<i.length;s++){const{text:r}=i[s],o=r.getRangeOfAttachment(e);if(o)return F([t+o[0],t+o[1]]);t+=r.getLength()}}getLocationRangeOfAttachment(e){const t=this.getRangeOfAttachment(e);return this.locationRangeFromRange(t)}getAttachmentPieceForAttachment(e){for(const t of this.getAttachmentPieces())if(t.attachment===e)return t}findRangesForBlockAttribute(e){let t=0;const i=[];return this.getBlocks().forEach(s=>{const r=s.getLength();s.hasAttribute(e)&&i.push([t,t+r]),t+=r}),i}findRangesForTextAttribute(e){let{withValue:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=0,s=[];const r=[];return this.getPieces().forEach(o=>{const a=o.getLength();(function(l){return t?l.getAttribute(e)===t:l.hasAttribute(e)})(o)&&(s[1]===i?s[1]=i+a:r.push(s=[i,i+a])),i+=a}),r}locationFromPosition(e){const t=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,e));if(t.index!=null)return t;{const i=this.getBlocks();return{index:i.length-1,offset:i[i.length-1].getLength()}}}positionFromLocation(e){return this.blockList.findPositionAtIndexAndOffset(e.index,e.offset)}locationRangeFromPosition(e){return F(this.locationFromPosition(e))}locationRangeFromRange(e){if(!(e=F(e)))return;const[t,i]=Array.from(e),s=this.locationFromPosition(t),r=this.locationFromPosition(i);return F([s,r])}rangeFromLocationRange(e){let t;e=F(e);const i=this.positionFromLocation(e[0]);return bt(e)||(t=this.positionFromLocation(e[1])),F([i,t])}isEqualTo(e){return this.blockList.isEqualTo(e==null?void 0:e.blockList)}getTexts(){return this.getBlocks().map(e=>e.text)}getPieces(){const e=[];return Array.from(this.getTexts()).forEach(t=>{e.push(...Array.from(t.getPieces()||[]))}),e}getObjects(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())}toSerializableDocument(){const e=[];return this.blockList.eachObject(t=>e.push(t.copyWithText(t.text.toSerializableText()))),new this.constructor(e)}toString(){return this.blockList.toString()}toJSON(){return this.blockList.toJSON()}toConsole(){return JSON.stringify(this.blockList.toArray().map(e=>JSON.parse(e.text.toConsole())))}};const ll=function(n){const e={},t=n.getLastAttribute();return t&&(e[t]=!0),e},wr=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return{string:n=rn(n),attributes:e,type:"string"}},cl=(n,e)=>{try{return JSON.parse(n.getAttribute("data-trix-".concat(e)))}catch{return{}}};class vn extends te{static parse(e,t){const i=new this(e,t);return i.parse(),i}constructor(e){let{referenceElement:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(...arguments),this.html=e,this.referenceElement=t,this.blocks=[],this.blockElements=[],this.processedElements=[]}getDocument(){return De.fromJSON(this.blocks)}parse(){try{this.createHiddenContainer(),Ms.setHTML(this.containerElement,this.html);const e=xs(this.containerElement,{usingFilter:tf});for(;e.nextNode();)this.processNode(e.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}}createHiddenContainer(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute("id"),this.containerElement.setAttribute("data-trix-internal",""),this.containerElement.style.display="none",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=R({tagName:"div",style:{display:"none"}}),document.body.appendChild(this.containerElement))}removeHiddenContainer(){return Tt(this.containerElement)}processNode(e){switch(e.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(e))return this.appendBlockForTextNode(e),this.processTextNode(e);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(e),this.processElement(e)}}appendBlockForTextNode(e){const t=e.parentNode;if(t===this.currentBlockElement&&this.isBlockElement(e.previousSibling))return this.appendStringWithAttributes(`
`);if(t===this.containerElement||this.isBlockElement(t)){var i;const s=this.getBlockAttributes(t),r=this.getBlockHTMLAttributes(t);Qt(s,(i=this.currentBlock)===null||i===void 0?void 0:i.attributes)||(this.currentBlock=this.appendBlockForAttributesWithElement(s,t,r),this.currentBlockElement=t)}}appendBlockForElement(e){const t=this.isBlockElement(e),i=$t(this.currentBlockElement,e);if(t&&!this.isBlockElement(e.firstChild)){if(!this.isInsignificantTextNode(e.firstChild)||!this.isBlockElement(e.firstElementChild)){const s=this.getBlockAttributes(e),r=this.getBlockHTMLAttributes(e);if(e.firstChild){if(i&&Qt(s,this.currentBlock.attributes))return this.appendStringWithAttributes(`
`);this.currentBlock=this.appendBlockForAttributesWithElement(s,e,r),this.currentBlockElement=e}}}else if(this.currentBlockElement&&!i&&!t){const s=this.findParentBlockElement(e);if(s)return this.appendBlockForElement(s);this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null}}findParentBlockElement(e){let{parentElement:t}=e;for(;t&&t!==this.containerElement;){if(this.isBlockElement(t)&&this.blockElements.includes(t))return t;t=t.parentElement}return null}processTextNode(e){let t=e.data;var i;return ul(e.parentNode)||(t=Mo(t),kc((i=e.previousSibling)===null||i===void 0?void 0:i.textContent)&&(t=nf(t))),this.appendStringWithAttributes(t,this.getTextAttributes(e.parentNode))}processElement(e){let t;if(jt(e)){if(t=cl(e,"attachment"),Object.keys(t).length){const i=this.getTextAttributes(e);this.appendAttachmentWithAttributes(t,i),e.innerHTML=""}return this.processedElements.push(e)}switch(me(e)){case"br":return this.isExtraBR(e)||this.isBlockElement(e.nextSibling)||this.appendStringWithAttributes(`
`,this.getTextAttributes(e)),this.processedElements.push(e);case"img":t={url:e.getAttribute("src"),contentType:"image"};const i=(s=>{const r=s.getAttribute("width"),o=s.getAttribute("height"),a={};return r&&(a.width=parseInt(r,10)),o&&(a.height=parseInt(o,10)),a})(e);for(const s in i){const r=i[s];t[s]=r}return this.appendAttachmentWithAttributes(t,this.getTextAttributes(e)),this.processedElements.push(e);case"tr":if(this.needsTableSeparator(e))return this.appendStringWithAttributes(fs.tableRowSeparator);break;case"td":if(this.needsTableSeparator(e))return this.appendStringWithAttributes(fs.tableCellSeparator)}}appendBlockForAttributesWithElement(e,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.blockElements.push(t);const s=function(){return{text:[],attributes:arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},htmlAttributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{}}}(e,i);return this.blocks.push(s),s}appendEmptyBlock(){return this.appendBlockForAttributesWithElement([],null)}appendStringWithAttributes(e,t){return this.appendPiece(wr(e,t))}appendAttachmentWithAttributes(e,t){return this.appendPiece(function(i){return{attachment:i,attributes:arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},type:"attachment"}}(e,t))}appendPiece(e){return this.blocks.length===0&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(e)}appendStringToTextAtIndex(e,t){const{text:i}=this.blocks[t],s=i[i.length-1];if((s==null?void 0:s.type)!=="string")return i.push(wr(e));s.string+=e}prependStringToTextAtIndex(e,t){const{text:i}=this.blocks[t],s=i[0];if((s==null?void 0:s.type)!=="string")return i.unshift(wr(e));s.string=e+s.string}getTextAttributes(e){let t;const i={};for(const s in Gt){const r=Gt[s];if(r.tagName&&Lt(e,{matchingSelector:r.tagName,untilNode:this.containerElement}))i[s]=!0;else if(r.parser){if(t=r.parser(e),t){let o=!1;for(const a of this.findBlockElementAncestors(e))if(r.parser(a)===t){o=!0;break}o||(i[s]=t)}}else r.styleProperty&&(t=e.style[r.styleProperty],t&&(i[s]=t))}if(jt(e)){const s=cl(e,"attributes");for(const r in s)t=s[r],i[r]=t}return i}getBlockAttributes(e){const t=[];for(;e&&e!==this.containerElement;){for(const s in ge){const r=ge[s];var i;r.parse!==!1&&me(e)===r.tagName&&((i=r.test)!==null&&i!==void 0&&i.call(r,e)||!r.test)&&(t.push(s),r.listAttribute&&t.push(r.listAttribute))}e=e.parentNode}return t.reverse()}getBlockHTMLAttributes(e){const t={},i=Object.values(ge).find(s=>s.tagName===me(e));return((i==null?void 0:i.htmlAttributes)||[]).forEach(s=>{e.hasAttribute(s)&&(t[s]=e.getAttribute(s))}),t}findBlockElementAncestors(e){const t=[];for(;e&&e!==this.containerElement;){const i=me(e);ln().includes(i)&&t.push(e),e=e.parentNode}return t}isBlockElement(e){if((e==null?void 0:e.nodeType)===Node.ELEMENT_NODE&&!jt(e)&&!Lt(e,{matchingSelector:"td",untilNode:this.containerElement}))return ln().includes(me(e))||window.getComputedStyle(e).display==="block"}isInsignificantTextNode(e){if((e==null?void 0:e.nodeType)!==Node.TEXT_NODE||!sf(e.data))return;const{parentNode:t,previousSibling:i,nextSibling:s}=e;return ef(t.previousSibling)&&!this.isBlockElement(t.previousSibling)||ul(t)?void 0:!i||this.isBlockElement(i)||!s||this.isBlockElement(s)}isExtraBR(e){return me(e)==="br"&&this.isBlockElement(e.parentNode)&&e.parentNode.lastChild===e}needsTableSeparator(e){if(fs.removeBlankTableCells){var t;const i=(t=e.previousSibling)===null||t===void 0?void 0:t.textContent;return i&&/\S/.test(i)}return e.previousSibling}translateBlockElementMarginsToNewlines(){const e=this.getMarginOfDefaultBlockElement();for(let t=0;t<this.blocks.length;t++){const i=this.getMarginOfBlockElementAtIndex(t);i&&(i.top>2*e.top&&this.prependStringToTextAtIndex(`
`,t),i.bottom>2*e.bottom&&this.appendStringToTextAtIndex(`
`,t))}}getMarginOfBlockElementAtIndex(e){const t=this.blockElements[e];if(t&&t.textContent&&!ln().includes(me(t))&&!this.processedElements.includes(t))return dl(t)}getMarginOfDefaultBlockElement(){const e=R(ge.default.tagName);return this.containerElement.appendChild(e),dl(e)}}const ul=function(n){const{whiteSpace:e}=window.getComputedStyle(n);return["pre","pre-wrap","pre-line"].includes(e)},ef=n=>n&&!kc(n.textContent),dl=function(n){const e=window.getComputedStyle(n);if(e.display==="block")return{top:parseInt(e.marginTop),bottom:parseInt(e.marginBottom)}},tf=function(n){return me(n)==="style"?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},nf=n=>n.replace(new RegExp("^".concat(Bo.source,"+")),""),sf=n=>new RegExp("^".concat(Bo.source,"*$")).test(n),kc=n=>/\s$/.test(n),rf=["contenteditable","data-trix-id","data-trix-store-key","data-trix-mutable","data-trix-placeholder","tabindex"],Xr="data-trix-serialized-attributes",of="[".concat(Xr,"]"),af=new RegExp("<!--block-->","g"),lf={"application/json":function(n){let e;if(n instanceof De)e=n;else{if(!(n instanceof HTMLElement))throw new Error("unserializable object");e=vn.parse(n.innerHTML).getDocument()}return e.toSerializableDocument().toJSONString()},"text/html":function(n){let e;if(n instanceof De)e=Fs.render(n);else{if(!(n instanceof HTMLElement))throw new Error("unserializable object");e=n.cloneNode(!0)}return Array.from(e.querySelectorAll("[data-trix-serialize=false]")).forEach(t=>{Tt(t)}),rf.forEach(t=>{Array.from(e.querySelectorAll("[".concat(t,"]"))).forEach(i=>{i.removeAttribute(t)})}),Array.from(e.querySelectorAll(of)).forEach(t=>{try{const i=JSON.parse(t.getAttribute(Xr));t.removeAttribute(Xr);for(const s in i){const r=i[s];t.setAttribute(s,r)}}catch{}}),e.innerHTML.replace(af,"")}};var cf=Object.freeze({__proto__:null});class Y extends te{constructor(e,t){super(...arguments),this.attachmentManager=e,this.attachment=t,this.id=this.attachment.id,this.file=this.attachment.file}remove(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)}}Y.proxyMethod("attachment.getAttribute"),Y.proxyMethod("attachment.hasAttribute"),Y.proxyMethod("attachment.setAttribute"),Y.proxyMethod("attachment.getAttributes"),Y.proxyMethod("attachment.setAttributes"),Y.proxyMethod("attachment.isPending"),Y.proxyMethod("attachment.isPreviewable"),Y.proxyMethod("attachment.getURL"),Y.proxyMethod("attachment.getHref"),Y.proxyMethod("attachment.getFilename"),Y.proxyMethod("attachment.getFilesize"),Y.proxyMethod("attachment.getFormattedFilesize"),Y.proxyMethod("attachment.getExtension"),Y.proxyMethod("attachment.getContentType"),Y.proxyMethod("attachment.getFile"),Y.proxyMethod("attachment.setFile"),Y.proxyMethod("attachment.releaseFile"),Y.proxyMethod("attachment.getUploadProgress"),Y.proxyMethod("attachment.setUploadProgress");class Ic extends te{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];super(...arguments),this.managedAttachments={},Array.from(e).forEach(t=>{this.manageAttachment(t)})}getAttachments(){const e=[];for(const t in this.managedAttachments){const i=this.managedAttachments[t];e.push(i)}return e}manageAttachment(e){return this.managedAttachments[e.id]||(this.managedAttachments[e.id]=new Y(this,e)),this.managedAttachments[e.id]}attachmentIsManaged(e){return e.id in this.managedAttachments}requestRemovalOfAttachment(e){var t,i;if(this.attachmentIsManaged(e))return(t=this.delegate)===null||t===void 0||(i=t.attachmentManagerDidRequestRemovalOfAttachment)===null||i===void 0?void 0:i.call(t,e)}unmanageAttachment(e){const t=this.managedAttachments[e.id];return delete this.managedAttachments[e.id],t}}class Rc{constructor(e){this.composition=e,this.document=this.composition.document;const t=this.composition.getSelectedRange();this.startPosition=t[0],this.endPosition=t[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}shouldInsertBlockBreak(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?this.startLocation.offset!==0:this.breaksOnReturn&&this.nextCharacter!==`
`}shouldBreakFormattedBlock(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&this.nextCharacter===`
`||this.previousCharacter===`
`)}shouldDecreaseListLevel(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()}shouldPrependListItem(){return this.block.isListItem()&&this.startLocation.offset===0&&!this.block.isEmpty()}shouldRemoveLastBlockAttribute(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()}}class At extends te{constructor(){super(...arguments),this.document=new De,this.attachments=[],this.currentAttributes={},this.revision=0}setDocument(e){var t,i;if(!e.isEqualTo(this.document))return this.document=e,this.refreshAttachments(),this.revision++,(t=this.delegate)===null||t===void 0||(i=t.compositionDidChangeDocument)===null||i===void 0?void 0:i.call(t,e)}getSnapshot(){return{document:this.document,selectedRange:this.getSelectedRange()}}loadSnapshot(e){var t,i,s,r;let{document:o,selectedRange:a}=e;return(t=this.delegate)===null||t===void 0||(i=t.compositionWillLoadSnapshot)===null||i===void 0||i.call(t),this.setDocument(o??new De),this.setSelection(a??[0,0]),(s=this.delegate)===null||s===void 0||(r=s.compositionDidLoadSnapshot)===null||r===void 0?void 0:r.call(s)}insertText(e){let{updatePosition:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{updatePosition:!0};const i=this.getSelectedRange();this.setDocument(this.document.insertTextAtRange(e,i));const s=i[0],r=s+e.getLength();return t&&this.setSelection(r),this.notifyDelegateOfInsertionAtRange([s,r])}insertBlock(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new tt;const t=new De([e]);return this.insertDocument(t)}insertDocument(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new De;const t=this.getSelectedRange();this.setDocument(this.document.insertDocumentAtRange(e,t));const i=t[0],s=i+e.getLength();return this.setSelection(s),this.notifyDelegateOfInsertionAtRange([i,s])}insertString(e,t){const i=this.getCurrentTextAttributes(),s=We.textForStringWithAttributes(e,i);return this.insertText(s,t)}insertBlockBreak(){const e=this.getSelectedRange();this.setDocument(this.document.insertBlockBreakAtRange(e));const t=e[0],i=t+1;return this.setSelection(i),this.notifyDelegateOfInsertionAtRange([t,i])}insertLineBreak(){const e=new Rc(this);if(e.shouldDecreaseListLevel())return this.decreaseListLevel(),this.setSelection(e.startPosition);if(e.shouldPrependListItem()){const t=new De([e.block.copyWithoutText()]);return this.insertDocument(t)}return e.shouldInsertBlockBreak()?this.insertBlockBreak():e.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():e.shouldBreakFormattedBlock()?this.breakFormattedBlock(e):this.insertString(`
`)}insertHTML(e){const t=vn.parse(e).getDocument(),i=this.getSelectedRange();this.setDocument(this.document.mergeDocumentAtRange(t,i));const s=i[0],r=s+t.getLength()-1;return this.setSelection(r),this.notifyDelegateOfInsertionAtRange([s,r])}replaceHTML(e){const t=vn.parse(e).getDocument().copyUsingObjectsFromDocument(this.document),i=this.getLocationRange({strict:!1}),s=this.document.rangeFromLocationRange(i);return this.setDocument(t),this.setSelection(s)}insertFile(e){return this.insertFiles([e])}insertFiles(e){const t=[];return Array.from(e).forEach(i=>{var s;if((s=this.delegate)!==null&&s!==void 0&&s.compositionShouldAcceptFile(i)){const r=Pi.attachmentForFile(i);t.push(r)}}),this.insertAttachments(t)}insertAttachment(e){return this.insertAttachments([e])}insertAttachments(e){let t=new We;return Array.from(e).forEach(i=>{var s;const r=i.getType(),o=(s=Io[r])===null||s===void 0?void 0:s.presentation,a=this.getCurrentTextAttributes();o&&(a.presentation=o);const l=We.textForAttachmentWithAttributes(i,a);t=t.appendText(l)}),this.insertText(t)}shouldManageDeletingInDirection(e){const t=this.getLocationRange();if(bt(t)){if(e==="backward"&&t[0].offset===0||this.shouldManageMovingCursorInDirection(e))return!0}else if(t[0].index!==t[1].index)return!0;return!1}deleteInDirection(e){let t,i,s,{length:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=this.getLocationRange();let a=this.getSelectedRange();const l=bt(a);if(l?i=e==="backward"&&o[0].offset===0:s=o[0].index!==o[1].index,i&&this.canDecreaseBlockAttributeLevel()){const c=this.getBlock();if(c.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(a[0]),c.isEmpty())return!1}return l&&(a=this.getExpandedRangeInDirection(e,{length:r}),e==="backward"&&(t=this.getAttachmentAtRange(a))),t?(this.editAttachment(t),!1):(this.setDocument(this.document.removeTextAtRange(a)),this.setSelection(a[0]),!i&&!s&&void 0)}moveTextFromRange(e){const[t]=Array.from(this.getSelectedRange());return this.setDocument(this.document.moveTextFromRangeToPosition(e,t)),this.setSelection(t)}removeAttachment(e){const t=this.document.getRangeOfAttachment(e);if(t)return this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(t)),this.setSelection(t[0])}removeLastBlockAttribute(){const[e,t]=Array.from(this.getSelectedRange()),i=this.document.getBlockAtPosition(t);return this.removeCurrentAttribute(i.getLastAttribute()),this.setSelection(e)}insertPlaceholder(){return this.placeholderPosition=this.getPosition(),this.insertString(" ")}selectPlaceholder(){if(this.placeholderPosition!=null)return this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+1]),this.getSelectedRange()}forgetPlaceholder(){this.placeholderPosition=null}hasCurrentAttribute(e){const t=this.currentAttributes[e];return t!=null&&t!==!1}toggleCurrentAttribute(e){const t=!this.currentAttributes[e];return t?this.setCurrentAttribute(e,t):this.removeCurrentAttribute(e)}canSetCurrentAttribute(e){return Z(e)?this.canSetCurrentBlockAttribute(e):this.canSetCurrentTextAttribute(e)}canSetCurrentTextAttribute(e){const t=this.getSelectedDocument();if(t){for(const i of Array.from(t.getAttachments()))if(!i.hasContent())return!1;return!0}}canSetCurrentBlockAttribute(e){const t=this.getBlock();if(t)return!t.isTerminalBlock()}setCurrentAttribute(e,t){return Z(e)?this.setBlockAttribute(e,t):(this.setTextAttribute(e,t),this.currentAttributes[e]=t,this.notifyDelegateOfCurrentAttributesChange())}setHTMLAtributeAtPosition(e,t,i){var s;const r=this.document.getBlockAtPosition(e),o=(s=Z(r.getLastAttribute()))===null||s===void 0?void 0:s.htmlAttributes;if(r&&o!=null&&o.includes(t)){const a=this.document.setHTMLAttributeAtPosition(e,t,i);this.setDocument(a)}}setTextAttribute(e,t){const i=this.getSelectedRange();if(!i)return;const[s,r]=Array.from(i);if(s!==r)return this.setDocument(this.document.addAttributeAtRange(e,t,i));if(e==="href"){const o=We.textForStringWithAttributes(t,{href:t});return this.insertText(o)}}setBlockAttribute(e,t){const i=this.getSelectedRange();if(this.canSetCurrentAttribute(e))return this.setDocument(this.document.applyBlockAttributeAtRange(e,t,i)),this.setSelection(i)}removeCurrentAttribute(e){return Z(e)?(this.removeBlockAttribute(e),this.updateCurrentAttributes()):(this.removeTextAttribute(e),delete this.currentAttributes[e],this.notifyDelegateOfCurrentAttributesChange())}removeTextAttribute(e){const t=this.getSelectedRange();if(t)return this.setDocument(this.document.removeAttributeAtRange(e,t))}removeBlockAttribute(e){const t=this.getSelectedRange();if(t)return this.setDocument(this.document.removeAttributeAtRange(e,t))}canDecreaseNestingLevel(){var e;return((e=this.getBlock())===null||e===void 0?void 0:e.getNestingLevel())>0}canIncreaseNestingLevel(){var e;const t=this.getBlock();if(t){if((e=Z(t.getLastNestableAttribute()))===null||e===void 0||!e.listAttribute)return t.getNestingLevel()>0;{const i=this.getPreviousBlock();if(i)return function(){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Qt((arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).slice(0,s.length),s)}(i.getListItemAttributes(),t.getListItemAttributes())}}}decreaseNestingLevel(){const e=this.getBlock();if(e)return this.setDocument(this.document.replaceBlock(e,e.decreaseNestingLevel()))}increaseNestingLevel(){const e=this.getBlock();if(e)return this.setDocument(this.document.replaceBlock(e,e.increaseNestingLevel()))}canDecreaseBlockAttributeLevel(){var e;return((e=this.getBlock())===null||e===void 0?void 0:e.getAttributeLevel())>0}decreaseBlockAttributeLevel(){var e;const t=(e=this.getBlock())===null||e===void 0?void 0:e.getLastAttribute();if(t)return this.removeCurrentAttribute(t)}decreaseListLevel(){let[e]=Array.from(this.getSelectedRange());const{index:t}=this.document.locationFromPosition(e);let i=t;const s=this.getBlock().getAttributeLevel();let r=this.document.getBlockAtIndex(i+1);for(;r&&r.isListItem()&&!(r.getAttributeLevel()<=s);)i++,r=this.document.getBlockAtIndex(i+1);e=this.document.positionFromLocation({index:t,offset:0});const o=this.document.positionFromLocation({index:i,offset:0});return this.setDocument(this.document.removeLastListAttributeAtRange([e,o]))}updateCurrentAttributes(){const e=this.getSelectedRange({ignoreLock:!0});if(e){const t=this.document.getCommonAttributesAtRange(e);if(Array.from(Wr()).forEach(i=>{t[i]||this.canSetCurrentAttribute(i)||(t[i]=!1)}),!Di(t,this.currentAttributes))return this.currentAttributes=t,this.notifyDelegateOfCurrentAttributesChange()}}getCurrentAttributes(){return rc.call({},this.currentAttributes)}getCurrentTextAttributes(){const e={};for(const t in this.currentAttributes){const i=this.currentAttributes[t];i!==!1&&zr(t)&&(e[t]=i)}return e}freezeSelection(){return this.setCurrentAttribute("frozen",!0)}thawSelection(){return this.removeCurrentAttribute("frozen")}hasFrozenSelection(){return this.hasCurrentAttribute("frozen")}setSelection(e){var t;const i=this.document.locationRangeFromRange(e);return(t=this.delegate)===null||t===void 0?void 0:t.compositionDidRequestChangingSelectionToLocationRange(i)}getSelectedRange(){const e=this.getLocationRange();if(e)return this.document.rangeFromLocationRange(e)}setSelectedRange(e){const t=this.document.locationRangeFromRange(e);return this.getSelectionManager().setLocationRange(t)}getPosition(){const e=this.getLocationRange();if(e)return this.document.positionFromLocation(e[0])}getLocationRange(e){return this.targetLocationRange?this.targetLocationRange:this.getSelectionManager().getLocationRange(e)||F({index:0,offset:0})}withTargetLocationRange(e,t){let i;this.targetLocationRange=e;try{i=t()}finally{this.targetLocationRange=null}return i}withTargetRange(e,t){const i=this.document.locationRangeFromRange(e);return this.withTargetLocationRange(i,t)}withTargetDOMRange(e,t){const i=this.createLocationRangeFromDOMRange(e,{strict:!1});return this.withTargetLocationRange(i,t)}getExpandedRangeInDirection(e){let{length:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},[i,s]=Array.from(this.getSelectedRange());return e==="backward"?t?i-=t:i=this.translateUTF16PositionFromOffset(i,-1):t?s+=t:s=this.translateUTF16PositionFromOffset(s,1),F([i,s])}shouldManageMovingCursorInDirection(e){if(this.editingAttachment)return!0;const t=this.getExpandedRangeInDirection(e);return this.getAttachmentAtRange(t)!=null}moveCursorInDirection(e){let t,i;if(this.editingAttachment)i=this.document.getRangeOfAttachment(this.editingAttachment);else{const s=this.getSelectedRange();i=this.getExpandedRangeInDirection(e),t=!Ss(s,i)}if(e==="backward"?this.setSelectedRange(i[0]):this.setSelectedRange(i[1]),t){const s=this.getAttachmentAtRange(i);if(s)return this.editAttachment(s)}}expandSelectionInDirection(e){let{length:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=this.getExpandedRangeInDirection(e,{length:t});return this.setSelectedRange(i)}expandSelectionForEditing(){if(this.hasCurrentAttribute("href"))return this.expandSelectionAroundCommonAttribute("href")}expandSelectionAroundCommonAttribute(e){const t=this.getPosition(),i=this.document.getRangeOfCommonAttributeAtPosition(e,t);return this.setSelectedRange(i)}selectionContainsAttachments(){var e;return((e=this.getSelectedAttachments())===null||e===void 0?void 0:e.length)>0}selectionIsInCursorTarget(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())}positionIsCursorTarget(e){const t=this.document.locationFromPosition(e);if(t)return this.locationIsCursorTarget(t)}positionIsBlockBreak(e){var t;return(t=this.document.getPieceAtPosition(e))===null||t===void 0?void 0:t.isBlockBreak()}getSelectedDocument(){const e=this.getSelectedRange();if(e)return this.document.getDocumentAtRange(e)}getSelectedAttachments(){var e;return(e=this.getSelectedDocument())===null||e===void 0?void 0:e.getAttachments()}getAttachments(){return this.attachments.slice(0)}refreshAttachments(){const e=this.document.getAttachments(),{added:t,removed:i}=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const o=[],a=[],l=new Set;s.forEach(u=>{l.add(u)});const c=new Set;return r.forEach(u=>{c.add(u),l.has(u)||o.push(u)}),s.forEach(u=>{c.has(u)||a.push(u)}),{added:o,removed:a}}(this.attachments,e);return this.attachments=e,Array.from(i).forEach(s=>{var r,o;s.delegate=null,(r=this.delegate)===null||r===void 0||(o=r.compositionDidRemoveAttachment)===null||o===void 0||o.call(r,s)}),(()=>{const s=[];return Array.from(t).forEach(r=>{var o,a;r.delegate=this,s.push((o=this.delegate)===null||o===void 0||(a=o.compositionDidAddAttachment)===null||a===void 0?void 0:a.call(o,r))}),s})()}attachmentDidChangeAttributes(e){var t,i;return this.revision++,(t=this.delegate)===null||t===void 0||(i=t.compositionDidEditAttachment)===null||i===void 0?void 0:i.call(t,e)}attachmentDidChangePreviewURL(e){var t,i;return this.revision++,(t=this.delegate)===null||t===void 0||(i=t.compositionDidChangeAttachmentPreviewURL)===null||i===void 0?void 0:i.call(t,e)}editAttachment(e,t){var i,s;if(e!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=e,(i=this.delegate)===null||i===void 0||(s=i.compositionDidStartEditingAttachment)===null||s===void 0?void 0:s.call(i,this.editingAttachment,t)}stopEditingAttachment(){var e,t;this.editingAttachment&&((e=this.delegate)===null||e===void 0||(t=e.compositionDidStopEditingAttachment)===null||t===void 0||t.call(e,this.editingAttachment),this.editingAttachment=null)}updateAttributesForAttachment(e,t){return this.setDocument(this.document.updateAttributesForAttachment(e,t))}removeAttributeForAttachment(e,t){return this.setDocument(this.document.removeAttributeForAttachment(e,t))}breakFormattedBlock(e){let{document:t}=e;const{block:i}=e;let s=e.startPosition,r=[s-1,s];i.getBlockBreakPosition()===e.startLocation.offset?(i.breaksOnReturn()&&e.nextCharacter===`
`?s+=1:t=t.removeTextAtRange(r),r=[s,s]):e.nextCharacter===`
`?e.previousCharacter===`
`?r=[s-1,s+1]:(r=[s,s+1],s+=1):e.startLocation.offset-1!=0&&(s+=1);const o=new De([i.removeLastAttribute().copyWithoutText()]);return this.setDocument(t.insertDocumentAtRange(o,r)),this.setSelection(s)}getPreviousBlock(){const e=this.getLocationRange();if(e){const{index:t}=e[0];if(t>0)return this.document.getBlockAtIndex(t-1)}}getBlock(){const e=this.getLocationRange();if(e)return this.document.getBlockAtIndex(e[0].index)}getAttachmentAtRange(e){const t=this.document.getDocumentAtRange(e);if(t.toString()==="".concat("￼",`
`))return t.getAttachments()[0]}notifyDelegateOfCurrentAttributesChange(){var e,t;return(e=this.delegate)===null||e===void 0||(t=e.compositionDidChangeCurrentAttributes)===null||t===void 0?void 0:t.call(e,this.currentAttributes)}notifyDelegateOfInsertionAtRange(e){var t,i;return(t=this.delegate)===null||t===void 0||(i=t.compositionDidPerformInsertionAtRange)===null||i===void 0?void 0:i.call(t,e)}translateUTF16PositionFromOffset(e,t){const i=this.document.toUTF16String(),s=i.offsetFromUCS2Offset(e);return i.offsetToUCS2Offset(s+t)}}At.proxyMethod("getSelectionManager().getPointRange"),At.proxyMethod("getSelectionManager().setLocationRangeFromPointRange"),At.proxyMethod("getSelectionManager().createLocationRangeFromDOMRange"),At.proxyMethod("getSelectionManager().locationIsCursorTarget"),At.proxyMethod("getSelectionManager().selectionIsExpanded"),At.proxyMethod("delegate?.getSelectionManager");class Gr extends te{constructor(e){super(...arguments),this.composition=e,this.undoEntries=[],this.redoEntries=[]}recordUndoEntry(e){let{context:t,consolidatable:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const s=this.undoEntries.slice(-1)[0];if(!i||!uf(s,e,t)){const r=this.createEntry({description:e,context:t});this.undoEntries.push(r),this.redoEntries=[]}}undo(){const e=this.undoEntries.pop();if(e){const t=this.createEntry(e);return this.redoEntries.push(t),this.composition.loadSnapshot(e.snapshot)}}redo(){const e=this.redoEntries.pop();if(e){const t=this.createEntry(e);return this.undoEntries.push(t),this.composition.loadSnapshot(e.snapshot)}}canUndo(){return this.undoEntries.length>0}canRedo(){return this.redoEntries.length>0}createEntry(){let{description:e,context:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{description:e==null?void 0:e.toString(),context:JSON.stringify(t),snapshot:this.composition.getSnapshot()}}}const uf=(n,e,t)=>(n==null?void 0:n.description)===(e==null?void 0:e.toString())&&(n==null?void 0:n.context)===JSON.stringify(t),Cr="attachmentGallery";class Dc{constructor(e){this.document=e.document,this.selectedRange=e.selectedRange}perform(){return this.removeBlockAttribute(),this.applyBlockAttribute()}getSnapshot(){return{document:this.document,selectedRange:this.selectedRange}}removeBlockAttribute(){return this.findRangesOfBlocks().map(e=>this.document=this.document.removeAttributeAtRange(Cr,e))}applyBlockAttribute(){let e=0;this.findRangesOfPieces().forEach(t=>{t[1]-t[0]>1&&(t[0]+=e,t[1]+=e,this.document.getCharacterAtPosition(t[1])!==`
`&&(this.document=this.document.insertBlockBreakAtRange(t[1]),t[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),t[1]++,e++),t[0]!==0&&this.document.getCharacterAtPosition(t[0]-1)!==`
`&&(this.document=this.document.insertBlockBreakAtRange(t[0]),t[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),t[0]++,e++),this.document=this.document.applyBlockAttributeAtRange(Cr,!0,t))})}findRangesOfBlocks(){return this.document.findRangesForBlockAttribute(Cr)}findRangesOfPieces(){return this.document.findRangesForTextAttribute("presentation",{withValue:"gallery"})}moveSelectedRangeForward(){this.selectedRange[0]+=1,this.selectedRange[1]+=1}}const Pc=function(n){const e=new Dc(n);return e.perform(),e.getSnapshot()},df=[Pc];class Oc{constructor(e,t,i){this.insertFiles=this.insertFiles.bind(this),this.composition=e,this.selectionManager=t,this.element=i,this.undoManager=new Gr(this.composition),this.filters=df.slice(0)}loadDocument(e){return this.loadSnapshot({document:e,selectedRange:[0,0]})}loadHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const t=vn.parse(e,{referenceElement:this.element}).getDocument();return this.loadDocument(t)}loadJSON(e){let{document:t,selectedRange:i}=e;return t=De.fromJSON(t),this.loadSnapshot({document:t,selectedRange:i})}loadSnapshot(e){return this.undoManager=new Gr(this.composition),this.composition.loadSnapshot(e)}getDocument(){return this.composition.document}getSelectedDocument(){return this.composition.getSelectedDocument()}getSnapshot(){return this.composition.getSnapshot()}toJSON(){return this.getSnapshot()}deleteInDirection(e){return this.composition.deleteInDirection(e)}insertAttachment(e){return this.composition.insertAttachment(e)}insertAttachments(e){return this.composition.insertAttachments(e)}insertDocument(e){return this.composition.insertDocument(e)}insertFile(e){return this.composition.insertFile(e)}insertFiles(e){return this.composition.insertFiles(e)}insertHTML(e){return this.composition.insertHTML(e)}insertString(e){return this.composition.insertString(e)}insertText(e){return this.composition.insertText(e)}insertLineBreak(){return this.composition.insertLineBreak()}getSelectedRange(){return this.composition.getSelectedRange()}getPosition(){return this.composition.getPosition()}getClientRectAtPosition(e){const t=this.getDocument().locationRangeFromRange([e,e+1]);return this.selectionManager.getClientRectAtLocationRange(t)}expandSelectionInDirection(e){return this.composition.expandSelectionInDirection(e)}moveCursorInDirection(e){return this.composition.moveCursorInDirection(e)}setSelectedRange(e){return this.composition.setSelectedRange(e)}activateAttribute(e){let t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return this.composition.setCurrentAttribute(e,t)}attributeIsActive(e){return this.composition.hasCurrentAttribute(e)}canActivateAttribute(e){return this.composition.canSetCurrentAttribute(e)}deactivateAttribute(e){return this.composition.removeCurrentAttribute(e)}setHTMLAtributeAtPosition(e,t,i){this.composition.setHTMLAtributeAtPosition(e,t,i)}canDecreaseNestingLevel(){return this.composition.canDecreaseNestingLevel()}canIncreaseNestingLevel(){return this.composition.canIncreaseNestingLevel()}decreaseNestingLevel(){if(this.canDecreaseNestingLevel())return this.composition.decreaseNestingLevel()}increaseNestingLevel(){if(this.canIncreaseNestingLevel())return this.composition.increaseNestingLevel()}canRedo(){return this.undoManager.canRedo()}canUndo(){return this.undoManager.canUndo()}recordUndoEntry(e){let{context:t,consolidatable:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.undoManager.recordUndoEntry(e,{context:t,consolidatable:i})}redo(){if(this.canRedo())return this.undoManager.redo()}undo(){if(this.canUndo())return this.undoManager.undo()}}class Nc{constructor(e){this.element=e}findLocationFromContainerAndOffset(e,t){let{strict:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{strict:!0},s=0,r=!1;const o={index:0,offset:0},a=this.findAttachmentElementParentForNode(e);a&&(e=a.parentNode,t=or(a));const l=xs(this.element,{usingFilter:Bc});for(;l.nextNode();){const c=l.currentNode;if(c===e&&cn(e)){vi(c)||(o.offset+=t);break}if(c.parentNode===e){if(s++===t)break}else if(!$t(e,c)&&s>0)break;_a(c,{strict:i})?(r&&o.index++,o.offset=0,r=!0):o.offset+=xr(c)}return o}findContainerAndOffsetFromLocation(e){let t,i;if(e.index===0&&e.offset===0){for(t=this.element,i=0;t.firstChild;)if(t=t.firstChild,ar(t)){i=1;break}return[t,i]}let[s,r]=this.findNodeAndOffsetFromLocation(e);if(s){if(cn(s))xr(s)===0?(t=s.parentNode.parentNode,i=or(s.parentNode),vi(s,{name:"right"})&&i++):(t=s,i=e.offset-r);else{if(t=s.parentNode,!_a(s.previousSibling)&&!ar(t))for(;s===t.lastChild&&(s=t,t=t.parentNode,!ar(t)););i=or(s),e.offset!==0&&i++}return[t,i]}}findNodeAndOffsetFromLocation(e){let t,i,s=0;for(const r of this.getSignificantNodesForIndex(e.index)){const o=xr(r);if(e.offset<=s+o)if(cn(r)){if(t=r,i=s,e.offset===i&&vi(t))break}else t||(t=r,i=s);if(s+=o,s>e.offset)break}return[t,i]}findAttachmentElementParentForNode(e){for(;e&&e!==this.element;){if(jt(e))return e;e=e.parentNode}}getSignificantNodesForIndex(e){const t=[],i=xs(this.element,{usingFilter:hf});let s=!1;for(;i.nextNode();){const o=i.currentNode;var r;if(yi(o)){if(r!=null?r++:r=0,r===e)s=!0;else if(s)break}else s&&t.push(o)}return t}}const xr=function(n){return n.nodeType===Node.TEXT_NODE?vi(n)?0:n.textContent.length:me(n)==="br"||jt(n)?1:0},hf=function(n){return ff(n)===NodeFilter.FILTER_ACCEPT?Bc(n):NodeFilter.FILTER_REJECT},ff=function(n){return ac(n)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},Bc=function(n){return jt(n.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT};class Mc{createDOMRangeFromPoint(e){let t,{x:i,y:s}=e;if(document.caretPositionFromPoint){const{offsetNode:r,offset:o}=document.caretPositionFromPoint(i,s);return t=document.createRange(),t.setStart(r,o),t}if(document.caretRangeFromPoint)return document.caretRangeFromPoint(i,s);if(document.body.createTextRange){const r=un();try{const o=document.body.createTextRange();o.moveToPoint(i,s),o.select()}catch{}return t=un(),mc(r),t}}getClientRectsForDOMRange(e){const t=Array.from(e.getClientRects());return[t[0],t[t.length-1]]}}class Ft extends te{constructor(e){super(...arguments),this.didMouseDown=this.didMouseDown.bind(this),this.selectionDidChange=this.selectionDidChange.bind(this),this.element=e,this.locationMapper=new Nc(this.element),this.pointMapper=new Mc,this.lockCount=0,G("mousedown",{onElement:this.element,withCallback:this.didMouseDown})}getLocationRange(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.strict===!1?this.createLocationRangeFromDOMRange(un()):e.ignoreLock?this.currentLocationRange:this.lockedLocationRange?this.lockedLocationRange:this.currentLocationRange}setLocationRange(e){if(this.lockedLocationRange)return;e=F(e);const t=this.createDOMRangeFromLocationRange(e);t&&(mc(t),this.updateCurrentLocationRange(e))}setLocationRangeFromPointRange(e){e=F(e);const t=this.getLocationAtPoint(e[0]),i=this.getLocationAtPoint(e[1]);this.setLocationRange([t,i])}getClientRectAtLocationRange(e){const t=this.createDOMRangeFromLocationRange(e);if(t)return this.getClientRectsForDOMRange(t)[1]}locationIsCursorTarget(e){const t=Array.from(this.findNodeAndOffsetFromLocation(e))[0];return vi(t)}lock(){this.lockCount++==0&&(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange())}unlock(){if(--this.lockCount==0){const{lockedLocationRange:e}=this;if(this.lockedLocationRange=null,e!=null)return this.setLocationRange(e)}}clearSelection(){var e;return(e=pc())===null||e===void 0?void 0:e.removeAllRanges()}selectionIsCollapsed(){var e;return((e=un())===null||e===void 0?void 0:e.collapsed)===!0}selectionIsExpanded(){return!this.selectionIsCollapsed()}createLocationRangeFromDOMRange(e,t){if(e==null||!this.domRangeWithinElement(e))return;const i=this.findLocationFromContainerAndOffset(e.startContainer,e.startOffset,t);if(!i)return;const s=e.collapsed?void 0:this.findLocationFromContainerAndOffset(e.endContainer,e.endOffset,t);return F([i,s])}didMouseDown(){return this.pauseTemporarily()}pauseTemporarily(){let e;this.paused=!0;const t=()=>{if(this.paused=!1,clearTimeout(i),Array.from(e).forEach(s=>{s.destroy()}),$t(document,this.element))return this.selectionDidChange()},i=setTimeout(t,200);e=["mousemove","keydown"].map(s=>G(s,{onElement:document,withCallback:t}))}selectionDidChange(){if(!this.paused&&!Do(this.element))return this.updateCurrentLocationRange()}updateCurrentLocationRange(e){var t,i;if((e??(e=this.createLocationRangeFromDOMRange(un())))&&!Ss(e,this.currentLocationRange))return this.currentLocationRange=e,(t=this.delegate)===null||t===void 0||(i=t.locationRangeDidChange)===null||i===void 0?void 0:i.call(t,this.currentLocationRange.slice(0))}createDOMRangeFromLocationRange(e){const t=this.findContainerAndOffsetFromLocation(e[0]),i=bt(e)?t:this.findContainerAndOffsetFromLocation(e[1])||t;if(t!=null&&i!=null){const s=document.createRange();return s.setStart(...Array.from(t||[])),s.setEnd(...Array.from(i||[])),s}}getLocationAtPoint(e){const t=this.createDOMRangeFromPoint(e);var i;if(t)return(i=this.createLocationRangeFromDOMRange(t))===null||i===void 0?void 0:i[0]}domRangeWithinElement(e){return e.collapsed?$t(this.element,e.startContainer):$t(this.element,e.startContainer)&&$t(this.element,e.endContainer)}}Ft.proxyMethod("locationMapper.findLocationFromContainerAndOffset"),Ft.proxyMethod("locationMapper.findContainerAndOffsetFromLocation"),Ft.proxyMethod("locationMapper.findNodeAndOffsetFromLocation"),Ft.proxyMethod("pointMapper.createDOMRangeFromPoint"),Ft.proxyMethod("pointMapper.getClientRectsForDOMRange");var Fc=Object.freeze({__proto__:null,Attachment:Pi,AttachmentManager:Ic,AttachmentPiece:wi,Block:tt,Composition:At,Document:De,Editor:Oc,HTMLParser:vn,HTMLSanitizer:Ms,LineBreakInsertion:Rc,LocationMapper:Nc,ManagedAttachment:Y,Piece:si,PointMapper:Mc,SelectionManager:Ft,SplittableList:Ls,StringPiece:qo,Text:We,UndoManager:Gr}),pf=Object.freeze({__proto__:null,ObjectView:ni,AttachmentView:_o,BlockView:Sc,DocumentView:Fs,PieceView:Cc,PreviewableAttachmentView:wc,TextView:xc});const{lang:Sr,css:Nt,keyNames:mf}=kn,Ar=function(n){return function(){const e=n.apply(this,arguments);e.do(),this.undos||(this.undos=[]),this.undos.push(e.undo)}};class _c extends te{constructor(e,t,i){let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(...arguments),ve(this,"makeElementMutable",Ar(()=>({do:()=>{this.element.dataset.trixMutable=!0},undo:()=>delete this.element.dataset.trixMutable}))),ve(this,"addToolbar",Ar(()=>{const r=R({tagName:"div",className:Nt.attachmentToolbar,data:{trixMutable:!0},childNodes:R({tagName:"div",className:"trix-button-row",childNodes:R({tagName:"span",className:"trix-button-group trix-button-group--actions",childNodes:R({tagName:"button",className:"trix-button trix-button--remove",textContent:Sr.remove,attributes:{title:Sr.remove},data:{trixAction:"remove"}})})})});return this.attachment.isPreviewable()&&r.appendChild(R({tagName:"div",className:Nt.attachmentMetadataContainer,childNodes:R({tagName:"span",className:Nt.attachmentMetadata,childNodes:[R({tagName:"span",className:Nt.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),R({tagName:"span",className:Nt.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),G("click",{onElement:r,withCallback:this.didClickToolbar}),G("click",{onElement:r,matchingSelector:"[data-trix-action]",withCallback:this.didClickActionButton}),an("trix-attachment-before-toolbar",{onElement:this.element,attributes:{toolbar:r,attachment:this.attachment}}),{do:()=>this.element.appendChild(r),undo:()=>Tt(r)}})),ve(this,"installCaptionEditor",Ar(()=>{const r=R({tagName:"textarea",className:Nt.attachmentCaptionEditor,attributes:{placeholder:Sr.captionPlaceholder},data:{trixMutable:!0}});r.value=this.attachmentPiece.getCaption();const o=r.cloneNode();o.classList.add("trix-autoresize-clone"),o.tabIndex=-1;const a=function(){o.value=r.value,r.style.height=o.scrollHeight+"px"};G("input",{onElement:r,withCallback:a}),G("input",{onElement:r,withCallback:this.didInputCaption}),G("keydown",{onElement:r,withCallback:this.didKeyDownCaption}),G("change",{onElement:r,withCallback:this.didChangeCaption}),G("blur",{onElement:r,withCallback:this.didBlurCaption});const l=this.element.querySelector("figcaption"),c=l.cloneNode();return{do:()=>{if(l.style.display="none",c.appendChild(r),c.appendChild(o),c.classList.add("".concat(Nt.attachmentCaption,"--editing")),l.parentElement.insertBefore(c,l),a(),this.options.editCaption)return No(()=>r.focus())},undo(){Tt(c),l.style.display=null}}})),this.didClickToolbar=this.didClickToolbar.bind(this),this.didClickActionButton=this.didClickActionButton.bind(this),this.didKeyDownCaption=this.didKeyDownCaption.bind(this),this.didInputCaption=this.didInputCaption.bind(this),this.didChangeCaption=this.didChangeCaption.bind(this),this.didBlurCaption=this.didBlurCaption.bind(this),this.attachmentPiece=e,this.element=t,this.container=i,this.options=s,this.attachment=this.attachmentPiece.attachment,me(this.element)==="a"&&(this.element=this.element.firstChild),this.install()}install(){this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()&&this.installCaptionEditor()}uninstall(){var e;let t=this.undos.pop();for(this.savePendingCaption();t;)t(),t=this.undos.pop();(e=this.delegate)===null||e===void 0||e.didUninstallAttachmentEditor(this)}savePendingCaption(){if(this.pendingCaption!=null){const r=this.pendingCaption;var e,t,i,s;this.pendingCaption=null,r?(e=this.delegate)===null||e===void 0||(t=e.attachmentEditorDidRequestUpdatingAttributesForAttachment)===null||t===void 0||t.call(e,{caption:r},this.attachment):(i=this.delegate)===null||i===void 0||(s=i.attachmentEditorDidRequestRemovingAttributeForAttachment)===null||s===void 0||s.call(i,"caption",this.attachment)}}didClickToolbar(e){return e.preventDefault(),e.stopPropagation()}didClickActionButton(e){var t;if(e.target.getAttribute("data-trix-action")==="remove")return(t=this.delegate)===null||t===void 0?void 0:t.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)}didKeyDownCaption(e){var t,i;if(mf[e.keyCode]==="return")return e.preventDefault(),this.savePendingCaption(),(t=this.delegate)===null||t===void 0||(i=t.attachmentEditorDidRequestDeselectingAttachment)===null||i===void 0?void 0:i.call(t,this.attachment)}didInputCaption(e){this.pendingCaption=e.target.value.replace(/\s/g," ").trim()}didChangeCaption(e){return this.savePendingCaption()}didBlurCaption(e){return this.savePendingCaption()}}class $c extends te{constructor(e,t){super(...arguments),this.didFocus=this.didFocus.bind(this),this.didBlur=this.didBlur.bind(this),this.didClickAttachment=this.didClickAttachment.bind(this),this.element=e,this.composition=t,this.documentView=new Fs(this.composition.document,{element:this.element}),G("focus",{onElement:this.element,withCallback:this.didFocus}),G("blur",{onElement:this.element,withCallback:this.didBlur}),G("click",{onElement:this.element,matchingSelector:"a[contenteditable=false]",preventDefault:!0}),G("mousedown",{onElement:this.element,matchingSelector:Vt,withCallback:this.didClickAttachment}),G("click",{onElement:this.element,matchingSelector:"a".concat(Vt),preventDefault:!0})}didFocus(e){var t;const i=()=>{var s,r;if(!this.focused)return this.focused=!0,(s=this.delegate)===null||s===void 0||(r=s.compositionControllerDidFocus)===null||r===void 0?void 0:r.call(s)};return((t=this.blurPromise)===null||t===void 0?void 0:t.then(i))||i()}didBlur(e){this.blurPromise=new Promise(t=>No(()=>{var i,s;return Do(this.element)||(this.focused=null,(i=this.delegate)===null||i===void 0||(s=i.compositionControllerDidBlur)===null||s===void 0||s.call(i)),this.blurPromise=null,t()}))}didClickAttachment(e,t){var i,s;const r=this.findAttachmentForElement(t),o=!!Lt(e.target,{matchingSelector:"figcaption"});return(i=this.delegate)===null||i===void 0||(s=i.compositionControllerDidSelectAttachment)===null||s===void 0?void 0:s.call(i,r,{editCaption:o})}getSerializableElement(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element}render(){var e,t,i,s,r,o;return this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced()&&((i=this.delegate)===null||i===void 0||(s=i.compositionControllerWillSyncDocumentView)===null||s===void 0||s.call(i),this.documentView.sync(),(r=this.delegate)===null||r===void 0||(o=r.compositionControllerDidSyncDocumentView)===null||o===void 0||o.call(r)),(e=this.delegate)===null||e===void 0||(t=e.compositionControllerDidRender)===null||t===void 0?void 0:t.call(e)}rerenderViewForObject(e){return this.invalidateViewForObject(e),this.render()}invalidateViewForObject(e){return this.documentView.invalidateViewForObject(e)}isViewCachingEnabled(){return this.documentView.isViewCachingEnabled()}enableViewCaching(){return this.documentView.enableViewCaching()}disableViewCaching(){return this.documentView.disableViewCaching()}refreshViewCache(){return this.documentView.garbageCollectCachedViews()}isEditingAttachment(){return!!this.attachmentEditor}installAttachmentEditorForAttachment(e,t){var i;if(((i=this.attachmentEditor)===null||i===void 0?void 0:i.attachment)===e)return;const s=this.documentView.findElementForObject(e);if(!s)return;this.uninstallAttachmentEditor();const r=this.composition.document.getAttachmentPieceForAttachment(e);this.attachmentEditor=new _c(r,s,this.element,t),this.attachmentEditor.delegate=this}uninstallAttachmentEditor(){var e;return(e=this.attachmentEditor)===null||e===void 0?void 0:e.uninstall()}didUninstallAttachmentEditor(){return this.attachmentEditor=null,this.render()}attachmentEditorDidRequestUpdatingAttributesForAttachment(e,t){var i,s;return(i=this.delegate)===null||i===void 0||(s=i.compositionControllerWillUpdateAttachment)===null||s===void 0||s.call(i,t),this.composition.updateAttributesForAttachment(e,t)}attachmentEditorDidRequestRemovingAttributeForAttachment(e,t){var i,s;return(i=this.delegate)===null||i===void 0||(s=i.compositionControllerWillUpdateAttachment)===null||s===void 0||s.call(i,t),this.composition.removeAttributeForAttachment(e,t)}attachmentEditorDidRequestRemovalOfAttachment(e){var t,i;return(t=this.delegate)===null||t===void 0||(i=t.compositionControllerDidRequestRemovalOfAttachment)===null||i===void 0?void 0:i.call(t,e)}attachmentEditorDidRequestDeselectingAttachment(e){var t,i;return(t=this.delegate)===null||t===void 0||(i=t.compositionControllerDidRequestDeselectingAttachment)===null||i===void 0?void 0:i.call(t,e)}canSyncDocumentView(){return!this.isEditingAttachment()}findAttachmentForElement(e){return this.composition.document.getAttachmentById(parseInt(e.dataset.trixId,10))}}class qc extends te{}const Hc="data-trix-mutable",gf="[".concat(Hc,"]"),bf={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};class Vc extends te{constructor(e){super(e),this.didMutate=this.didMutate.bind(this),this.element=e,this.observer=new window.MutationObserver(this.didMutate),this.start()}start(){return this.reset(),this.observer.observe(this.element,bf)}stop(){return this.observer.disconnect()}didMutate(e){var t,i;if(this.mutations.push(...Array.from(this.findSignificantMutations(e)||[])),this.mutations.length)return(t=this.delegate)===null||t===void 0||(i=t.elementDidMutate)===null||i===void 0||i.call(t,this.getMutationSummary()),this.reset()}reset(){this.mutations=[]}findSignificantMutations(e){return e.filter(t=>this.mutationIsSignificant(t))}mutationIsSignificant(e){if(this.nodeIsMutable(e.target))return!1;for(const t of Array.from(this.nodesModifiedByMutation(e)))if(this.nodeIsSignificant(t))return!0;return!1}nodeIsSignificant(e){return e!==this.element&&!this.nodeIsMutable(e)&&!ac(e)}nodeIsMutable(e){return Lt(e,{matchingSelector:gf})}nodesModifiedByMutation(e){const t=[];switch(e.type){case"attributes":e.attributeName!==Hc&&t.push(e.target);break;case"characterData":t.push(e.target.parentNode),t.push(e.target);break;case"childList":t.push(...Array.from(e.addedNodes||[])),t.push(...Array.from(e.removedNodes||[]))}return t}getMutationSummary(){return this.getTextMutationSummary()}getTextMutationSummary(){const{additions:e,deletions:t}=this.getTextChangesFromCharacterData(),i=this.getTextChangesFromChildList();Array.from(i.additions).forEach(a=>{Array.from(e).includes(a)||e.push(a)}),t.push(...Array.from(i.deletions||[]));const s={},r=e.join("");r&&(s.textAdded=r);const o=t.join("");return o&&(s.textDeleted=o),s}getMutationsByType(e){return Array.from(this.mutations).filter(t=>t.type===e)}getTextChangesFromChildList(){let e,t;const i=[],s=[];Array.from(this.getMutationsByType("childList")).forEach(a=>{i.push(...Array.from(a.addedNodes||[])),s.push(...Array.from(a.removedNodes||[]))}),i.length===0&&s.length===1&&yi(s[0])?(e=[],t=[`
`]):(e=Qr(i),t=Qr(s));const r=e.filter((a,l)=>a!==t[l]).map(rn),o=t.filter((a,l)=>a!==e[l]).map(rn);return{additions:r,deletions:o}}getTextChangesFromCharacterData(){let e,t;const i=this.getMutationsByType("characterData");if(i.length){const s=i[0],r=i[i.length-1],o=function(a,l){let c,u;return a=yn.box(a),(l=yn.box(l)).length<a.length?[u,c]=Wa(a,l):[c,u]=Wa(l,a),{added:c,removed:u}}(rn(s.oldValue),rn(r.target.data));e=o.added,t=o.removed}return{additions:e?[e]:[],deletions:t?[t]:[]}}}const Qr=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=[];for(const t of Array.from(n))switch(t.nodeType){case Node.TEXT_NODE:e.push(t.data);break;case Node.ELEMENT_NODE:me(t)==="br"?e.push(`
`):e.push(...Array.from(Qr(t.childNodes)))}return e};class jc extends As{constructor(e){super(...arguments),this.file=e}perform(e){const t=new FileReader;return t.onerror=()=>e(!1),t.onload=()=>{t.onerror=null;try{t.abort()}catch{}return e(!0,this.file)},t.readAsArrayBuffer(this.file)}}class yf{constructor(e){this.element=e}shouldIgnore(e){return!!Tn.samsungAndroid&&(this.previousEvent=this.event,this.event=e,this.checkSamsungKeyboardBuggyModeStart(),this.checkSamsungKeyboardBuggyModeEnd(),this.buggyMode)}checkSamsungKeyboardBuggyModeStart(){this.insertingLongTextAfterUnidentifiedChar()&&vf(this.element.innerText,this.event.data)&&(this.buggyMode=!0,this.event.preventDefault())}checkSamsungKeyboardBuggyModeEnd(){this.buggyMode&&this.event.inputType!=="insertText"&&(this.buggyMode=!1)}insertingLongTextAfterUnidentifiedChar(){var e;return this.isBeforeInputInsertText()&&this.previousEventWasUnidentifiedKeydown()&&((e=this.event.data)===null||e===void 0?void 0:e.length)>50}isBeforeInputInsertText(){return this.event.type==="beforeinput"&&this.event.inputType==="insertText"}previousEventWasUnidentifiedKeydown(){var e,t;return((e=this.previousEvent)===null||e===void 0?void 0:e.type)==="keydown"&&((t=this.previousEvent)===null||t===void 0?void 0:t.key)==="Unidentified"}}const vf=(n,e)=>hl(n)===hl(e),wf=new RegExp("(".concat("￼","|").concat(Bs,"|").concat(Et,"|\\s)+"),"g"),hl=n=>n.replace(wf," ").trim();class _s extends te{constructor(e){super(...arguments),this.element=e,this.mutationObserver=new Vc(this.element),this.mutationObserver.delegate=this,this.flakyKeyboardDetector=new yf(this.element);for(const t in this.constructor.events)G(t,{onElement:this.element,withCallback:this.handlerFor(t)})}elementDidMutate(e){}editorWillSyncDocumentView(){return this.mutationObserver.stop()}editorDidSyncDocumentView(){return this.mutationObserver.start()}requestRender(){var e,t;return(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidRequestRender)===null||t===void 0?void 0:t.call(e)}requestReparse(){var e,t;return(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidRequestReparse)===null||t===void 0||t.call(e),this.requestRender()}attachFiles(e){const t=Array.from(e).map(i=>new jc(i));return Promise.all(t).then(i=>{this.handleInput(function(){var s,r;return(s=this.delegate)===null||s===void 0||s.inputControllerWillAttachFiles(),(r=this.responder)===null||r===void 0||r.insertFiles(i),this.requestRender()})})}handlerFor(e){return t=>{t.defaultPrevented||this.handleInput(()=>{if(!Do(this.element)){if(this.flakyKeyboardDetector.shouldIgnore(t))return;this.eventName=e,this.constructor.events[e].call(this,t)}})}}handleInput(e){try{var t;(t=this.delegate)===null||t===void 0||t.inputControllerWillHandleInput(),e.call(this)}finally{var i;(i=this.delegate)===null||i===void 0||i.inputControllerDidHandleInput()}}createLinkHTML(e,t){const i=document.createElement("a");return i.href=e,i.textContent=t||e,i.outerHTML}}var Er;ve(_s,"events",{});const{browser:Cf,keyNames:Wc}=kn;let xf=0;class ft extends _s{constructor(){super(...arguments),this.resetInputSummary()}setInputSummary(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.inputSummary.eventName=this.eventName;for(const t in e){const i=e[t];this.inputSummary[t]=i}return this.inputSummary}resetInputSummary(){this.inputSummary={}}reset(){return this.resetInputSummary(),Yt.reset()}elementDidMutate(e){var t,i;return this.isComposing()?(t=this.delegate)===null||t===void 0||(i=t.inputControllerDidAllowUnhandledInput)===null||i===void 0?void 0:i.call(t):this.handleInput(function(){return this.mutationIsSignificant(e)&&(this.mutationIsExpected(e)?this.requestRender():this.requestReparse()),this.reset()})}mutationIsExpected(e){let{textAdded:t,textDeleted:i}=e;if(this.inputSummary.preferDocument)return!0;const s=t!=null?t===this.inputSummary.textAdded:!this.inputSummary.textAdded,r=i!=null?this.inputSummary.didDelete:!this.inputSummary.didDelete,o=[`
`,` 
`].includes(t)&&!s,a=i===`
`&&!r;if(o&&!a||a&&!o){const c=this.getSelectedRange();if(c){var l;const u=o?t.replace(/\n$/,"").length||-1:(t==null?void 0:t.length)||1;if((l=this.responder)!==null&&l!==void 0&&l.positionIsBlockBreak(c[1]+u))return!0}}return s&&r}mutationIsSignificant(e){var t;const i=Object.keys(e).length>0,s=((t=this.compositionInput)===null||t===void 0?void 0:t.getEndData())==="";return i||!s}getCompositionInput(){if(this.isComposing())return this.compositionInput;this.compositionInput=new St(this)}isComposing(){return this.compositionInput&&!this.compositionInput.isEnded()}deleteInDirection(e,t){var i;return((i=this.responder)===null||i===void 0?void 0:i.deleteInDirection(e))!==!1?this.setInputSummary({didDelete:!0}):t?(t.preventDefault(),this.requestRender()):void 0}serializeSelectionToDataTransfer(e){var t;if(!function(s){if(s==null||!s.setData)return!1;for(const r in Ha){const o=Ha[r];try{if(s.setData(r,o),!s.getData(r)===o)return!1}catch{return!1}}return!0}(e))return;const i=(t=this.responder)===null||t===void 0?void 0:t.getSelectedDocument().toSerializableDocument();return e.setData("application/x-trix-document",JSON.stringify(i)),e.setData("text/html",Fs.render(i).innerHTML),e.setData("text/plain",i.toString().replace(/\n$/,"")),!0}canAcceptDataTransfer(e){const t={};return Array.from((e==null?void 0:e.types)||[]).forEach(i=>{t[i]=!0}),t.Files||t["application/x-trix-document"]||t["text/html"]||t["text/plain"]}getPastedHTMLUsingHiddenElement(e){const t=this.getSelectedRange(),i={position:"absolute",left:"".concat(window.pageXOffset,"px"),top:"".concat(window.pageYOffset,"px"),opacity:0},s=R({style:i,tagName:"div",editable:!0});return document.body.appendChild(s),s.focus(),requestAnimationFrame(()=>{const r=s.innerHTML;return Tt(s),this.setSelectedRange(t),e(r)})}}ve(ft,"events",{keydown(n){this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0;const e=Wc[n.keyCode];if(e){var t;let s=this.keys;["ctrl","alt","shift","meta"].forEach(r=>{var o;n["".concat(r,"Key")]&&(r==="ctrl"&&(r="control"),s=(o=s)===null||o===void 0?void 0:o[r])}),((t=s)===null||t===void 0?void 0:t[e])!=null&&(this.setInputSummary({keyName:e}),Yt.reset(),s[e].call(this,n))}if(dc(n)){const s=String.fromCharCode(n.keyCode).toLowerCase();if(s){var i;const r=["alt","shift"].map(o=>{if(n["".concat(o,"Key")])return o}).filter(o=>o);r.push(s),(i=this.delegate)!==null&&i!==void 0&&i.inputControllerDidReceiveKeyboardCommand(r)&&n.preventDefault()}}},keypress(n){if(this.inputSummary.eventName!=null||n.metaKey||n.ctrlKey&&!n.altKey)return;const e=Ef(n);var t,i;return e?((t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(i=this.responder)===null||i===void 0||i.insertString(e),this.setInputSummary({textAdded:e,didDelete:this.selectionIsExpanded()})):void 0},textInput(n){const{data:e}=n,{textAdded:t}=this.inputSummary;if(t&&t!==e&&t.toUpperCase()===e){var i;const s=this.getSelectedRange();return this.setSelectedRange([s[0],s[1]+t.length]),(i=this.responder)===null||i===void 0||i.insertString(e),this.setInputSummary({textAdded:e}),this.setSelectedRange(s)}},dragenter(n){n.preventDefault()},dragstart(n){var e,t;return this.serializeSelectionToDataTransfer(n.dataTransfer),this.draggedRange=this.getSelectedRange(),(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidStartDrag)===null||t===void 0?void 0:t.call(e)},dragover(n){if(this.draggedRange||this.canAcceptDataTransfer(n.dataTransfer)){n.preventDefault();const i={x:n.clientX,y:n.clientY};var e,t;if(!Di(i,this.draggingPoint))return this.draggingPoint=i,(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidReceiveDragOverPoint)===null||t===void 0?void 0:t.call(e,this.draggingPoint)}},dragend(n){var e,t;(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidCancelDrag)===null||t===void 0||t.call(e),this.draggedRange=null,this.draggingPoint=null},drop(n){var e,t;n.preventDefault();const i=(e=n.dataTransfer)===null||e===void 0?void 0:e.files,s=n.dataTransfer.getData("application/x-trix-document"),r={x:n.clientX,y:n.clientY};if((t=this.responder)===null||t===void 0||t.setLocationRangeFromPointRange(r),i!=null&&i.length)this.attachFiles(i);else if(this.draggedRange){var o,a;(o=this.delegate)===null||o===void 0||o.inputControllerWillMoveText(),(a=this.responder)===null||a===void 0||a.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()}else if(s){var l;const c=De.fromJSONString(s);(l=this.responder)===null||l===void 0||l.insertDocument(c),this.requestRender()}this.draggedRange=null,this.draggingPoint=null},cut(n){var e,t;if((e=this.responder)!==null&&e!==void 0&&e.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(n.clipboardData)&&n.preventDefault(),(t=this.delegate)===null||t===void 0||t.inputControllerWillCutText(),this.deleteInDirection("backward"),n.defaultPrevented))return this.requestRender()},copy(n){var e;(e=this.responder)!==null&&e!==void 0&&e.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(n.clipboardData)&&n.preventDefault()},paste(n){const e=n.clipboardData||n.testClipboardData,t={clipboard:e};if(!e||Lf(n))return void this.getPastedHTMLUsingHiddenElement(w=>{var C,L,I;return t.type="text/html",t.html=w,(C=this.delegate)===null||C===void 0||C.inputControllerWillPaste(t),(L=this.responder)===null||L===void 0||L.insertHTML(t.html),this.requestRender(),(I=this.delegate)===null||I===void 0?void 0:I.inputControllerDidPaste(t)});const i=e.getData("URL"),s=e.getData("text/html"),r=e.getData("public.url-name");if(i){var o,a,l;let w;t.type="text/html",w=r?Mo(r).trim():i,t.html=this.createLinkHTML(i,w),(o=this.delegate)===null||o===void 0||o.inputControllerWillPaste(t),this.setInputSummary({textAdded:w,didDelete:this.selectionIsExpanded()}),(a=this.responder)===null||a===void 0||a.insertHTML(t.html),this.requestRender(),(l=this.delegate)===null||l===void 0||l.inputControllerDidPaste(t)}else if(uc(e)){var c,u,h;t.type="text/plain",t.string=e.getData("text/plain"),(c=this.delegate)===null||c===void 0||c.inputControllerWillPaste(t),this.setInputSummary({textAdded:t.string,didDelete:this.selectionIsExpanded()}),(u=this.responder)===null||u===void 0||u.insertString(t.string),this.requestRender(),(h=this.delegate)===null||h===void 0||h.inputControllerDidPaste(t)}else if(s){var f,g,b;t.type="text/html",t.html=s,(f=this.delegate)===null||f===void 0||f.inputControllerWillPaste(t),(g=this.responder)===null||g===void 0||g.insertHTML(t.html),this.requestRender(),(b=this.delegate)===null||b===void 0||b.inputControllerDidPaste(t)}else if(Array.from(e.types).includes("Files")){var y,p;const w=(y=e.items)===null||y===void 0||(y=y[0])===null||y===void 0||(p=y.getAsFile)===null||p===void 0?void 0:p.call(y);if(w){var v,S,A;const C=Sf(w);!w.name&&C&&(w.name="pasted-file-".concat(++xf,".").concat(C)),t.type="File",t.file=w,(v=this.delegate)===null||v===void 0||v.inputControllerWillAttachFiles(),(S=this.responder)===null||S===void 0||S.insertFile(t.file),this.requestRender(),(A=this.delegate)===null||A===void 0||A.inputControllerDidPaste(t)}}n.preventDefault()},compositionstart(n){return this.getCompositionInput().start(n.data)},compositionupdate(n){return this.getCompositionInput().update(n.data)},compositionend(n){return this.getCompositionInput().end(n.data)},beforeinput(n){this.inputSummary.didInput=!0},input(n){return this.inputSummary.didInput=!0,n.stopPropagation()}}),ve(ft,"keys",{backspace(n){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",n)},delete(n){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",n)},return(n){var e,t;return this.setInputSummary({preferDocument:!0}),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(t=this.responder)===null||t===void 0?void 0:t.insertLineBreak()},tab(n){var e,t;(e=this.responder)!==null&&e!==void 0&&e.canIncreaseNestingLevel()&&((t=this.responder)===null||t===void 0||t.increaseNestingLevel(),this.requestRender(),n.preventDefault())},left(n){var e;if(this.selectionIsInCursorTarget())return n.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("backward")},right(n){var e;if(this.selectionIsInCursorTarget())return n.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("forward")},control:{d(n){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("forward",n)},h(n){var e;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.deleteInDirection("backward",n)},o(n){var e,t;return n.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(t=this.responder)===null||t===void 0||t.insertString(`
`,{updatePosition:!1}),this.requestRender()}},shift:{return(n){var e,t;(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(t=this.responder)===null||t===void 0||t.insertString(`
`),this.requestRender(),n.preventDefault()},tab(n){var e,t;(e=this.responder)!==null&&e!==void 0&&e.canDecreaseNestingLevel()&&((t=this.responder)===null||t===void 0||t.decreaseNestingLevel(),this.requestRender(),n.preventDefault())},left(n){if(this.selectionIsInCursorTarget())return n.preventDefault(),this.expandSelectionInDirection("backward")},right(n){if(this.selectionIsInCursorTarget())return n.preventDefault(),this.expandSelectionInDirection("forward")}},alt:{backspace(n){var e;return this.setInputSummary({preferDocument:!1}),(e=this.delegate)===null||e===void 0?void 0:e.inputControllerWillPerformTyping()}},meta:{backspace(n){var e;return this.setInputSummary({preferDocument:!1}),(e=this.delegate)===null||e===void 0?void 0:e.inputControllerWillPerformTyping()}}}),ft.proxyMethod("responder?.getSelectedRange"),ft.proxyMethod("responder?.setSelectedRange"),ft.proxyMethod("responder?.expandSelectionInDirection"),ft.proxyMethod("responder?.selectionIsInCursorTarget"),ft.proxyMethod("responder?.selectionIsExpanded");const Sf=n=>{var e;return(e=n.type)===null||e===void 0||(e=e.match(/\/(\w+)$/))===null||e===void 0?void 0:e[1]},Af=!((Er=" ".codePointAt)===null||Er===void 0||!Er.call(" ",0)),Ef=function(n){if(n.key&&Af&&n.key.codePointAt(0)===n.keyCode)return n.key;{let e;if(n.which===null?e=n.keyCode:n.which!==0&&n.charCode!==0&&(e=n.charCode),e!=null&&Wc[e]!=="escape")return yn.fromCodepoints([e]).toString()}},Lf=function(n){const e=n.clipboardData;if(e){if(e.types.includes("text/html")){for(const t of e.types){const i=/^CorePasteboardFlavorType/.test(t),s=/^dyn\./.test(t)&&e.getData(t);if(i||s)return!0}return!1}{const t=e.types.includes("com.apple.webarchive"),i=e.types.includes("com.apple.flat-rtfd");return t||i}}};class St extends te{constructor(e){super(...arguments),this.inputController=e,this.responder=this.inputController.responder,this.delegate=this.inputController.delegate,this.inputSummary=this.inputController.inputSummary,this.data={}}start(e){if(this.data.start=e,this.isSignificant()){var t,i;this.inputSummary.eventName==="keypress"&&this.inputSummary.textAdded&&((i=this.responder)===null||i===void 0||i.deleteInDirection("left")),this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=(t=this.responder)===null||t===void 0?void 0:t.getSelectedRange()}}update(e){if(this.data.update=e,this.isSignificant()){const t=this.selectPlaceholder();t&&(this.forgetPlaceholder(),this.range=t)}}end(e){return this.data.end=e,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformTyping(),(i=this.responder)===null||i===void 0||i.setSelectedRange(this.range),(s=this.responder)===null||s===void 0||s.insertString(this.data.end),(r=this.responder)===null||r===void 0?void 0:r.setSelectedRange(this.range[0]+this.data.end.length)):this.data.start!=null||this.data.update!=null?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset();var t,i,s,r}getEndData(){return this.data.end}isEnded(){return this.getEndData()!=null}isSignificant(){return!Cf.composesExistingText||this.inputSummary.didInput}canApplyToDocument(){var e,t;return((e=this.data.start)===null||e===void 0?void 0:e.length)===0&&((t=this.data.end)===null||t===void 0?void 0:t.length)>0&&this.range}}St.proxyMethod("inputController.setInputSummary"),St.proxyMethod("inputController.requestRender"),St.proxyMethod("inputController.requestReparse"),St.proxyMethod("responder?.selectionIsExpanded"),St.proxyMethod("responder?.insertPlaceholder"),St.proxyMethod("responder?.selectPlaceholder"),St.proxyMethod("responder?.forgetPlaceholder");class hn extends _s{constructor(){super(...arguments),this.render=this.render.bind(this)}elementDidMutate(){return this.scheduledRender?this.composing?(e=this.delegate)===null||e===void 0||(t=e.inputControllerDidAllowUnhandledInput)===null||t===void 0?void 0:t.call(e):void 0:this.reparse();var e,t}scheduleRender(){return this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)}render(){var e,t;cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing||(t=this.delegate)===null||t===void 0||t.render(),(e=this.afterRender)===null||e===void 0||e.call(this),this.afterRender=null}reparse(){var e;return(e=this.delegate)===null||e===void 0?void 0:e.reparse()}insertString(){var e;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;return(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var s;return(s=this.responder)===null||s===void 0?void 0:s.insertString(t,i)})}toggleAttributeIfSupported(e){var t;if(Wr().includes(e))return(t=this.delegate)===null||t===void 0||t.inputControllerWillPerformFormatting(e),this.withTargetDOMRange(function(){var i;return(i=this.responder)===null||i===void 0?void 0:i.toggleCurrentAttribute(e)})}activateAttributeIfSupported(e,t){var i;if(Wr().includes(e))return(i=this.delegate)===null||i===void 0||i.inputControllerWillPerformFormatting(e),this.withTargetDOMRange(function(){var s;return(s=this.responder)===null||s===void 0?void 0:s.setCurrentAttribute(e,t)})}deleteInDirection(e){let{recordUndoEntry:t}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{recordUndoEntry:!0};var i;t&&((i=this.delegate)===null||i===void 0||i.inputControllerWillPerformTyping());const s=()=>{var o;return(o=this.responder)===null||o===void 0?void 0:o.deleteInDirection(e)},r=this.getTargetDOMRange({minLength:this.composing?1:2});return r?this.withTargetDOMRange(r,s):s()}withTargetDOMRange(e,t){var i;return typeof e=="function"&&(t=e,e=this.getTargetDOMRange()),e?(i=this.responder)===null||i===void 0?void 0:i.withTargetDOMRange(e,t.bind(this)):(Yt.reset(),t.call(this))}getTargetDOMRange(){var e,t;let{minLength:i}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{minLength:0};const s=(e=(t=this.event).getTargetRanges)===null||e===void 0?void 0:e.call(t);if(s&&s.length){const r=Tf(s[0]);if(i===0||r.toString().length>=i)return r}}withEvent(e,t){let i;this.event=e;try{i=t.call(this)}finally{this.event=null}return i}}ve(hn,"events",{keydown(n){if(dc(n)){var e;const t=Rf(n);(e=this.delegate)!==null&&e!==void 0&&e.inputControllerDidReceiveKeyboardCommand(t)&&n.preventDefault()}else{let t=n.key;n.altKey&&(t+="+Alt"),n.shiftKey&&(t+="+Shift");const i=this.constructor.keys[t];if(i)return this.withEvent(n,i)}},paste(n){var e;let t;const i=(e=n.clipboardData)===null||e===void 0?void 0:e.getData("URL");return zc(n)?(n.preventDefault(),this.attachFiles(n.clipboardData.files)):If(n)?(n.preventDefault(),t={type:"text/plain",string:n.clipboardData.getData("text/plain")},(s=this.delegate)===null||s===void 0||s.inputControllerWillPaste(t),(r=this.responder)===null||r===void 0||r.insertString(t.string),this.render(),(o=this.delegate)===null||o===void 0?void 0:o.inputControllerDidPaste(t)):i?(n.preventDefault(),t={type:"text/html",html:this.createLinkHTML(i)},(a=this.delegate)===null||a===void 0||a.inputControllerWillPaste(t),(l=this.responder)===null||l===void 0||l.insertHTML(t.html),this.render(),(c=this.delegate)===null||c===void 0?void 0:c.inputControllerDidPaste(t)):void 0;var s,r,o,a,l,c},beforeinput(n){const e=this.constructor.inputTypes[n.inputType],t=(i=n,!(!/iPhone|iPad/.test(navigator.userAgent)||i.inputType&&i.inputType!=="insertParagraph"));var i;e&&(this.withEvent(n,e),t||this.scheduleRender()),t&&this.render()},input(n){Yt.reset()},dragstart(n){var e,t;(e=this.responder)!==null&&e!==void 0&&e.selectionContainsAttachments()&&(n.dataTransfer.setData("application/x-trix-dragging",!0),this.dragging={range:(t=this.responder)===null||t===void 0?void 0:t.getSelectedRange(),point:Tr(n)})},dragenter(n){Lr(n)&&n.preventDefault()},dragover(n){if(this.dragging){n.preventDefault();const t=Tr(n);var e;if(!Di(t,this.dragging.point))return this.dragging.point=t,(e=this.responder)===null||e===void 0?void 0:e.setLocationRangeFromPointRange(t)}else Lr(n)&&n.preventDefault()},drop(n){var e,t;if(this.dragging)return n.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillMoveText(),(t=this.responder)===null||t===void 0||t.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender();if(Lr(n)){var i;n.preventDefault();const s=Tr(n);return(i=this.responder)===null||i===void 0||i.setLocationRangeFromPointRange(s),this.attachFiles(n.dataTransfer.files)}},dragend(){var n;this.dragging&&((n=this.responder)===null||n===void 0||n.setSelectedRange(this.dragging.range),this.dragging=null)},compositionend(n){this.composing&&(this.composing=!1,Tn.recentAndroid||this.scheduleRender())}}),ve(hn,"keys",{ArrowLeft(){var n,e;if((n=this.responder)!==null&&n!==void 0&&n.shouldManageMovingCursorInDirection("backward"))return this.event.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("backward")},ArrowRight(){var n,e;if((n=this.responder)!==null&&n!==void 0&&n.shouldManageMovingCursorInDirection("forward"))return this.event.preventDefault(),(e=this.responder)===null||e===void 0?void 0:e.moveCursorInDirection("forward")},Backspace(){var n,e,t;if((n=this.responder)!==null&&n!==void 0&&n.shouldManageDeletingInDirection("backward"))return this.event.preventDefault(),(e=this.delegate)===null||e===void 0||e.inputControllerWillPerformTyping(),(t=this.responder)===null||t===void 0||t.deleteInDirection("backward"),this.render()},Tab(){var n,e;if((n=this.responder)!==null&&n!==void 0&&n.canIncreaseNestingLevel())return this.event.preventDefault(),(e=this.responder)===null||e===void 0||e.increaseNestingLevel(),this.render()},"Tab+Shift"(){var n,e;if((n=this.responder)!==null&&n!==void 0&&n.canDecreaseNestingLevel())return this.event.preventDefault(),(e=this.responder)===null||e===void 0||e.decreaseNestingLevel(),this.render()}}),ve(hn,"inputTypes",{deleteByComposition(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteByCut(){return this.deleteInDirection("backward")},deleteByDrag(){return this.event.preventDefault(),this.withTargetDOMRange(function(){var n;this.deleteByDragRange=(n=this.responder)===null||n===void 0?void 0:n.getSelectedRange()})},deleteCompositionText(){return this.deleteInDirection("backward",{recordUndoEntry:!1})},deleteContent(){return this.deleteInDirection("backward")},deleteContentBackward(){return this.deleteInDirection("backward")},deleteContentForward(){return this.deleteInDirection("forward")},deleteEntireSoftLine(){return this.deleteInDirection("forward")},deleteHardLineBackward(){return this.deleteInDirection("backward")},deleteHardLineForward(){return this.deleteInDirection("forward")},deleteSoftLineBackward(){return this.deleteInDirection("backward")},deleteSoftLineForward(){return this.deleteInDirection("forward")},deleteWordBackward(){return this.deleteInDirection("backward")},deleteWordForward(){return this.deleteInDirection("forward")},formatBackColor(){return this.activateAttributeIfSupported("backgroundColor",this.event.data)},formatBold(){return this.toggleAttributeIfSupported("bold")},formatFontColor(){return this.activateAttributeIfSupported("color",this.event.data)},formatFontName(){return this.activateAttributeIfSupported("font",this.event.data)},formatIndent(){var n;if((n=this.responder)!==null&&n!==void 0&&n.canIncreaseNestingLevel())return this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.increaseNestingLevel()})},formatItalic(){return this.toggleAttributeIfSupported("italic")},formatJustifyCenter(){return this.toggleAttributeIfSupported("justifyCenter")},formatJustifyFull(){return this.toggleAttributeIfSupported("justifyFull")},formatJustifyLeft(){return this.toggleAttributeIfSupported("justifyLeft")},formatJustifyRight(){return this.toggleAttributeIfSupported("justifyRight")},formatOutdent(){var n;if((n=this.responder)!==null&&n!==void 0&&n.canDecreaseNestingLevel())return this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.decreaseNestingLevel()})},formatRemove(){this.withTargetDOMRange(function(){for(const t in(n=this.responder)===null||n===void 0?void 0:n.getCurrentAttributes()){var n,e;(e=this.responder)===null||e===void 0||e.removeCurrentAttribute(t)}})},formatSetBlockTextDirection(){return this.activateAttributeIfSupported("blockDir",this.event.data)},formatSetInlineTextDirection(){return this.activateAttributeIfSupported("textDir",this.event.data)},formatStrikeThrough(){return this.toggleAttributeIfSupported("strike")},formatSubscript(){return this.toggleAttributeIfSupported("sub")},formatSuperscript(){return this.toggleAttributeIfSupported("sup")},formatUnderline(){return this.toggleAttributeIfSupported("underline")},historyRedo(){var n;return(n=this.delegate)===null||n===void 0?void 0:n.inputControllerWillPerformRedo()},historyUndo(){var n;return(n=this.delegate)===null||n===void 0?void 0:n.inputControllerWillPerformUndo()},insertCompositionText(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop(){const n=this.deleteByDragRange;var e;if(n)return this.deleteByDragRange=null,(e=this.delegate)===null||e===void 0||e.inputControllerWillMoveText(),this.withTargetDOMRange(function(){var t;return(t=this.responder)===null||t===void 0?void 0:t.moveTextFromRange(n)})},insertFromPaste(){const{dataTransfer:n}=this.event,e={dataTransfer:n},t=n.getData("URL"),i=n.getData("text/html");if(t){var s;let l;this.event.preventDefault(),e.type="text/html";const c=n.getData("public.url-name");l=c?Mo(c).trim():t,e.html=this.createLinkHTML(t,l),(s=this.delegate)===null||s===void 0||s.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var u;return(u=this.responder)===null||u===void 0?void 0:u.insertHTML(e.html)}),this.afterRender=()=>{var u;return(u=this.delegate)===null||u===void 0?void 0:u.inputControllerDidPaste(e)}}else if(uc(n)){var r;e.type="text/plain",e.string=n.getData("text/plain"),(r=this.delegate)===null||r===void 0||r.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var l;return(l=this.responder)===null||l===void 0?void 0:l.insertString(e.string)}),this.afterRender=()=>{var l;return(l=this.delegate)===null||l===void 0?void 0:l.inputControllerDidPaste(e)}}else if(kf(this.event)){var o;e.type="File",e.file=n.files[0],(o=this.delegate)===null||o===void 0||o.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var l;return(l=this.responder)===null||l===void 0?void 0:l.insertFile(e.file)}),this.afterRender=()=>{var l;return(l=this.delegate)===null||l===void 0?void 0:l.inputControllerDidPaste(e)}}else if(i){var a;this.event.preventDefault(),e.type="text/html",e.html=i,(a=this.delegate)===null||a===void 0||a.inputControllerWillPaste(e),this.withTargetDOMRange(function(){var l;return(l=this.responder)===null||l===void 0?void 0:l.insertHTML(e.html)}),this.afterRender=()=>{var l;return(l=this.delegate)===null||l===void 0?void 0:l.inputControllerDidPaste(e)}}},insertFromYank(){return this.insertString(this.event.data)},insertLineBreak(){return this.insertString(`
`)},insertLink(){return this.activateAttributeIfSupported("href",this.event.data)},insertOrderedList(){return this.toggleAttributeIfSupported("number")},insertParagraph(){var n;return(n=this.delegate)===null||n===void 0||n.inputControllerWillPerformTyping(),this.withTargetDOMRange(function(){var e;return(e=this.responder)===null||e===void 0?void 0:e.insertLineBreak()})},insertReplacementText(){const n=this.event.dataTransfer.getData("text/plain"),e=this.event.getTargetRanges()[0];this.withTargetDOMRange(e,()=>{this.insertString(n,{updatePosition:!1})})},insertText(){var n;return this.insertString(this.event.data||((n=this.event.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain")))},insertTranspose(){return this.insertString(this.event.data)},insertUnorderedList(){return this.toggleAttributeIfSupported("bullet")}});const Tf=function(n){const e=document.createRange();return e.setStart(n.startContainer,n.startOffset),e.setEnd(n.endContainer,n.endOffset),e},Lr=n=>{var e;return Array.from(((e=n.dataTransfer)===null||e===void 0?void 0:e.types)||[]).includes("Files")},kf=n=>{var e;return((e=n.dataTransfer.files)===null||e===void 0?void 0:e[0])&&!zc(n)&&!(t=>{let{dataTransfer:i}=t;return i.types.includes("Files")&&i.types.includes("text/html")&&i.getData("text/html").includes("urn:schemas-microsoft-com:office:office")})(n)},zc=function(n){const e=n.clipboardData;if(e)return Array.from(e.types).filter(t=>t.match(/file/i)).length===e.types.length&&e.files.length>=1},If=function(n){const e=n.clipboardData;if(e)return e.types.includes("text/plain")&&e.types.length===1},Rf=function(n){const e=[];return n.altKey&&e.push("alt"),n.shiftKey&&e.push("shift"),e.push(n.key),e},Tr=n=>({x:n.clientX,y:n.clientY}),Yr="[data-trix-attribute]",Zr="[data-trix-action]",Df="".concat(Yr,", ").concat(Zr),$s="[data-trix-dialog]",Pf="".concat($s,"[data-trix-active]"),Of="".concat($s," [data-trix-method]"),fl="".concat($s," [data-trix-input]"),pl=(n,e)=>(e||(e=bi(n)),n.querySelector("[data-trix-input][name='".concat(e,"']"))),ml=n=>n.getAttribute("data-trix-action"),bi=n=>n.getAttribute("data-trix-attribute")||n.getAttribute("data-trix-dialog-attribute");class Uc extends te{constructor(e){super(e),this.didClickActionButton=this.didClickActionButton.bind(this),this.didClickAttributeButton=this.didClickAttributeButton.bind(this),this.didClickDialogButton=this.didClickDialogButton.bind(this),this.didKeyDownDialogInput=this.didKeyDownDialogInput.bind(this),this.element=e,this.attributes={},this.actions={},this.resetDialogInputs(),G("mousedown",{onElement:this.element,matchingSelector:Zr,withCallback:this.didClickActionButton}),G("mousedown",{onElement:this.element,matchingSelector:Yr,withCallback:this.didClickAttributeButton}),G("click",{onElement:this.element,matchingSelector:Df,preventDefault:!0}),G("click",{onElement:this.element,matchingSelector:Of,withCallback:this.didClickDialogButton}),G("keydown",{onElement:this.element,matchingSelector:fl,withCallback:this.didKeyDownDialogInput})}didClickActionButton(e,t){var i;(i=this.delegate)===null||i===void 0||i.toolbarDidClickButton(),e.preventDefault();const s=ml(t);return this.getDialog(s)?this.toggleDialog(s):(r=this.delegate)===null||r===void 0?void 0:r.toolbarDidInvokeAction(s,t);var r}didClickAttributeButton(e,t){var i;(i=this.delegate)===null||i===void 0||i.toolbarDidClickButton(),e.preventDefault();const s=bi(t);var r;return this.getDialog(s)?this.toggleDialog(s):(r=this.delegate)===null||r===void 0||r.toolbarDidToggleAttribute(s),this.refreshAttributeButtons()}didClickDialogButton(e,t){const i=Lt(t,{matchingSelector:$s});return this[t.getAttribute("data-trix-method")].call(this,i)}didKeyDownDialogInput(e,t){if(e.keyCode===13){e.preventDefault();const i=t.getAttribute("name"),s=this.getDialog(i);this.setAttribute(s)}if(e.keyCode===27)return e.preventDefault(),this.hideDialog()}updateActions(e){return this.actions=e,this.refreshActionButtons()}refreshActionButtons(){return this.eachActionButton((e,t)=>{e.disabled=this.actions[t]===!1})}eachActionButton(e){return Array.from(this.element.querySelectorAll(Zr)).map(t=>e(t,ml(t)))}updateAttributes(e){return this.attributes=e,this.refreshAttributeButtons()}refreshAttributeButtons(){return this.eachAttributeButton((e,t)=>(e.disabled=this.attributes[t]===!1,this.attributes[t]||this.dialogIsVisible(t)?(e.setAttribute("data-trix-active",""),e.classList.add("trix-active")):(e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"))))}eachAttributeButton(e){return Array.from(this.element.querySelectorAll(Yr)).map(t=>e(t,bi(t)))}applyKeyboardCommand(e){const t=JSON.stringify(e.sort());for(const i of Array.from(this.element.querySelectorAll("[data-trix-key]"))){const s=i.getAttribute("data-trix-key").split("+");if(JSON.stringify(s.sort())===t)return an("mousedown",{onElement:i}),!0}return!1}dialogIsVisible(e){const t=this.getDialog(e);if(t)return t.hasAttribute("data-trix-active")}toggleDialog(e){return this.dialogIsVisible(e)?this.hideDialog():this.showDialog(e)}showDialog(e){var t,i;this.hideDialog(),(t=this.delegate)===null||t===void 0||t.toolbarWillShowDialog();const s=this.getDialog(e);s.setAttribute("data-trix-active",""),s.classList.add("trix-active"),Array.from(s.querySelectorAll("input[disabled]")).forEach(o=>{o.removeAttribute("disabled")});const r=bi(s);if(r){const o=pl(s,e);o&&(o.value=this.attributes[r]||"",o.select())}return(i=this.delegate)===null||i===void 0?void 0:i.toolbarDidShowDialog(e)}setAttribute(e){var t;const i=bi(e),s=pl(e,i);return!s.willValidate||(s.setCustomValidity(""),s.checkValidity()&&this.isSafeAttribute(s))?((t=this.delegate)===null||t===void 0||t.toolbarDidUpdateAttribute(i,s.value),this.hideDialog()):(s.setCustomValidity("Invalid value"),s.setAttribute("data-trix-validate",""),s.classList.add("trix-validate"),s.focus())}isSafeAttribute(e){return!e.hasAttribute("data-trix-validate-href")||Es.isValidAttribute("a","href",e.value)}removeAttribute(e){var t;const i=bi(e);return(t=this.delegate)===null||t===void 0||t.toolbarDidRemoveAttribute(i),this.hideDialog()}hideDialog(){const e=this.element.querySelector(Pf);var t;if(e)return e.removeAttribute("data-trix-active"),e.classList.remove("trix-active"),this.resetDialogInputs(),(t=this.delegate)===null||t===void 0?void 0:t.toolbarDidHideDialog((i=>i.getAttribute("data-trix-dialog"))(e))}resetDialogInputs(){Array.from(this.element.querySelectorAll(fl)).forEach(e=>{e.setAttribute("disabled","disabled"),e.removeAttribute("data-trix-validate"),e.classList.remove("trix-validate")})}getDialog(e){return this.element.querySelector("[data-trix-dialog=".concat(e,"]"))}}class fn extends qc{constructor(e){let{editorElement:t,document:i,html:s}=e;super(...arguments),this.editorElement=t,this.selectionManager=new Ft(this.editorElement),this.selectionManager.delegate=this,this.composition=new At,this.composition.delegate=this,this.attachmentManager=new Ic(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=Po.getLevel()===2?new hn(this.editorElement):new ft(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new $c(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new Uc(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new Oc(this.composition,this.selectionManager,this.editorElement),i?this.editor.loadDocument(i):this.editor.loadHTML(s)}registerSelectionManager(){return Yt.registerSelectionManager(this.selectionManager)}unregisterSelectionManager(){return Yt.unregisterSelectionManager(this.selectionManager)}render(){return this.compositionController.render()}reparse(){return this.composition.replaceHTML(this.editorElement.innerHTML)}compositionDidChangeDocument(e){if(this.notifyEditorElement("document-change"),!this.handlingInput)return this.render()}compositionDidChangeCurrentAttributes(e){return this.currentAttributes=e,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement("attributes-change",{attributes:this.currentAttributes})}compositionDidPerformInsertionAtRange(e){this.pasting&&(this.pastedRange=e)}compositionShouldAcceptFile(e){return this.notifyEditorElement("file-accept",{file:e})}compositionDidAddAttachment(e){const t=this.attachmentManager.manageAttachment(e);return this.notifyEditorElement("attachment-add",{attachment:t})}compositionDidEditAttachment(e){this.compositionController.rerenderViewForObject(e);const t=this.attachmentManager.manageAttachment(e);return this.notifyEditorElement("attachment-edit",{attachment:t}),this.notifyEditorElement("change")}compositionDidChangeAttachmentPreviewURL(e){return this.compositionController.invalidateViewForObject(e),this.notifyEditorElement("change")}compositionDidRemoveAttachment(e){const t=this.attachmentManager.unmanageAttachment(e);return this.notifyEditorElement("attachment-remove",{attachment:t})}compositionDidStartEditingAttachment(e,t){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(e),this.compositionController.installAttachmentEditorForAttachment(e,t),this.selectionManager.setLocationRange(this.attachmentLocationRange)}compositionDidStopEditingAttachment(e){this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null}compositionDidRequestChangingSelectionToLocationRange(e){if(!this.loadingSnapshot||this.isFocused())return this.requestedLocationRange=e,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()}compositionWillLoadSnapshot(){this.loadingSnapshot=!0}compositionDidLoadSnapshot(){this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1}getSelectionManager(){return this.selectionManager}attachmentManagerDidRequestRemovalOfAttachment(e){return this.removeAttachment(e)}compositionControllerWillSyncDocumentView(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()}compositionControllerDidSyncDocumentView(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement("sync")}compositionControllerDidRender(){this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement("render")),this.renderedCompositionRevision=this.composition.revision}compositionControllerDidFocus(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement("focus")}compositionControllerDidBlur(){return this.notifyEditorElement("blur")}compositionControllerDidSelectAttachment(e,t){return this.toolbarController.hideDialog(),this.composition.editAttachment(e,t)}compositionControllerDidRequestDeselectingAttachment(e){const t=this.attachmentLocationRange||this.composition.document.getLocationRangeOfAttachment(e);return this.selectionManager.setLocationRange(t[1])}compositionControllerWillUpdateAttachment(e){return this.editor.recordUndoEntry("Edit Attachment",{context:e.id,consolidatable:!0})}compositionControllerDidRequestRemovalOfAttachment(e){return this.removeAttachment(e)}inputControllerWillHandleInput(){this.handlingInput=!0,this.requestedRender=!1}inputControllerDidRequestRender(){this.requestedRender=!0}inputControllerDidHandleInput(){if(this.handlingInput=!1,this.requestedRender)return this.requestedRender=!1,this.render()}inputControllerDidAllowUnhandledInput(){return this.notifyEditorElement("change")}inputControllerDidRequestReparse(){return this.reparse()}inputControllerWillPerformTyping(){return this.recordTypingUndoEntry()}inputControllerWillPerformFormatting(e){return this.recordFormattingUndoEntry(e)}inputControllerWillCutText(){return this.editor.recordUndoEntry("Cut")}inputControllerWillPaste(e){return this.editor.recordUndoEntry("Paste"),this.pasting=!0,this.notifyEditorElement("before-paste",{paste:e})}inputControllerDidPaste(e){return e.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement("paste",{paste:e})}inputControllerWillMoveText(){return this.editor.recordUndoEntry("Move")}inputControllerWillAttachFiles(){return this.editor.recordUndoEntry("Drop Files")}inputControllerWillPerformUndo(){return this.editor.undo()}inputControllerWillPerformRedo(){return this.editor.redo()}inputControllerDidReceiveKeyboardCommand(e){return this.toolbarController.applyKeyboardCommand(e)}inputControllerDidStartDrag(){this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()}inputControllerDidReceiveDragOverPoint(e){return this.selectionManager.setLocationRangeFromPointRange(e)}inputControllerDidCancelDrag(){this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null}locationRangeDidChange(e){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!Ss(this.attachmentLocationRange,e)&&this.composition.stopEditingAttachment(),this.notifyEditorElement("selection-change")}toolbarDidClickButton(){if(!this.getLocationRange())return this.setLocationRange({index:0,offset:0})}toolbarDidInvokeAction(e,t){return this.invokeAction(e,t)}toolbarDidToggleAttribute(e){if(this.recordFormattingUndoEntry(e),this.composition.toggleCurrentAttribute(e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidUpdateAttribute(e,t){if(this.recordFormattingUndoEntry(e),this.composition.setCurrentAttribute(e,t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidRemoveAttribute(e){if(this.recordFormattingUndoEntry(e),this.composition.removeCurrentAttribute(e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarWillShowDialog(e){return this.composition.expandSelectionForEditing(),this.freezeSelection()}toolbarDidShowDialog(e){return this.notifyEditorElement("toolbar-dialog-show",{dialogName:e})}toolbarDidHideDialog(e){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement("toolbar-dialog-hide",{dialogName:e})}freezeSelection(){if(!this.selectionFrozen)return this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render()}thawSelection(){if(this.selectionFrozen)return this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()}canInvokeAction(e){return!!this.actionIsExternal(e)||!((t=this.actions[e])===null||t===void 0||(t=t.test)===null||t===void 0||!t.call(this));var t}invokeAction(e,t){return this.actionIsExternal(e)?this.notifyEditorElement("action-invoke",{actionName:e,invokingElement:t}):(i=this.actions[e])===null||i===void 0||(i=i.perform)===null||i===void 0?void 0:i.call(this);var i}actionIsExternal(e){return/^x-./.test(e)}getCurrentActions(){const e={};for(const t in this.actions)e[t]=this.canInvokeAction(t);return e}updateCurrentActions(){const e=this.getCurrentActions();if(!Di(e,this.currentActions))return this.currentActions=e,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement("actions-change",{actions:this.currentActions})}runEditorFilters(){let e=this.composition.getSnapshot();if(Array.from(this.editor.filters).forEach(s=>{const{document:r,selectedRange:o}=e;e=s.call(this.editor,e)||{},e.document||(e.document=r),e.selectedRange||(e.selectedRange=o)}),t=e,i=this.composition.getSnapshot(),!Ss(t.selectedRange,i.selectedRange)||!t.document.isEqualTo(i.document))return this.composition.loadSnapshot(e);var t,i}updateInputElement(){const e=function(t,i){const s=lf[i];return s(t)}(this.compositionController.getSerializableElement(),"text/html");return this.editorElement.setFormValue(e)}notifyEditorElement(e,t){switch(e){case"document-change":this.documentChangedSinceLastRender=!0;break;case"render":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement("change"));break;case"change":case"attachment-add":case"attachment-edit":case"attachment-remove":this.updateInputElement()}return this.editorElement.notify(e,t)}removeAttachment(e){return this.editor.recordUndoEntry("Delete Attachment"),this.composition.removeAttachment(e),this.render()}recordFormattingUndoEntry(e){const t=Z(e),i=this.selectionManager.getLocationRange();if(t||!bt(i))return this.editor.recordUndoEntry("Formatting",{context:this.getUndoContext(),consolidatable:!0})}recordTypingUndoEntry(){return this.editor.recordUndoEntry("Typing",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})}getUndoContext(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return[this.getLocationContext(),this.getTimeContext(),...Array.from(t)]}getLocationContext(){const e=this.selectionManager.getLocationRange();return bt(e)?e[0].index:e}getTimeContext(){return Hr.interval>0?Math.floor(new Date().getTime()/Hr.interval):0}isFocused(){var e;return this.editorElement===((e=this.editorElement.ownerDocument)===null||e===void 0?void 0:e.activeElement)}isFocusedInvisibly(){return this.isFocused()&&!this.getLocationRange()}get actions(){return this.constructor.actions}}ve(fn,"actions",{undo:{test(){return this.editor.canUndo()},perform(){return this.editor.undo()}},redo:{test(){return this.editor.canRedo()},perform(){return this.editor.redo()}},link:{test(){return this.editor.canActivateAttribute("href")}},increaseNestingLevel:{test(){return this.editor.canIncreaseNestingLevel()},perform(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test(){return this.editor.canDecreaseNestingLevel()},perform(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:()=>!0,perform(){return Po.pickFiles(this.editor.insertFiles)}}}),fn.proxyMethod("getSelectionManager().setLocationRange"),fn.proxyMethod("getSelectionManager().getLocationRange");var Nf=Object.freeze({__proto__:null,AttachmentEditorController:_c,CompositionController:$c,Controller:qc,EditorController:fn,InputController:_s,Level0InputController:ft,Level2InputController:hn,ToolbarController:Uc}),Bf=Object.freeze({__proto__:null,MutationObserver:Vc,SelectionChangeObserver:fc}),Mf=Object.freeze({__proto__:null,FileVerificationOperation:jc,ImagePreloadOperation:Lc});cc("trix-toolbar",`%t {
  display: block;
}

%t {
  white-space: nowrap;
}

%t [data-trix-dialog] {
  display: none;
}

%t [data-trix-dialog][data-trix-active] {
  display: block;
}

%t [data-trix-dialog] [data-trix-validate]:invalid {
  background-color: #ffdddd;
}`);class Jc extends HTMLElement{connectedCallback(){this.innerHTML===""&&(this.innerHTML=lc.getDefaultHTML())}}let Ff=0;const _f=function(n){if(!n.hasAttribute("contenteditable"))return n.setAttribute("contenteditable",""),function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return t.times=1,G(e,t)}("focus",{onElement:n,withCallback:()=>$f(n)})},$f=function(n){return qf(n),Hf()},qf=function(n){var e,t;if((e=(t=document).queryCommandSupported)!==null&&e!==void 0&&e.call(t,"enableObjectResizing"))return document.execCommand("enableObjectResizing",!1,!1),G("mscontrolselect",{onElement:n,preventDefault:!0})},Hf=function(n){var e,t;if((e=(t=document).queryCommandSupported)!==null&&e!==void 0&&e.call(t,"DefaultParagraphSeparator")){const{tagName:i}=ge.default;if(["div","p"].includes(i))return document.execCommand("DefaultParagraphSeparator",!1,i)}},gl=Tn.forcesObjectResizing?{display:"inline",width:"auto"}:{display:"inline-block",width:"1px"};cc("trix-editor",`%t {
    display: block;
}

%t:empty::before {
    content: attr(placeholder);
    color: graytext;
    cursor: text;
    pointer-events: none;
    white-space: pre-line;
}

%t a[contenteditable=false] {
    cursor: text;
}

%t img {
    max-width: 100%;
    height: auto;
}

%t `.concat(Vt,` figcaption textarea {
    resize: none;
}

%t `).concat(Vt,` figcaption textarea.trix-autoresize-clone {
    position: absolute;
    left: -9999px;
    max-height: 0px;
}

%t `).concat(Vt,` figcaption[data-trix-placeholder]:empty::before {
    content: attr(data-trix-placeholder);
    color: graytext;
}

%t [data-trix-cursor-target] {
    display: `).concat(gl.display,` !important;
    width: `).concat(gl.width,` !important;
    padding: 0 !important;
    margin: 0 !important;
    border: none !important;
}

%t [data-trix-cursor-target=left] {
    vertical-align: top !important;
    margin-left: -1px !important;
}

%t [data-trix-cursor-target=right] {
    vertical-align: bottom !important;
    margin-right: -1px !important;
}`));var ht=new WeakMap,Yi=new WeakSet;class Vf{constructor(e){var t,i;Ec(t=this,i=Yi),i.add(t),dn(this,ht,{writable:!0,value:void 0}),this.element=e,$o(this,ht,e.attachInternals())}connectedCallback(){ss(this,Yi,rs).call(this)}disconnectedCallback(){}get labels(){return V(this,ht).labels}get disabled(){var e;return(e=this.element.inputElement)===null||e===void 0?void 0:e.disabled}set disabled(e){this.element.toggleAttribute("disabled",e)}get required(){return this.element.hasAttribute("required")}set required(e){this.element.toggleAttribute("required",e),ss(this,Yi,rs).call(this)}get validity(){return V(this,ht).validity}get validationMessage(){return V(this,ht).validationMessage}get willValidate(){return V(this,ht).willValidate}setFormValue(e){ss(this,Yi,rs).call(this)}checkValidity(){return V(this,ht).checkValidity()}reportValidity(){return V(this,ht).reportValidity()}setCustomValidity(e){ss(this,Yi,rs).call(this,e)}}function rs(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";const{required:e,value:t}=this.element,i=e&&!t,s=!!n,r=R("input",{required:e}),o=n||r.validationMessage;V(this,ht).setValidity({valueMissing:i,customError:s},o)}var kr=new WeakMap,Ir=new WeakMap,Rr=new WeakMap;class jf{constructor(e){dn(this,kr,{writable:!0,value:void 0}),dn(this,Ir,{writable:!0,value:t=>{t.defaultPrevented||t.target===this.element.form&&this.element.reset()}}),dn(this,Rr,{writable:!0,value:t=>{if(t.defaultPrevented||this.element.contains(t.target))return;const i=Lt(t.target,{matchingSelector:"label"});i&&Array.from(this.labels).includes(i)&&this.element.focus()}}),this.element=e}connectedCallback(){$o(this,kr,function(e){if(e.hasAttribute("aria-label")||e.hasAttribute("aria-labelledby"))return;const t=function(){const i=Array.from(e.labels).map(r=>{if(!r.contains(e))return r.textContent}).filter(r=>r),s=i.join(" ");return s?e.setAttribute("aria-label",s):e.removeAttribute("aria-label")};return t(),G("focus",{onElement:e,withCallback:t})}(this.element)),window.addEventListener("reset",V(this,Ir),!1),window.addEventListener("click",V(this,Rr),!1)}disconnectedCallback(){var e;(e=V(this,kr))===null||e===void 0||e.destroy(),window.removeEventListener("reset",V(this,Ir),!1),window.removeEventListener("click",V(this,Rr),!1)}get labels(){const e=[];this.element.id&&this.element.ownerDocument&&e.push(...Array.from(this.element.ownerDocument.querySelectorAll("label[for='".concat(this.element.id,"']"))||[]));const t=Lt(this.element,{matchingSelector:"label"});return t&&[this.element,null].includes(t.control)&&e.push(t),e}get disabled(){return console.warn("This browser does not support the [disabled] attribute for trix-editor elements."),!1}set disabled(e){console.warn("This browser does not support the [disabled] attribute for trix-editor elements.")}get required(){return console.warn("This browser does not support the [required] attribute for trix-editor elements."),!1}set required(e){console.warn("This browser does not support the [required] attribute for trix-editor elements.")}get validity(){return console.warn("This browser does not support the validity property for trix-editor elements."),null}get validationMessage(){return console.warn("This browser does not support the validationMessage property for trix-editor elements."),""}get willValidate(){return console.warn("This browser does not support the willValidate property for trix-editor elements."),!1}setFormValue(e){}checkValidity(){return console.warn("This browser does not support checkValidity() for trix-editor elements."),!0}reportValidity(){return console.warn("This browser does not support reportValidity() for trix-editor elements."),!0}setCustomValidity(e){console.warn("This browser does not support setCustomValidity(validationMessage) for trix-editor elements.")}}var le=new WeakMap;class Ho extends HTMLElement{constructor(){super(),dn(this,le,{writable:!0,value:void 0}),$o(this,le,this.constructor.formAssociated?new Vf(this):new jf(this))}get trixId(){return this.hasAttribute("trix-id")?this.getAttribute("trix-id"):(this.setAttribute("trix-id",++Ff),this.trixId)}get labels(){return V(this,le).labels}get disabled(){return V(this,le).disabled}set disabled(e){V(this,le).disabled=e}get required(){return V(this,le).required}set required(e){V(this,le).required=e}get validity(){return V(this,le).validity}get validationMessage(){return V(this,le).validationMessage}get willValidate(){return V(this,le).willValidate}get type(){return this.localName}get toolbarElement(){var e;if(this.hasAttribute("toolbar"))return(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.getAttribute("toolbar"));if(this.parentNode){const t="trix-toolbar-".concat(this.trixId);this.setAttribute("toolbar",t);const i=R("trix-toolbar",{id:t});return this.parentNode.insertBefore(i,this),i}}get form(){var e;return(e=this.inputElement)===null||e===void 0?void 0:e.form}get inputElement(){var e;if(this.hasAttribute("input"))return(e=this.ownerDocument)===null||e===void 0?void 0:e.getElementById(this.getAttribute("input"));if(this.parentNode){const t="trix-input-".concat(this.trixId);this.setAttribute("input",t);const i=R("input",{type:"hidden",id:t});return this.parentNode.insertBefore(i,this.nextElementSibling),i}}get editor(){var e;return(e=this.editorController)===null||e===void 0?void 0:e.editor}get name(){var e;return(e=this.inputElement)===null||e===void 0?void 0:e.name}get value(){var e;return(e=this.inputElement)===null||e===void 0?void 0:e.value}set value(e){var t;this.defaultValue=e,(t=this.editor)===null||t===void 0||t.loadHTML(this.defaultValue)}notify(e,t){if(this.editorController)return an("trix-".concat(e),{onElement:this,attributes:t})}setFormValue(e){this.inputElement&&(this.inputElement.value=e,V(this,le).setFormValue(e))}connectedCallback(){this.hasAttribute("data-trix-internal")||(_f(this),function(e){e.hasAttribute("role")||e.setAttribute("role","textbox")}(this),this.editorController||(an("trix-before-initialize",{onElement:this}),this.editorController=new fn({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame(()=>an("trix-initialize",{onElement:this}))),this.editorController.registerSelectionManager(),V(this,le).connectedCallback(),function(e){!document.querySelector(":focus")&&e.hasAttribute("autofocus")&&document.querySelector("[autofocus]")===e&&e.focus()}(this))}disconnectedCallback(){var e;(e=this.editorController)===null||e===void 0||e.unregisterSelectionManager(),V(this,le).disconnectedCallback()}checkValidity(){return V(this,le).checkValidity()}reportValidity(){return V(this,le).reportValidity()}setCustomValidity(e){V(this,le).setCustomValidity(e)}formDisabledCallback(e){this.inputElement&&(this.inputElement.disabled=e),this.toggleAttribute("contenteditable",!e)}formResetCallback(){this.reset()}reset(){this.value=this.defaultValue}}ve(Ho,"formAssociated","ElementInternals"in window);const eo={VERSION:zd,config:kn,core:cf,models:Fc,views:pf,controllers:Nf,observers:Bf,operations:Mf,elements:Object.freeze({__proto__:null,TrixEditorElement:Ho,TrixToolbarElement:Jc}),filters:Object.freeze({__proto__:null,Filter:Dc,attachmentGalleryFilter:Pc})};Object.assign(eo,Fc),window.Trix=eo,setTimeout(function(){customElements.get("trix-toolbar")||customElements.define("trix-toolbar",Jc),customElements.get("trix-editor")||customElements.define("trix-editor",Ho)},0);window.Trix=eo;function Kc(n,e){return function(){return n.apply(e,arguments)}}const{toString:Wf}=Object.prototype,{getPrototypeOf:Vo}=Object,qs=(n=>e=>{const t=Wf.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Ue=n=>(n=n.toLowerCase(),e=>qs(e)===n),Hs=n=>e=>typeof e===n,{isArray:Oi}=Array,wn=Hs("undefined");function zf(n){return n!==null&&!wn(n)&&n.constructor!==null&&!wn(n.constructor)&&Le(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const Xc=Ue("ArrayBuffer");function Uf(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&Xc(n.buffer),e}const Jf=Hs("string"),Le=Hs("function"),Gc=Hs("number"),Vs=n=>n!==null&&typeof n=="object",Kf=n=>n===!0||n===!1,gs=n=>{if(qs(n)!=="object")return!1;const e=Vo(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},Xf=Ue("Date"),Gf=Ue("File"),Qf=Ue("Blob"),Yf=Ue("FileList"),Zf=n=>Vs(n)&&Le(n.pipe),ep=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Le(n.append)&&((e=qs(n))==="formdata"||e==="object"&&Le(n.toString)&&n.toString()==="[object FormData]"))},tp=Ue("URLSearchParams"),[ip,np,sp,rp]=["ReadableStream","Request","Response","Headers"].map(Ue),op=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function In(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let i,s;if(typeof n!="object"&&(n=[n]),Oi(n))for(i=0,s=n.length;i<s;i++)e.call(null,n[i],i,n);else{const r=t?Object.getOwnPropertyNames(n):Object.keys(n),o=r.length;let a;for(i=0;i<o;i++)a=r[i],e.call(null,n[a],a,n)}}function Qc(n,e){e=e.toLowerCase();const t=Object.keys(n);let i=t.length,s;for(;i-- >0;)if(s=t[i],e===s.toLowerCase())return s;return null}const qt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Yc=n=>!wn(n)&&n!==qt;function to(){const{caseless:n}=Yc(this)&&this||{},e={},t=(i,s)=>{const r=n&&Qc(e,s)||s;gs(e[r])&&gs(i)?e[r]=to(e[r],i):gs(i)?e[r]=to({},i):Oi(i)?e[r]=i.slice():e[r]=i};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&In(arguments[i],t);return e}const ap=(n,e,t,{allOwnKeys:i}={})=>(In(e,(s,r)=>{t&&Le(s)?n[r]=Kc(s,t):n[r]=s},{allOwnKeys:i}),n),lp=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),cp=(n,e,t,i)=>{n.prototype=Object.create(e.prototype,i),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},up=(n,e,t,i)=>{let s,r,o;const a={};if(e=e||{},n==null)return e;do{for(s=Object.getOwnPropertyNames(n),r=s.length;r-- >0;)o=s[r],(!i||i(o,n,e))&&!a[o]&&(e[o]=n[o],a[o]=!0);n=t!==!1&&Vo(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},dp=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const i=n.indexOf(e,t);return i!==-1&&i===t},hp=n=>{if(!n)return null;if(Oi(n))return n;let e=n.length;if(!Gc(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},fp=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Vo(Uint8Array)),pp=(n,e)=>{const i=(n&&n[Symbol.iterator]).call(n);let s;for(;(s=i.next())&&!s.done;){const r=s.value;e.call(n,r[0],r[1])}},mp=(n,e)=>{let t;const i=[];for(;(t=n.exec(e))!==null;)i.push(t);return i},gp=Ue("HTMLFormElement"),bp=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,i,s){return i.toUpperCase()+s}),bl=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),yp=Ue("RegExp"),Zc=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),i={};In(t,(s,r)=>{let o;(o=e(s,r,n))!==!1&&(i[r]=o||s)}),Object.defineProperties(n,i)},vp=n=>{Zc(n,(e,t)=>{if(Le(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const i=n[t];if(Le(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},wp=(n,e)=>{const t={},i=s=>{s.forEach(r=>{t[r]=!0})};return Oi(n)?i(n):i(String(n).split(e)),t},Cp=()=>{},xp=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e,Dr="abcdefghijklmnopqrstuvwxyz",yl="0123456789",eu={DIGIT:yl,ALPHA:Dr,ALPHA_DIGIT:Dr+Dr.toUpperCase()+yl},Sp=(n=16,e=eu.ALPHA_DIGIT)=>{let t="";const{length:i}=e;for(;n--;)t+=e[Math.random()*i|0];return t};function Ap(n){return!!(n&&Le(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const Ep=n=>{const e=new Array(10),t=(i,s)=>{if(Vs(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[s]=i;const r=Oi(i)?[]:{};return In(i,(o,a)=>{const l=t(o,s+1);!wn(l)&&(r[a]=l)}),e[s]=void 0,r}}return i};return t(n,0)},Lp=Ue("AsyncFunction"),Tp=n=>n&&(Vs(n)||Le(n))&&Le(n.then)&&Le(n.catch),tu=((n,e)=>n?setImmediate:e?((t,i)=>(qt.addEventListener("message",({source:s,data:r})=>{s===qt&&r===t&&i.length&&i.shift()()},!1),s=>{i.push(s),qt.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Le(qt.postMessage)),kp=typeof queueMicrotask<"u"?queueMicrotask.bind(qt):typeof process<"u"&&process.nextTick||tu,m={isArray:Oi,isArrayBuffer:Xc,isBuffer:zf,isFormData:ep,isArrayBufferView:Uf,isString:Jf,isNumber:Gc,isBoolean:Kf,isObject:Vs,isPlainObject:gs,isReadableStream:ip,isRequest:np,isResponse:sp,isHeaders:rp,isUndefined:wn,isDate:Xf,isFile:Gf,isBlob:Qf,isRegExp:yp,isFunction:Le,isStream:Zf,isURLSearchParams:tp,isTypedArray:fp,isFileList:Yf,forEach:In,merge:to,extend:ap,trim:op,stripBOM:lp,inherits:cp,toFlatObject:up,kindOf:qs,kindOfTest:Ue,endsWith:dp,toArray:hp,forEachEntry:pp,matchAll:mp,isHTMLForm:gp,hasOwnProperty:bl,hasOwnProp:bl,reduceDescriptors:Zc,freezeMethods:vp,toObjectSet:wp,toCamelCase:bp,noop:Cp,toFiniteNumber:xp,findKey:Qc,global:qt,isContextDefined:Yc,ALPHABET:eu,generateString:Sp,isSpecCompliantForm:Ap,toJSONObject:Ep,isAsyncFn:Lp,isThenable:Tp,setImmediate:tu,asap:kp};function k(n,e,t,i,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),i&&(this.request=i),s&&(this.response=s,this.status=s.status?s.status:null)}m.inherits(k,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:m.toJSONObject(this.config),code:this.code,status:this.status}}});const iu=k.prototype,nu={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{nu[n]={value:n}});Object.defineProperties(k,nu);Object.defineProperty(iu,"isAxiosError",{value:!0});k.from=(n,e,t,i,s,r)=>{const o=Object.create(iu);return m.toFlatObject(n,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),k.call(o,n.message,e,t,i,s),o.cause=n,o.name=n.name,r&&Object.assign(o,r),o};const Ip=null;function io(n){return m.isPlainObject(n)||m.isArray(n)}function su(n){return m.endsWith(n,"[]")?n.slice(0,-2):n}function vl(n,e,t){return n?n.concat(e).map(function(s,r){return s=su(s),!t&&r?"["+s+"]":s}).join(t?".":""):e}function Rp(n){return m.isArray(n)&&!n.some(io)}const Dp=m.toFlatObject(m,{},null,function(e){return/^is[A-Z]/.test(e)});function js(n,e,t){if(!m.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=m.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,p){return!m.isUndefined(p[y])});const i=t.metaTokens,s=t.visitor||u,r=t.dots,o=t.indexes,l=(t.Blob||typeof Blob<"u"&&Blob)&&m.isSpecCompliantForm(e);if(!m.isFunction(s))throw new TypeError("visitor must be a function");function c(b){if(b===null)return"";if(m.isDate(b))return b.toISOString();if(!l&&m.isBlob(b))throw new k("Blob is not supported. Use a Buffer instead.");return m.isArrayBuffer(b)||m.isTypedArray(b)?l&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function u(b,y,p){let v=b;if(b&&!p&&typeof b=="object"){if(m.endsWith(y,"{}"))y=i?y:y.slice(0,-2),b=JSON.stringify(b);else if(m.isArray(b)&&Rp(b)||(m.isFileList(b)||m.endsWith(y,"[]"))&&(v=m.toArray(b)))return y=su(y),v.forEach(function(A,w){!(m.isUndefined(A)||A===null)&&e.append(o===!0?vl([y],w,r):o===null?y:y+"[]",c(A))}),!1}return io(b)?!0:(e.append(vl(p,y,r),c(b)),!1)}const h=[],f=Object.assign(Dp,{defaultVisitor:u,convertValue:c,isVisitable:io});function g(b,y){if(!m.isUndefined(b)){if(h.indexOf(b)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(b),m.forEach(b,function(v,S){(!(m.isUndefined(v)||v===null)&&s.call(e,v,m.isString(S)?S.trim():S,y,f))===!0&&g(v,y?y.concat(S):[S])}),h.pop()}}if(!m.isObject(n))throw new TypeError("data must be an object");return g(n),e}function wl(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function jo(n,e){this._pairs=[],n&&js(n,this,e)}const ru=jo.prototype;ru.append=function(e,t){this._pairs.push([e,t])};ru.toString=function(e){const t=e?function(i){return e.call(this,i,wl)}:wl;return this._pairs.map(function(s){return t(s[0])+"="+t(s[1])},"").join("&")};function Pp(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ou(n,e,t){if(!e)return n;const i=t&&t.encode||Pp;m.isFunction(t)&&(t={serialize:t});const s=t&&t.serialize;let r;if(s?r=s(e,t):r=m.isURLSearchParams(e)?e.toString():new jo(e,t).toString(i),r){const o=n.indexOf("#");o!==-1&&(n=n.slice(0,o)),n+=(n.indexOf("?")===-1?"?":"&")+r}return n}class Cl{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){m.forEach(this.handlers,function(i){i!==null&&e(i)})}}const au={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Op=typeof URLSearchParams<"u"?URLSearchParams:jo,Np=typeof FormData<"u"?FormData:null,Bp=typeof Blob<"u"?Blob:null,Mp={isBrowser:!0,classes:{URLSearchParams:Op,FormData:Np,Blob:Bp},protocols:["http","https","file","blob","url","data"]},Wo=typeof window<"u"&&typeof document<"u",no=typeof navigator=="object"&&navigator||void 0,Fp=Wo&&(!no||["ReactNative","NativeScript","NS"].indexOf(no.product)<0),_p=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$p=Wo&&window.location.href||"http://localhost",qp=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Wo,hasStandardBrowserEnv:Fp,hasStandardBrowserWebWorkerEnv:_p,navigator:no,origin:$p},Symbol.toStringTag,{value:"Module"})),ue={...qp,...Mp};function Hp(n,e){return js(n,new ue.classes.URLSearchParams,Object.assign({visitor:function(t,i,s,r){return ue.isNode&&m.isBuffer(t)?(this.append(i,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},e))}function Vp(n){return m.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function jp(n){const e={},t=Object.keys(n);let i;const s=t.length;let r;for(i=0;i<s;i++)r=t[i],e[r]=n[r];return e}function lu(n){function e(t,i,s,r){let o=t[r++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=r>=t.length;return o=!o&&m.isArray(s)?s.length:o,l?(m.hasOwnProp(s,o)?s[o]=[s[o],i]:s[o]=i,!a):((!s[o]||!m.isObject(s[o]))&&(s[o]=[]),e(t,i,s[o],r)&&m.isArray(s[o])&&(s[o]=jp(s[o])),!a)}if(m.isFormData(n)&&m.isFunction(n.entries)){const t={};return m.forEachEntry(n,(i,s)=>{e(Vp(i),s,t,0)}),t}return null}function Wp(n,e,t){if(m.isString(n))try{return(e||JSON.parse)(n),m.trim(n)}catch(i){if(i.name!=="SyntaxError")throw i}return(0,JSON.stringify)(n)}const Rn={transitional:au,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const i=t.getContentType()||"",s=i.indexOf("application/json")>-1,r=m.isObject(e);if(r&&m.isHTMLForm(e)&&(e=new FormData(e)),m.isFormData(e))return s?JSON.stringify(lu(e)):e;if(m.isArrayBuffer(e)||m.isBuffer(e)||m.isStream(e)||m.isFile(e)||m.isBlob(e)||m.isReadableStream(e))return e;if(m.isArrayBufferView(e))return e.buffer;if(m.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(r){if(i.indexOf("application/x-www-form-urlencoded")>-1)return Hp(e,this.formSerializer).toString();if((a=m.isFileList(e))||i.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return js(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return r||s?(t.setContentType("application/json",!1),Wp(e)):e}],transformResponse:[function(e){const t=this.transitional||Rn.transitional,i=t&&t.forcedJSONParsing,s=this.responseType==="json";if(m.isResponse(e)||m.isReadableStream(e))return e;if(e&&m.isString(e)&&(i&&!this.responseType||s)){const o=!(t&&t.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?k.from(a,k.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ue.classes.FormData,Blob:ue.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};m.forEach(["delete","get","head","post","put","patch"],n=>{Rn.headers[n]={}});const zp=m.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Up=n=>{const e={};let t,i,s;return n&&n.split(`
`).forEach(function(o){s=o.indexOf(":"),t=o.substring(0,s).trim().toLowerCase(),i=o.substring(s+1).trim(),!(!t||e[t]&&zp[t])&&(t==="set-cookie"?e[t]?e[t].push(i):e[t]=[i]:e[t]=e[t]?e[t]+", "+i:i)}),e},xl=Symbol("internals");function Zi(n){return n&&String(n).trim().toLowerCase()}function bs(n){return n===!1||n==null?n:m.isArray(n)?n.map(bs):String(n)}function Jp(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=t.exec(n);)e[i[1]]=i[2];return e}const Kp=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Pr(n,e,t,i,s){if(m.isFunction(i))return i.call(this,e,t);if(s&&(e=t),!!m.isString(e)){if(m.isString(i))return e.indexOf(i)!==-1;if(m.isRegExp(i))return i.test(e)}}function Xp(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,i)=>t.toUpperCase()+i)}function Gp(n,e){const t=m.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(n,i+t,{value:function(s,r,o){return this[i].call(this,e,s,r,o)},configurable:!0})})}class we{constructor(e){e&&this.set(e)}set(e,t,i){const s=this;function r(a,l,c){const u=Zi(l);if(!u)throw new Error("header name must be a non-empty string");const h=m.findKey(s,u);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||l]=bs(a))}const o=(a,l)=>m.forEach(a,(c,u)=>r(c,u,l));if(m.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(m.isString(e)&&(e=e.trim())&&!Kp(e))o(Up(e),t);else if(m.isHeaders(e))for(const[a,l]of e.entries())r(l,a,i);else e!=null&&r(t,e,i);return this}get(e,t){if(e=Zi(e),e){const i=m.findKey(this,e);if(i){const s=this[i];if(!t)return s;if(t===!0)return Jp(s);if(m.isFunction(t))return t.call(this,s,i);if(m.isRegExp(t))return t.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Zi(e),e){const i=m.findKey(this,e);return!!(i&&this[i]!==void 0&&(!t||Pr(this,this[i],i,t)))}return!1}delete(e,t){const i=this;let s=!1;function r(o){if(o=Zi(o),o){const a=m.findKey(i,o);a&&(!t||Pr(i,i[a],a,t))&&(delete i[a],s=!0)}}return m.isArray(e)?e.forEach(r):r(e),s}clear(e){const t=Object.keys(this);let i=t.length,s=!1;for(;i--;){const r=t[i];(!e||Pr(this,this[r],r,e,!0))&&(delete this[r],s=!0)}return s}normalize(e){const t=this,i={};return m.forEach(this,(s,r)=>{const o=m.findKey(i,r);if(o){t[o]=bs(s),delete t[r];return}const a=e?Xp(r):String(r).trim();a!==r&&delete t[r],t[a]=bs(s),i[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return m.forEach(this,(i,s)=>{i!=null&&i!==!1&&(t[s]=e&&m.isArray(i)?i.join(", "):i)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const i=new this(e);return t.forEach(s=>i.set(s)),i}static accessor(e){const i=(this[xl]=this[xl]={accessors:{}}).accessors,s=this.prototype;function r(o){const a=Zi(o);i[a]||(Gp(s,o),i[a]=!0)}return m.isArray(e)?e.forEach(r):r(e),this}}we.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);m.reduceDescriptors(we.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(i){this[t]=i}}});m.freezeMethods(we);function Or(n,e){const t=this||Rn,i=e||t,s=we.from(i.headers);let r=i.data;return m.forEach(n,function(a){r=a.call(t,r,s.normalize(),e?e.status:void 0)}),s.normalize(),r}function cu(n){return!!(n&&n.__CANCEL__)}function Ni(n,e,t){k.call(this,n??"canceled",k.ERR_CANCELED,e,t),this.name="CanceledError"}m.inherits(Ni,k,{__CANCEL__:!0});function uu(n,e,t){const i=t.config.validateStatus;!t.status||!i||i(t.status)?n(t):e(new k("Request failed with status code "+t.status,[k.ERR_BAD_REQUEST,k.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Qp(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function Yp(n,e){n=n||10;const t=new Array(n),i=new Array(n);let s=0,r=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=i[r];o||(o=c),t[s]=l,i[s]=c;let h=r,f=0;for(;h!==s;)f+=t[h++],h=h%n;if(s=(s+1)%n,s===r&&(r=(r+1)%n),c-o<e)return;const g=u&&c-u;return g?Math.round(f*1e3/g):void 0}}function Zp(n,e){let t=0,i=1e3/e,s,r;const o=(c,u=Date.now())=>{t=u,s=null,r&&(clearTimeout(r),r=null),n.apply(null,c)};return[(...c)=>{const u=Date.now(),h=u-t;h>=i?o(c,u):(s=c,r||(r=setTimeout(()=>{r=null,o(s)},i-h)))},()=>s&&o(s)]}const Ts=(n,e,t=3)=>{let i=0;const s=Yp(50,250);return Zp(r=>{const o=r.loaded,a=r.lengthComputable?r.total:void 0,l=o-i,c=s(l),u=o<=a;i=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:r,lengthComputable:a!=null,[e?"download":"upload"]:!0};n(h)},t)},Sl=(n,e)=>{const t=n!=null;return[i=>e[0]({lengthComputable:t,total:n,loaded:i}),e[1]]},Al=n=>(...e)=>m.asap(()=>n(...e)),em=ue.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,ue.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(ue.origin),ue.navigator&&/(msie|trident)/i.test(ue.navigator.userAgent)):()=>!0,tm=ue.hasStandardBrowserEnv?{write(n,e,t,i,s,r){const o=[n+"="+encodeURIComponent(e)];m.isNumber(t)&&o.push("expires="+new Date(t).toGMTString()),m.isString(i)&&o.push("path="+i),m.isString(s)&&o.push("domain="+s),r===!0&&o.push("secure"),document.cookie=o.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function im(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function nm(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function du(n,e){return n&&!im(e)?nm(n,e):e}const El=n=>n instanceof we?{...n}:n;function Zt(n,e){e=e||{};const t={};function i(c,u,h,f){return m.isPlainObject(c)&&m.isPlainObject(u)?m.merge.call({caseless:f},c,u):m.isPlainObject(u)?m.merge({},u):m.isArray(u)?u.slice():u}function s(c,u,h,f){if(m.isUndefined(u)){if(!m.isUndefined(c))return i(void 0,c,h,f)}else return i(c,u,h,f)}function r(c,u){if(!m.isUndefined(u))return i(void 0,u)}function o(c,u){if(m.isUndefined(u)){if(!m.isUndefined(c))return i(void 0,c)}else return i(void 0,u)}function a(c,u,h){if(h in e)return i(c,u);if(h in n)return i(void 0,c)}const l={url:r,method:r,data:r,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,h)=>s(El(c),El(u),h,!0)};return m.forEach(Object.keys(Object.assign({},n,e)),function(u){const h=l[u]||s,f=h(n[u],e[u],u);m.isUndefined(f)&&h!==a||(t[u]=f)}),t}const hu=n=>{const e=Zt({},n);let{data:t,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:r,headers:o,auth:a}=e;e.headers=o=we.from(o),e.url=ou(du(e.baseURL,e.url),n.params,n.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(m.isFormData(t)){if(ue.hasStandardBrowserEnv||ue.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[c,...u]=l?l.split(";").map(h=>h.trim()).filter(Boolean):[];o.setContentType([c||"multipart/form-data",...u].join("; "))}}if(ue.hasStandardBrowserEnv&&(i&&m.isFunction(i)&&(i=i(e)),i||i!==!1&&em(e.url))){const c=s&&r&&tm.read(r);c&&o.set(s,c)}return e},sm=typeof XMLHttpRequest<"u",rm=sm&&function(n){return new Promise(function(t,i){const s=hu(n);let r=s.data;const o=we.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,u,h,f,g,b;function y(){g&&g(),b&&b(),s.cancelToken&&s.cancelToken.unsubscribe(u),s.signal&&s.signal.removeEventListener("abort",u)}let p=new XMLHttpRequest;p.open(s.method.toUpperCase(),s.url,!0),p.timeout=s.timeout;function v(){if(!p)return;const A=we.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders()),C={data:!a||a==="text"||a==="json"?p.responseText:p.response,status:p.status,statusText:p.statusText,headers:A,config:n,request:p};uu(function(I){t(I),y()},function(I){i(I),y()},C),p=null}"onloadend"in p?p.onloadend=v:p.onreadystatechange=function(){!p||p.readyState!==4||p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0)||setTimeout(v)},p.onabort=function(){p&&(i(new k("Request aborted",k.ECONNABORTED,n,p)),p=null)},p.onerror=function(){i(new k("Network Error",k.ERR_NETWORK,n,p)),p=null},p.ontimeout=function(){let w=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const C=s.transitional||au;s.timeoutErrorMessage&&(w=s.timeoutErrorMessage),i(new k(w,C.clarifyTimeoutError?k.ETIMEDOUT:k.ECONNABORTED,n,p)),p=null},r===void 0&&o.setContentType(null),"setRequestHeader"in p&&m.forEach(o.toJSON(),function(w,C){p.setRequestHeader(C,w)}),m.isUndefined(s.withCredentials)||(p.withCredentials=!!s.withCredentials),a&&a!=="json"&&(p.responseType=s.responseType),c&&([f,b]=Ts(c,!0),p.addEventListener("progress",f)),l&&p.upload&&([h,g]=Ts(l),p.upload.addEventListener("progress",h),p.upload.addEventListener("loadend",g)),(s.cancelToken||s.signal)&&(u=A=>{p&&(i(!A||A.type?new Ni(null,n,p):A),p.abort(),p=null)},s.cancelToken&&s.cancelToken.subscribe(u),s.signal&&(s.signal.aborted?u():s.signal.addEventListener("abort",u)));const S=Qp(s.url);if(S&&ue.protocols.indexOf(S)===-1){i(new k("Unsupported protocol "+S+":",k.ERR_BAD_REQUEST,n));return}p.send(r||null)})},om=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let i=new AbortController,s;const r=function(c){if(!s){s=!0,a();const u=c instanceof Error?c:this.reason;i.abort(u instanceof k?u:new Ni(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,r(new k(`timeout ${e} of ms exceeded`,k.ETIMEDOUT))},e);const a=()=>{n&&(o&&clearTimeout(o),o=null,n.forEach(c=>{c.unsubscribe?c.unsubscribe(r):c.removeEventListener("abort",r)}),n=null)};n.forEach(c=>c.addEventListener("abort",r));const{signal:l}=i;return l.unsubscribe=()=>m.asap(a),l}},am=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let i=0,s;for(;i<t;)s=i+e,yield n.slice(i,s),i=s},lm=async function*(n,e){for await(const t of cm(n))yield*am(t,e)},cm=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:i}=await e.read();if(t)break;yield i}}finally{await e.cancel()}},Ll=(n,e,t,i)=>{const s=lm(n,e);let r=0,o,a=l=>{o||(o=!0,i&&i(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await s.next();if(c){a(),l.close();return}let h=u.byteLength;if(t){let f=r+=h;t(f)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},Ws=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",fu=Ws&&typeof ReadableStream=="function",um=Ws&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),pu=(n,...e)=>{try{return!!n(...e)}catch{return!1}},dm=fu&&pu(()=>{let n=!1;const e=new Request(ue.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Tl=64*1024,so=fu&&pu(()=>m.isReadableStream(new Response("").body)),ks={stream:so&&(n=>n.body)};Ws&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!ks[e]&&(ks[e]=m.isFunction(n[e])?t=>t[e]():(t,i)=>{throw new k(`Response type '${e}' is not supported`,k.ERR_NOT_SUPPORT,i)})})})(new Response);const hm=async n=>{if(n==null)return 0;if(m.isBlob(n))return n.size;if(m.isSpecCompliantForm(n))return(await new Request(ue.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(m.isArrayBufferView(n)||m.isArrayBuffer(n))return n.byteLength;if(m.isURLSearchParams(n)&&(n=n+""),m.isString(n))return(await um(n)).byteLength},fm=async(n,e)=>{const t=m.toFiniteNumber(n.getContentLength());return t??hm(e)},pm=Ws&&(async n=>{let{url:e,method:t,data:i,signal:s,cancelToken:r,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:f}=hu(n);c=c?(c+"").toLowerCase():"text";let g=om([s,r&&r.toAbortSignal()],o),b;const y=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let p;try{if(l&&dm&&t!=="get"&&t!=="head"&&(p=await fm(u,i))!==0){let C=new Request(e,{method:"POST",body:i,duplex:"half"}),L;if(m.isFormData(i)&&(L=C.headers.get("content-type"))&&u.setContentType(L),C.body){const[I,H]=Sl(p,Ts(Al(l)));i=Ll(C.body,Tl,I,H)}}m.isString(h)||(h=h?"include":"omit");const v="credentials"in Request.prototype;b=new Request(e,{...f,signal:g,method:t.toUpperCase(),headers:u.normalize().toJSON(),body:i,duplex:"half",credentials:v?h:void 0});let S=await fetch(b);const A=so&&(c==="stream"||c==="response");if(so&&(a||A&&y)){const C={};["status","statusText","headers"].forEach(j=>{C[j]=S[j]});const L=m.toFiniteNumber(S.headers.get("content-length")),[I,H]=a&&Sl(L,Ts(Al(a),!0))||[];S=new Response(Ll(S.body,Tl,I,()=>{H&&H(),y&&y()}),C)}c=c||"text";let w=await ks[m.findKey(ks,c)||"text"](S,n);return!A&&y&&y(),await new Promise((C,L)=>{uu(C,L,{data:w,headers:we.from(S.headers),status:S.status,statusText:S.statusText,config:n,request:b})})}catch(v){throw y&&y(),v&&v.name==="TypeError"&&/fetch/i.test(v.message)?Object.assign(new k("Network Error",k.ERR_NETWORK,n,b),{cause:v.cause||v}):k.from(v,v&&v.code,n,b)}}),ro={http:Ip,xhr:rm,fetch:pm};m.forEach(ro,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const kl=n=>`- ${n}`,mm=n=>m.isFunction(n)||n===null||n===!1,mu={getAdapter:n=>{n=m.isArray(n)?n:[n];const{length:e}=n;let t,i;const s={};for(let r=0;r<e;r++){t=n[r];let o;if(i=t,!mm(t)&&(i=ro[(o=String(t)).toLowerCase()],i===void 0))throw new k(`Unknown adapter '${o}'`);if(i)break;s[o||"#"+r]=i}if(!i){const r=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?r.length>1?`since :
`+r.map(kl).join(`
`):" "+kl(r[0]):"as no adapter specified";throw new k("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i},adapters:ro};function Nr(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Ni(null,n)}function Il(n){return Nr(n),n.headers=we.from(n.headers),n.data=Or.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),mu.getAdapter(n.adapter||Rn.adapter)(n).then(function(i){return Nr(n),i.data=Or.call(n,n.transformResponse,i),i.headers=we.from(i.headers),i},function(i){return cu(i)||(Nr(n),i&&i.response&&(i.response.data=Or.call(n,n.transformResponse,i.response),i.response.headers=we.from(i.response.headers))),Promise.reject(i)})}const gu="1.7.9",zs={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{zs[n]=function(i){return typeof i===n||"a"+(e<1?"n ":" ")+n}});const Rl={};zs.transitional=function(e,t,i){function s(r,o){return"[Axios v"+gu+"] Transitional option '"+r+"'"+o+(i?". "+i:"")}return(r,o,a)=>{if(e===!1)throw new k(s(o," has been removed"+(t?" in "+t:"")),k.ERR_DEPRECATED);return t&&!Rl[o]&&(Rl[o]=!0,console.warn(s(o," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(r,o,a):!0}};zs.spelling=function(e){return(t,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function gm(n,e,t){if(typeof n!="object")throw new k("options must be an object",k.ERR_BAD_OPTION_VALUE);const i=Object.keys(n);let s=i.length;for(;s-- >0;){const r=i[s],o=e[r];if(o){const a=n[r],l=a===void 0||o(a,r,n);if(l!==!0)throw new k("option "+r+" must be "+l,k.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new k("Unknown option "+r,k.ERR_BAD_OPTION)}}const ys={assertOptions:gm,validators:zs},Ye=ys.validators;class Wt{constructor(e){this.defaults=e,this.interceptors={request:new Cl,response:new Cl}}async request(e,t){try{return await this._request(e,t)}catch(i){if(i instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const r=s.stack?s.stack.replace(/^.+\n/,""):"";try{i.stack?r&&!String(i.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+r):i.stack=r}catch{}}throw i}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Zt(this.defaults,t);const{transitional:i,paramsSerializer:s,headers:r}=t;i!==void 0&&ys.assertOptions(i,{silentJSONParsing:Ye.transitional(Ye.boolean),forcedJSONParsing:Ye.transitional(Ye.boolean),clarifyTimeoutError:Ye.transitional(Ye.boolean)},!1),s!=null&&(m.isFunction(s)?t.paramsSerializer={serialize:s}:ys.assertOptions(s,{encode:Ye.function,serialize:Ye.function},!0)),ys.assertOptions(t,{baseUrl:Ye.spelling("baseURL"),withXsrfToken:Ye.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=r&&m.merge(r.common,r[t.method]);r&&m.forEach(["delete","get","head","post","put","patch","common"],b=>{delete r[b]}),t.headers=we.concat(o,r);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(t)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let u,h=0,f;if(!l){const b=[Il.bind(this),void 0];for(b.unshift.apply(b,a),b.push.apply(b,c),f=b.length,u=Promise.resolve(t);h<f;)u=u.then(b[h++],b[h++]);return u}f=a.length;let g=t;for(h=0;h<f;){const b=a[h++],y=a[h++];try{g=b(g)}catch(p){y.call(this,p);break}}try{u=Il.call(this,g)}catch(b){return Promise.reject(b)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=Zt(this.defaults,e);const t=du(e.baseURL,e.url);return ou(t,e.params,e.paramsSerializer)}}m.forEach(["delete","get","head","options"],function(e){Wt.prototype[e]=function(t,i){return this.request(Zt(i||{},{method:e,url:t,data:(i||{}).data}))}});m.forEach(["post","put","patch"],function(e){function t(i){return function(r,o,a){return this.request(Zt(a||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:r,data:o}))}}Wt.prototype[e]=t(),Wt.prototype[e+"Form"]=t(!0)});class zo{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(r){t=r});const i=this;this.promise.then(s=>{if(!i._listeners)return;let r=i._listeners.length;for(;r-- >0;)i._listeners[r](s);i._listeners=null}),this.promise.then=s=>{let r;const o=new Promise(a=>{i.subscribe(a),r=a}).then(s);return o.cancel=function(){i.unsubscribe(r)},o},e(function(r,o,a){i.reason||(i.reason=new Ni(r,o,a),t(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=i=>{e.abort(i)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new zo(function(s){e=s}),cancel:e}}}function bm(n){return function(t){return n.apply(null,t)}}function ym(n){return m.isObject(n)&&n.isAxiosError===!0}const oo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(oo).forEach(([n,e])=>{oo[e]=n});function bu(n){const e=new Wt(n),t=Kc(Wt.prototype.request,e);return m.extend(t,Wt.prototype,e,{allOwnKeys:!0}),m.extend(t,e,null,{allOwnKeys:!0}),t.create=function(s){return bu(Zt(n,s))},t}const ee=bu(Rn);ee.Axios=Wt;ee.CanceledError=Ni;ee.CancelToken=zo;ee.isCancel=cu;ee.VERSION=gu;ee.toFormData=js;ee.AxiosError=k;ee.Cancel=ee.CanceledError;ee.all=function(e){return Promise.all(e)};ee.spread=bm;ee.isAxiosError=ym;ee.mergeConfig=Zt;ee.AxiosHeaders=we;ee.formToJSON=n=>lu(m.isHTMLForm(n)?new FormData(n):n);ee.getAdapter=mu.getAdapter;ee.HttpStatusCode=oo;ee.default=ee;window.axios=ee;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";/*
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */const _t=n=>n==="true",q=(n,e,t="")=>(window.getComputedStyle(n).getPropertyValue(e)||t).replace(" ",""),Dl=(n,e,t="")=>{let i="";return n.classList.forEach(s=>{s.includes(e)&&(i=s)}),i.match(/:(.*)]/)?i.match(/:(.*)]/)[1]:t},Pl=()=>/iPad|iPhone|iPod/.test(navigator.platform)?!0:navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform),Ol=()=>navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform),vm=(n,e)=>{const t=n.children;for(let i=0;i<t.length;i++)if(t[i]===e)return!0;return!1},Uo=(n,e,t="auto",i=10,s=null)=>{const r=e.getBoundingClientRect(),o=s?s.getBoundingClientRect():null,a=window.innerHeight,l=o?r.top-o.top:r.top,c=(s?o.bottom:a)-r.bottom,u=n.clientHeight+i;return t==="bottom"?c>=u:t==="top"?l>=u:l>=u||c>=u},wm=n=>n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement,Jo=n=>n?window.getComputedStyle(n).display==="none"?!0:Jo(n.parentElement):!1,Br=n=>{if(typeof n!="string")return!1;const e=n.trim()[0],t=n.trim().slice(-1);if(e==="{"&&t==="}"||e==="["&&t==="]")try{return JSON.parse(n),!0}catch{return!1}return!1},Cn=(n,e=200)=>{let t;return(...i)=>{clearTimeout(t),t=setTimeout(()=>{n.apply(void 0,i)},e)}},N=(n,e,t=null)=>{const i=new CustomEvent(n,{detail:{payload:t},bubbles:!0,cancelable:!0,composed:!1});e.dispatchEvent(i)},Be=(n,e)=>{const t=()=>{e(),n.removeEventListener("transitionend",t,!0)},i=window.getComputedStyle(n),s=i.getPropertyValue("transition-duration");i.getPropertyValue("transition-property")!=="none"&&parseFloat(s)>0?n.addEventListener("transitionend",t,!0):e()},B=n=>{const e=document.createElement("template");return n=n.trim(),e.innerHTML=n,e.content.firstChild},ce=(n,e,t=" ",i="add")=>{n.split(t).forEach(r=>i==="add"?e.classList.add(r):e.classList.remove(r))},Cm={historyIndex:-1,addHistory(n){this.historyIndex=n},existsInHistory(n){return n>this.historyIndex},clearHistory(){this.historyIndex=-1}};/*
 * HSBasePlugin
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */class U{constructor(e,t,i){this.el=e,this.options=t,this.events=i,this.el=e,this.options=t,this.events={}}createCollection(e,t){var i;e.push({id:((i=t==null?void 0:t.el)==null?void 0:i.id)||e.length+1,element:t})}fireEvent(e,t=null){if(this.events.hasOwnProperty(e))return this.events[e](t)}on(e,t){this.events[e]=t}}/*
 * HSCopyMarkup
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */class Dn extends U{constructor(e,t){super(e,t);const i=e.getAttribute("data-hs-copy-markup"),r={...i?JSON.parse(i):{},...t};this.targetSelector=(r==null?void 0:r.targetSelector)||null,this.wrapperSelector=(r==null?void 0:r.wrapperSelector)||null,this.limit=(r==null?void 0:r.limit)||null,this.items=[],this.targetSelector&&this.init()}elementClick(){this.copy()}deleteItemButtonClick(e){this.delete(e)}init(){this.createCollection(window.$hsCopyMarkupCollection,this),this.onElementClickListener=()=>this.elementClick(),this.setTarget(),this.setWrapper(),this.addPredefinedItems(),this.el.addEventListener("click",this.onElementClickListener)}copy(){if(this.limit&&this.items.length>=this.limit)return!1;this.el.hasAttribute("disabled")&&this.el.setAttribute("disabled","");const e=this.target.cloneNode(!0);this.addToItems(e),this.limit&&this.items.length>=this.limit&&this.el.setAttribute("disabled","disabled"),this.fireEvent("copy",e),N("copy.hs.copyMarkup",e,e)}addPredefinedItems(){Array.from(this.wrapper.children).filter(e=>!e.classList.contains("[--ignore-for-count]")).forEach(e=>{this.addToItems(e)}),this.limit&&this.items.length>=this.limit&&this.el.setAttribute("disabled","disabled")}setTarget(){const e=typeof this.targetSelector=="string"?document.querySelector(this.targetSelector).cloneNode(!0):this.targetSelector.cloneNode(!0);e.removeAttribute("id"),this.target=e}setWrapper(){this.wrapper=typeof this.wrapperSelector=="string"?document.querySelector(this.wrapperSelector):this.wrapperSelector}addToItems(e){const t=e.querySelector("[data-hs-copy-markup-delete-item]");this.wrapper?this.wrapper.append(e):this.el.before(e),t&&(this.onDeleteItemButtonClickListener=()=>this.deleteItemButtonClick(e),t.addEventListener("click",this.onDeleteItemButtonClickListener)),this.items.push(e)}delete(e){const t=this.items.indexOf(e);t!==-1&&this.items.splice(t,1),e.remove(),this.fireEvent("delete",e),N("delete.hs.copyMarkup",e,e)}destroy(){const e=this.wrapper.querySelectorAll("[data-hs-copy-markup-delete-item]");this.el.removeEventListener("click",this.onElementClickListener),e.length&&e.forEach(t=>t.removeEventListener("click",this.onDeleteItemButtonClickListener)),this.el.removeAttribute("disabled"),this.target=null,this.wrapper=null,this.items=null,window.$hsCopyMarkupCollection=window.$hsCopyMarkupCollection.filter(({element:t})=>t.el!==this.el)}static getInstance(e,t){const i=window.$hsCopyMarkupCollection.find(s=>s.element.el===(typeof e=="string"?document.querySelector(e):e));return i?t?i:i.element:null}static autoInit(){window.$hsCopyMarkupCollection||(window.$hsCopyMarkupCollection=[]),window.$hsCopyMarkupCollection&&(window.$hsCopyMarkupCollection=window.$hsCopyMarkupCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll("[data-hs-copy-markup]:not(.--prevent-on-load-init)").forEach(e=>{if(!window.$hsCopyMarkupCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})){const t=e.getAttribute("data-hs-copy-markup"),i=t?JSON.parse(t):{};new Dn(e,i)}})}}window.addEventListener("load",()=>{Dn.autoInit()});typeof window<"u"&&(window.HSCopyMarkup=Dn);/*
 * HSAccordion
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */const Ae=class Ae extends U{constructor(e,t,i){super(e,t,i),this.toggle=this.el.querySelector(".hs-accordion-toggle")||null,this.content=this.el.querySelector(".hs-accordion-content")||null,this.update(),this.isToggleStopPropagated=_t(q(this.toggle,"--stop-propagation","false")||"false"),this.toggle&&this.content&&this.init()}init(){this.createCollection(window.$hsAccordionCollection,this),this.onToggleClickListener=e=>this.toggleClick(e),this.toggle.addEventListener("click",this.onToggleClickListener)}toggleClick(e){this.isToggleStopPropagated&&e.stopPropagation(),this.el.classList.contains("active")?this.hide():this.show()}show(){var e;if(this.group&&!this.isAlwaysOpened&&this.group.querySelector(":scope > .hs-accordion.active")&&this.group.querySelector(":scope > .hs-accordion.active")!==this.el&&window.$hsAccordionCollection.find(i=>i.element.el===this.group.querySelector(":scope > .hs-accordion.active")).element.hide(),this.el.classList.contains("active"))return!1;this.el.classList.add("active"),(e=this==null?void 0:this.toggle)!=null&&e.ariaExpanded&&(this.toggle.ariaExpanded="true"),this.content.style.display="block",this.content.style.height="0",setTimeout(()=>{this.content.style.height=`${this.content.scrollHeight}px`,Be(this.content,()=>{this.content.style.display="block",this.content.style.height="",this.fireEvent("open",this.el),N("open.hs.accordion",this.el,this.el)})})}hide(){var e;if(!this.el.classList.contains("active"))return!1;this.el.classList.remove("active"),(e=this==null?void 0:this.toggle)!=null&&e.ariaExpanded&&(this.toggle.ariaExpanded="false"),this.content.style.height=`${this.content.scrollHeight}px`,setTimeout(()=>{this.content.style.height="0"}),Be(this.content,()=>{this.content.style.display="none",this.content.style.height="",this.fireEvent("close",this.el),N("close.hs.accordion",this.el,this.el)})}update(){if(this.group=this.el.closest(".hs-accordion-group")||null,!this.group)return!1;this.isAlwaysOpened=this.group.hasAttribute("data-hs-accordion-always-open")||!1,window.$hsAccordionCollection.map(e=>(e.id===this.el.id&&(e.element.group=this.group,e.element.isAlwaysOpened=this.isAlwaysOpened),e))}destroy(){var e;(e=Ae==null?void 0:Ae.selectable)!=null&&e.length&&Ae.selectable.forEach(t=>{t.listeners.forEach(({el:i,listener:s})=>{i.removeEventListener("click",s)})}),this.onToggleClickListener&&this.toggle.removeEventListener("click",this.onToggleClickListener),this.toggle=null,this.content=null,this.group=null,this.onToggleClickListener=null,window.$hsAccordionCollection=window.$hsAccordionCollection.filter(({element:t})=>t.el!==this.el)}static findInCollection(e){return window.$hsAccordionCollection.find(t=>e instanceof Ae?t.element.el===e.el:typeof e=="string"?t.element.el===document.querySelector(e):t.element.el===e)||null}static autoInit(){window.$hsAccordionCollection||(window.$hsAccordionCollection=[]),window.$hsAccordionCollection&&(window.$hsAccordionCollection=window.$hsAccordionCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll(".hs-accordion:not(.--prevent-on-load-init)").forEach(e=>{window.$hsAccordionCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})||new Ae(e)})}static getInstance(e,t){const i=window.$hsAccordionCollection.find(s=>s.element.el===(typeof e=="string"?document.querySelector(e):e));return i?t?i:i.element.el:null}static show(e){const t=Ae.findInCollection(e);t&&t.element.content.style.display!=="block"&&t.element.show()}static hide(e){const t=Ae.findInCollection(e),i=t?window.getComputedStyle(t.element.content):null;t&&i.display!=="none"&&t.element.hide()}static treeView(){if(!document.querySelectorAll(".hs-accordion-treeview-root").length)return!1;this.selectable=[],document.querySelectorAll(".hs-accordion-treeview-root").forEach(e=>{const t=e==null?void 0:e.getAttribute("data-hs-accordion-options"),i=t?JSON.parse(t):{};this.selectable.push({el:e,options:{...i},listeners:[]})}),this.selectable.length&&this.selectable.forEach(e=>{const{el:t}=e;t.querySelectorAll(".hs-accordion-selectable").forEach(i=>{const s=r=>this.onSelectableClick(r,e,i);i.addEventListener("click",s),e.listeners.push({el:i,listener:s})})})}static toggleSelected(e,t){t.classList.contains("selected")?t.classList.remove("selected"):(e.el.querySelectorAll(".hs-accordion-selectable").forEach(i=>i.classList.remove("selected")),t.classList.add("selected"))}static on(e,t,i){const s=Ae.findInCollection(t);s&&(s.element.events[e]=i)}};Ae.onSelectableClick=(e,t,i)=>{e.stopPropagation(),Ae.toggleSelected(t,i)};let Ci=Ae;window.addEventListener("load",()=>{Ci.autoInit(),document.querySelectorAll(".hs-accordion-treeview-root").length&&Ci.treeView()});typeof window<"u"&&(window.HSAccordion=Ci);const Is={auto:"auto","auto-start":"auto-start","auto-end":"auto-end",top:"top","top-left":"top-start","top-right":"top-end",bottom:"bottom","bottom-left":"bottom-start","bottom-right":"bottom-end",right:"right","right-start":"right-start","right-end":"right-end",left:"left","left-start":"left-start","left-end":"left-end"},xm=["Escape","ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Home","End","Enter"],Sm=["ArrowUp","ArrowLeft","ArrowDown","ArrowRight","Home","End"],Am=["ArrowUp","ArrowLeft","ArrowDown","ArrowRight","Home","End","Escape","Enter","Space","Tab"],Em=["ArrowUp","ArrowLeft","ArrowDown","ArrowRight","Home","End","Escape","Enter"],ao={xs:0,sm:640,md:768,lg:1024,xl:1280,"2xl":1536};/*
 * HSCarousel
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */class Pn extends U{constructor(e,t){var o,a,l,c,u;super(e,t);const i=e.getAttribute("data-hs-carousel"),r={...i?JSON.parse(i):{},...t};this.currentIndex=r.currentIndex||0,this.loadingClasses=r.loadingClasses?`${r.loadingClasses}`.split(","):null,this.dotsItemClasses=r.dotsItemClasses?r.dotsItemClasses:null,this.isAutoHeight=typeof r.isAutoHeight<"u"?r.isAutoHeight:!1,this.isAutoPlay=typeof r.isAutoPlay<"u"?r.isAutoPlay:!1,this.isCentered=typeof r.isCentered<"u"?r.isCentered:!1,this.isDraggable=typeof r.isDraggable<"u"?r.isDraggable:!1,this.isInfiniteLoop=typeof r.isInfiniteLoop<"u"?r.isInfiniteLoop:!1,this.isRTL=typeof r.isRTL<"u"?r.isRTL:!1,this.isSnap=typeof r.isSnap<"u"?r.isSnap:!1,this.hasSnapSpacers=typeof r.hasSnapSpacers<"u"?r.hasSnapSpacers:!0,this.speed=r.speed||4e3,this.updateDelay=r.updateDelay||0,this.slidesQty=r.slidesQty||1,this.loadingClassesRemove=(o=this.loadingClasses)!=null&&o[0]?this.loadingClasses[0].split(" "):"opacity-0",this.loadingClassesAdd=(a=this.loadingClasses)!=null&&a[1]?this.loadingClasses[1].split(" "):"",this.afterLoadingClassesAdd=(l=this.loadingClasses)!=null&&l[2]?this.loadingClasses[2].split(" "):"",this.container=this.el.querySelector(".hs-carousel")||null,this.inner=this.el.querySelector(".hs-carousel-body")||null,this.slides=this.el.querySelectorAll(".hs-carousel-slide")||[],this.prev=this.el.querySelector(".hs-carousel-prev")||null,this.next=this.el.querySelector(".hs-carousel-next")||null,this.dots=this.el.querySelector(".hs-carousel-pagination")||null,this.info=this.el.querySelector(".hs-carousel-info")||null,this.infoTotal=((c=this==null?void 0:this.info)==null?void 0:c.querySelector(".hs-carousel-info-total"))||null,this.infoCurrent=((u=this==null?void 0:this.info)==null?void 0:u.querySelector(".hs-carousel-info-current"))||null,this.sliderWidth=this.el.getBoundingClientRect().width,this.isDragging=!1,this.dragStartX=null,this.initialTranslateX=null,this.touchX={start:0,end:0},this.resizeContainer=document.querySelector("body"),this.resizeContainerWidth=0,this.init()}setIsSnap(){const e=this.container.getBoundingClientRect(),t=e.left+e.width/2;let i=null,s=null,r=1/0;Array.from(this.inner.children).forEach(o=>{const a=o.getBoundingClientRect(),l=this.inner.getBoundingClientRect(),c=a.left+a.width/2-l.left,u=Math.abs(t-(l.left+c));u<r&&(r=u,i=o)}),i&&(s=Array.from(this.slides).findIndex(o=>o===i)),this.setIndex(s),this.dots&&this.setCurrentDot()}prevClick(){this.goToPrev(),this.isAutoPlay&&(this.resetTimer(),this.setTimer())}nextClick(){this.goToNext(),this.isAutoPlay&&(this.resetTimer(),this.setTimer())}containerScroll(){clearTimeout(this.isScrolling),this.isScrolling=setTimeout(()=>{this.setIsSnap()},100)}elementTouchStart(e){this.touchX.start=e.changedTouches[0].screenX}elementTouchEnd(e){this.touchX.end=e.changedTouches[0].screenX,this.detectDirection()}innerMouseDown(e){this.handleDragStart(e)}innerTouchStart(e){this.handleDragStart(e)}documentMouseMove(e){this.handleDragMove(e)}documentTouchMove(e){this.handleDragMove(e)}documentMouseUp(){this.handleDragEnd()}documentTouchEnd(){this.handleDragEnd()}dotClick(e){this.goTo(e),this.isAutoPlay&&(this.resetTimer(),this.setTimer())}init(){this.createCollection(window.$hsCarouselCollection,this),this.inner&&(this.calculateWidth(),this.isDraggable&&!this.isSnap&&this.initDragHandling()),this.prev&&(this.onPrevClickListener=()=>this.prevClick(),this.prev.addEventListener("click",this.onPrevClickListener)),this.next&&(this.onNextClickListener=()=>this.nextClick(),this.next.addEventListener("click",this.onNextClickListener)),this.dots&&this.initDots(),this.info&&this.buildInfo(),this.slides.length&&(this.addCurrentClass(),this.isInfiniteLoop||this.addDisabledClass(),this.isAutoPlay&&this.autoPlay()),setTimeout(()=>{this.isSnap&&this.setIsSnap(),this.loadingClassesRemove&&(typeof this.loadingClassesRemove=="string"?this.inner.classList.remove(this.loadingClassesRemove):this.inner.classList.remove(...this.loadingClassesRemove)),this.loadingClassesAdd&&(typeof this.loadingClassesAdd=="string"?this.inner.classList.add(this.loadingClassesAdd):this.inner.classList.add(...this.loadingClassesAdd)),this.inner&&this.afterLoadingClassesAdd&&setTimeout(()=>{typeof this.afterLoadingClassesAdd=="string"?this.inner.classList.add(this.afterLoadingClassesAdd):this.inner.classList.add(...this.afterLoadingClassesAdd)})},400),this.isSnap&&(this.onContainerScrollListener=()=>this.containerScroll(),this.container.addEventListener("scroll",this.onContainerScrollListener)),this.el.classList.add("init"),this.isSnap||(this.onElementTouchStartListener=e=>this.elementTouchStart(e),this.onElementTouchEndListener=e=>this.elementTouchEnd(e),this.el.addEventListener("touchstart",this.onElementTouchStartListener),this.el.addEventListener("touchend",this.onElementTouchEndListener)),this.observeResize()}initDragHandling(){const e=this.inner;this.onInnerMouseDownListener=t=>this.innerMouseDown(t),this.onInnerTouchStartListener=t=>this.innerTouchStart(t),this.onDocumentMouseMoveListener=t=>this.documentMouseMove(t),this.onDocumentTouchMoveListener=t=>this.documentTouchMove(t),this.onDocumentMouseUpListener=()=>this.documentMouseUp(),this.onDocumentTouchEndListener=()=>this.documentTouchEnd(),e&&(e.addEventListener("mousedown",this.onInnerMouseDownListener),e.addEventListener("touchstart",this.onInnerTouchStartListener,{passive:!0}),document.addEventListener("mousemove",this.onDocumentMouseMoveListener),document.addEventListener("touchmove",this.onDocumentTouchMoveListener,{passive:!1}),document.addEventListener("mouseup",this.onDocumentMouseUpListener),document.addEventListener("touchend",this.onDocumentTouchEndListener))}getTranslateXValue(){var t;const e=window.getComputedStyle(this.inner).transform;if(e!=="none"){const i=(t=e.match(/matrix.*\((.+)\)/))==null?void 0:t[1].split(", ");if(i){let s=parseFloat(i.length===6?i[4]:i[12]);return this.isRTL&&(s=-s),isNaN(s)||s===0?0:-s}}return 0}removeClickEventWhileDragging(e){e.preventDefault()}handleDragStart(e){e.preventDefault(),this.isDragging=!0,this.dragStartX=this.getEventX(e),this.initialTranslateX=this.isRTL?this.getTranslateXValue():-this.getTranslateXValue(),this.inner.classList.add("dragging")}handleDragMove(e){if(!this.isDragging)return;this.inner.querySelectorAll("a:not(.prevented-click)").forEach(o=>{o.classList.add("prevented-click"),o.addEventListener("click",this.removeClickEventWhileDragging)});let i=this.getEventX(e)-this.dragStartX;this.isRTL&&(i=-i);const s=this.initialTranslateX+i,r=()=>{let o=this.sliderWidth*this.slides.length/this.getCurrentSlidesQty()-this.sliderWidth;const a=this.sliderWidth,l=a/this.getCurrentSlidesQty(),c=(a-l)/2,u=this.isCentered?c:0;this.isCentered&&(o=o+c);const h=-o;return this.isRTL?s<u?u:s>o?h:-s:s>u?u:s<-o?h:s};this.setTranslate(r())}handleDragEnd(){if(!this.isDragging)return;this.isDragging=!1;const t=this.sliderWidth/this.getCurrentSlidesQty(),i=this.getTranslateXValue();let s=Math.round(i/t);this.isRTL&&(s=Math.round(i/t)),this.inner.classList.remove("dragging"),setTimeout(()=>{this.calculateTransform(s),this.dots&&this.setCurrentDot(),this.dragStartX=null,this.initialTranslateX=null,this.inner.querySelectorAll("a.prevented-click").forEach(r=>{r.classList.remove("prevented-click"),r.removeEventListener("click",this.removeClickEventWhileDragging)})})}getEventX(e){return e instanceof MouseEvent?e.clientX:e.touches[0].clientX}getCurrentSlidesQty(){if(typeof this.slidesQty=="object"){const e=document.body.clientWidth;let t=0;return Object.keys(this.slidesQty).forEach(i=>{e>=(typeof i+1=="number"?this.slidesQty[i]:ao[i])&&(t=this.slidesQty[i])}),t}else return this.slidesQty}buildSnapSpacers(){const e=this.inner.querySelector(".hs-snap-before"),t=this.inner.querySelector(".hs-snap-after");e&&e.remove(),t&&t.remove();const i=this.sliderWidth,s=i/this.getCurrentSlidesQty(),r=i/2-s/2,o=B(`<div class="hs-snap-before" style="height: 100%; width: ${r}px"></div>`),a=B(`<div class="hs-snap-after" style="height: 100%; width: ${r}px"></div>`);this.inner.prepend(o),this.inner.appendChild(a)}initDots(){this.el.querySelectorAll(".hs-carousel-pagination-item").length?this.setDots():this.buildDots(),this.dots&&this.setCurrentDot()}buildDots(){this.dots.innerHTML="";const e=!this.isCentered&&this.slidesQty?this.slides.length-(this.getCurrentSlidesQty()-1):this.slides.length;for(let t=0;t<e;t++){const i=this.buildSingleDot(t);this.dots.append(i)}}setDots(){this.dotsItems=this.dots.querySelectorAll(".hs-carousel-pagination-item"),this.dotsItems.forEach((e,t)=>{const i=e.getAttribute("data-carousel-pagination-item-target");this.singleDotEvents(e,i?+i:t)})}goToCurrentDot(){const e=this.dots,t=e.getBoundingClientRect(),i=e.scrollLeft,s=e.scrollTop,r=e.clientWidth,o=e.clientHeight,a=this.dotsItems[this.currentIndex],l=a.getBoundingClientRect(),c=l.left-t.left+i,u=c+a.clientWidth,h=l.top-t.top+s,f=h+a.clientHeight;let g=i,b=s;(c<i||u>i+r)&&(g=u-r),(h<s||f>s+o)&&(b=f-o),e.scrollTo({left:g,top:b,behavior:"smooth"})}buildInfo(){this.infoTotal&&this.setInfoTotal(),this.infoCurrent&&this.setInfoCurrent()}setInfoTotal(){this.infoTotal.innerText=`${this.slides.length}`}setInfoCurrent(){this.infoCurrent.innerText=`${this.currentIndex+1}`}buildSingleDot(e){const t=B("<span></span>");return this.dotsItemClasses&&ce(this.dotsItemClasses,t),this.singleDotEvents(t,e),t}singleDotEvents(e,t){this.onDotClickListener=()=>this.dotClick(t),e.addEventListener("click",this.onDotClickListener)}observeResize(){new ResizeObserver(Cn(t=>{for(let i of t){const s=i.contentRect.width;s!==this.resizeContainerWidth&&(this.recalculateWidth(),this.dots&&this.initDots(),this.addCurrentClass(),this.resizeContainerWidth=s)}},this.updateDelay)).observe(this.resizeContainer)}calculateWidth(){this.isSnap||(this.inner.style.width=`${this.sliderWidth*this.slides.length/this.getCurrentSlidesQty()}px`),this.slides.forEach(e=>{e.style.width=`${this.sliderWidth/this.getCurrentSlidesQty()}px`}),this.calculateTransform()}addCurrentClass(){if(this.isSnap){const e=Math.floor(this.getCurrentSlidesQty()/2);for(let t=0;t<this.slides.length;t++){const i=this.slides[t];t<=this.currentIndex+e&&t>=this.currentIndex-e?i.classList.add("active"):i.classList.remove("active")}}else{const e=this.isCentered?this.currentIndex+this.getCurrentSlidesQty()+(this.getCurrentSlidesQty()-1):this.currentIndex+this.getCurrentSlidesQty();this.slides.forEach((t,i)=>{i>=this.currentIndex&&i<e?t.classList.add("active"):t.classList.remove("active")})}}setCurrentDot(){const e=(t,i)=>{let s=!1;const r=Math.floor(this.getCurrentSlidesQty()/2);this.isSnap&&!this.hasSnapSpacers?s=i===(this.getCurrentSlidesQty()%2===0?this.currentIndex-r+1:this.currentIndex-r):s=i===this.currentIndex,s?t.classList.add("active"):t.classList.remove("active")};this.dotsItems?this.dotsItems.forEach((t,i)=>e(t,i)):this.dots.querySelectorAll(":scope > *").forEach((t,i)=>e(t,i))}setElementToDisabled(e){e.classList.add("disabled"),(e.tagName==="BUTTON"||e.tagName==="INPUT")&&e.setAttribute("disabled","disabled")}unsetElementToDisabled(e){e.classList.remove("disabled"),(e.tagName==="BUTTON"||e.tagName==="INPUT")&&e.removeAttribute("disabled")}addDisabledClass(){if(!this.prev||!this.next)return!1;const e=getComputedStyle(this.inner).getPropertyValue("gap"),t=Math.floor(this.getCurrentSlidesQty()/2);let i=0,s=0,r=!1,o=!1;this.isSnap?(i=this.currentIndex,s=this.hasSnapSpacers?this.slides.length-1:this.slides.length-t-1,r=this.hasSnapSpacers?i===0:this.getCurrentSlidesQty()%2===0?i-t<0:i-t===0,o=i>=s&&this.container.scrollLeft+this.container.clientWidth+(parseFloat(e)||0)>=this.container.scrollWidth):(i=this.currentIndex,s=this.isCentered?this.slides.length-this.getCurrentSlidesQty()+(this.getCurrentSlidesQty()-1):this.slides.length-this.getCurrentSlidesQty(),r=i===0,o=i>=s),r?(this.unsetElementToDisabled(this.next),this.setElementToDisabled(this.prev)):o?(this.unsetElementToDisabled(this.prev),this.setElementToDisabled(this.next)):(this.unsetElementToDisabled(this.prev),this.unsetElementToDisabled(this.next))}autoPlay(){this.setTimer()}setTimer(){this.timer=setInterval(()=>{this.currentIndex===this.slides.length-1?this.goTo(0):this.goToNext()},this.speed)}resetTimer(){clearInterval(this.timer)}detectDirection(){const{start:e,end:t}=this.touchX;t<e&&this.goToNext(),t>e&&this.goToPrev()}calculateTransform(e){e!==void 0&&(this.currentIndex=e),this.currentIndex>this.slides.length-this.getCurrentSlidesQty()&&!this.isCentered&&(this.currentIndex=this.slides.length-this.getCurrentSlidesQty());const t=this.sliderWidth,i=t/this.getCurrentSlidesQty();let s=this.currentIndex*i;if(this.isSnap&&!this.isCentered&&this.container.scrollLeft<t&&this.container.scrollLeft+i/2>t&&(this.container.scrollLeft=this.container.scrollWidth),this.isCentered&&!this.isSnap){const r=(t-i)/2;this.currentIndex===0?s=-r:this.currentIndex>=this.slides.length-this.getCurrentSlidesQty()+(this.getCurrentSlidesQty()-1)?s=this.slides.length*i-t+r:s=this.currentIndex*i-r}this.isSnap||(this.inner.style.transform=this.isRTL?`translate(${s}px, 0px)`:`translate(${-s}px, 0px)`),this.isAutoHeight&&(this.inner.style.height=`${this.slides[this.currentIndex].clientHeight}px`),this.dotsItems&&this.goToCurrentDot(),this.addCurrentClass(),this.isInfiniteLoop||this.addDisabledClass(),this.isSnap&&this.hasSnapSpacers&&this.buildSnapSpacers(),this.infoCurrent&&this.setInfoCurrent()}setTranslate(e){this.inner.style.transform=this.isRTL?`translate(${-e}px, 0px)`:`translate(${e}px, 0px)`}setIndex(e){this.currentIndex=e,this.addCurrentClass(),this.isInfiniteLoop||this.addDisabledClass()}recalculateWidth(){this.sliderWidth=this.inner.parentElement.getBoundingClientRect().width,this.calculateWidth(),this.sliderWidth!==this.inner.parentElement.getBoundingClientRect().width&&this.recalculateWidth()}goToPrev(){if(this.currentIndex>0?this.currentIndex--:this.currentIndex=this.slides.length-this.getCurrentSlidesQty(),this.isSnap){const e=this.sliderWidth/this.getCurrentSlidesQty();this.container.scrollBy({left:Math.max(-this.container.scrollLeft,-e),behavior:"smooth"}),this.addCurrentClass(),this.isInfiniteLoop||this.addDisabledClass()}else this.calculateTransform();this.dots&&this.setCurrentDot()}goToNext(){const e=this.isCentered?this.slides.length-this.getCurrentSlidesQty()+(this.getCurrentSlidesQty()-1):this.slides.length-this.getCurrentSlidesQty();if(this.currentIndex<e?this.currentIndex++:this.currentIndex=0,this.isSnap){const t=this.sliderWidth/this.getCurrentSlidesQty(),i=this.container.scrollWidth-this.container.clientWidth;this.container.scrollBy({left:Math.min(t,i-this.container.scrollLeft),behavior:"smooth"}),this.addCurrentClass(),this.isInfiniteLoop||this.addDisabledClass()}else this.calculateTransform();this.dots&&this.setCurrentDot()}goTo(e){const t=this.currentIndex;if(this.currentIndex=e,this.isSnap){const i=this.sliderWidth/this.getCurrentSlidesQty(),s=t>this.currentIndex?t-this.currentIndex:this.currentIndex-t,r=t>this.currentIndex?-(i*s):i*s;this.container.scrollBy({left:r,behavior:"smooth"}),this.addCurrentClass(),this.isInfiniteLoop||this.addDisabledClass()}else this.calculateTransform();this.dots&&this.setCurrentDot()}destroy(){var e,t;this.loadingClassesAdd&&(typeof this.loadingClassesAdd=="string"?this.inner.classList.remove(this.loadingClassesAdd):this.inner.classList.remove(...this.loadingClassesAdd)),this.inner&&this.afterLoadingClassesAdd&&setTimeout(()=>{typeof this.afterLoadingClassesAdd=="string"?this.inner.classList.remove(this.afterLoadingClassesAdd):this.inner.classList.remove(...this.afterLoadingClassesAdd)}),this.el.classList.remove("init"),this.inner.classList.remove("dragging"),this.slides.forEach(i=>i.classList.remove("active")),(e=this==null?void 0:this.dotsItems)!=null&&e.length&&this.dotsItems.forEach(i=>i.classList.remove("active")),this.prev.classList.remove("disabled"),this.next.classList.remove("disabled"),this.inner.style.width="",this.slides.forEach(i=>i.style.width=""),this.isSnap||(this.inner.style.transform=""),this.isAutoHeight&&(this.inner.style.height=""),this.prev.removeEventListener("click",this.onPrevClickListener),this.next.removeEventListener("click",this.onNextClickListener),this.container.removeEventListener("scroll",this.onContainerScrollListener),this.el.removeEventListener("touchstart",this.onElementTouchStartListener),this.el.removeEventListener("touchend",this.onElementTouchEndListener),this.inner.removeEventListener("mousedown",this.onInnerMouseDownListener),this.inner.removeEventListener("touchstart",this.onInnerTouchStartListener),document.removeEventListener("mousemove",this.onDocumentMouseMoveListener),document.removeEventListener("touchmove",this.onDocumentTouchMoveListener),document.removeEventListener("mouseup",this.onDocumentMouseUpListener),document.removeEventListener("touchend",this.onDocumentTouchEndListener),this.inner.querySelectorAll("a:not(.prevented-click)").forEach(i=>{i.classList.remove("prevented-click"),i.removeEventListener("click",this.removeClickEventWhileDragging)}),((t=this==null?void 0:this.dotsItems)!=null&&t.length||this.dots.querySelectorAll(":scope > *").length)&&(((this==null?void 0:this.dotsItems)||this.dots.querySelectorAll(":scope > *")).forEach(s=>s.removeEventListener("click",this.onDotClickListener)),this.dots.innerHTML=null),this.inner.querySelector(".hs-snap-before").remove(),this.inner.querySelector(".hs-snap-after").remove(),this.dotsItems=null,this.isDragging=!1,this.dragStartX=null,this.initialTranslateX=null,window.$hsCarouselCollection=window.$hsCarouselCollection.filter(({element:i})=>i.el!==this.el)}static getInstance(e,t){const i=window.$hsCarouselCollection.find(s=>s.element.el===(typeof e=="string"?document.querySelector(e):e));return i?t?i:i.element:null}static autoInit(){window.$hsCarouselCollection||(window.$hsCarouselCollection=[]),window.$hsCarouselCollection&&(window.$hsCarouselCollection=window.$hsCarouselCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll("[data-hs-carousel]:not(.--prevent-on-load-init)").forEach(e=>{window.$hsCarouselCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})||new Pn(e)})}}window.addEventListener("load",()=>{Pn.autoInit()});typeof window<"u"&&(window.HSCarousel=Pn);/*
 * HSCollapse
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */class mt extends U{constructor(e,t,i){super(e,t,i),this.contentId=this.el.dataset.hsCollapse,this.content=document.querySelector(this.contentId),this.animationInProcess=!1,this.content&&this.init()}elementClick(){this.content.classList.contains("open")?this.hide():this.show()}init(){var e;this.createCollection(window.$hsCollapseCollection,this),this.onElementClickListener=()=>this.elementClick(),(e=this==null?void 0:this.el)!=null&&e.ariaExpanded&&(this.el.classList.contains("open")?this.el.ariaExpanded="true":this.el.ariaExpanded="false"),this.el.addEventListener("click",this.onElementClickListener)}hideAllMegaMenuItems(){this.content.querySelectorAll(".hs-mega-menu-content.block").forEach(e=>{e.classList.remove("block"),e.classList.add("hidden")})}show(){var e;if(this.animationInProcess||this.el.classList.contains("open"))return!1;this.animationInProcess=!0,this.el.classList.add("open"),(e=this==null?void 0:this.el)!=null&&e.ariaExpanded&&(this.el.ariaExpanded="true"),this.content.classList.add("open"),this.content.classList.remove("hidden"),this.content.style.height="0",setTimeout(()=>{this.content.style.height=`${this.content.scrollHeight}px`,this.fireEvent("beforeOpen",this.el),N("beforeOpen.hs.collapse",this.el,this.el)}),Be(this.content,()=>{this.content.style.height="",this.fireEvent("open",this.el),N("open.hs.collapse",this.el,this.el),this.animationInProcess=!1})}hide(){var e;if(this.animationInProcess||!this.el.classList.contains("open"))return!1;this.animationInProcess=!0,this.el.classList.remove("open"),(e=this==null?void 0:this.el)!=null&&e.ariaExpanded&&(this.el.ariaExpanded="false"),this.content.style.height=`${this.content.scrollHeight}px`,setTimeout(()=>{this.content.style.height="0"}),this.content.classList.remove("open"),Be(this.content,()=>{this.content.classList.add("hidden"),this.content.style.height="",this.fireEvent("hide",this.el),N("hide.hs.collapse",this.el,this.el),this.animationInProcess=!1}),this.content.querySelectorAll(".hs-mega-menu-content.block").length&&this.hideAllMegaMenuItems()}destroy(){this.el.removeEventListener("click",this.onElementClickListener),this.content=null,this.animationInProcess=!1,window.$hsCollapseCollection=window.$hsCollapseCollection.filter(({element:e})=>e.el!==this.el)}static findInCollection(e){return window.$hsCollapseCollection.find(t=>e instanceof mt?t.element.el===e.el:typeof e=="string"?t.element.el===document.querySelector(e):t.element.el===e)||null}static getInstance(e,t=!1){const i=window.$hsCollapseCollection.find(s=>s.element.el===(typeof e=="string"?document.querySelector(e):e));return i?t?i:i.element.el:null}static autoInit(){window.$hsCollapseCollection||(window.$hsCollapseCollection=[]),window.$hsCollapseCollection&&(window.$hsCollapseCollection=window.$hsCollapseCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll(".hs-collapse-toggle:not(.--prevent-on-load-init)").forEach(e=>{window.$hsCollapseCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})||new mt(e)})}static show(e){const t=mt.findInCollection(e);t&&t.element.content.classList.contains("hidden")&&t.element.show()}static hide(e){const t=mt.findInCollection(e);t&&!t.element.content.classList.contains("hidden")&&t.element.hide()}static on(e,t,i){const s=mt.findInCollection(t);s&&(s.element.events[e]=i)}}window.addEventListener("load",()=>{mt.autoInit()});typeof window<"u"&&(window.HSCollapse=mt);/*
 * HSComboBox
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */class je extends U{constructor(e,t,i){super(e,t,i),this.isSearchLengthExceeded=!1;const s=e.getAttribute("data-hs-combo-box"),o={...s?JSON.parse(s):{},...t};this.gap=5,this.viewport=(typeof(o==null?void 0:o.viewport)=="string"?document.querySelector(o==null?void 0:o.viewport):o==null?void 0:o.viewport)??null,this.preventVisibility=(o==null?void 0:o.preventVisibility)??!1,this.minSearchLength=(o==null?void 0:o.minSearchLength)??0,this.apiUrl=(o==null?void 0:o.apiUrl)??null,this.apiDataPart=(o==null?void 0:o.apiDataPart)??null,this.apiQuery=(o==null?void 0:o.apiQuery)??null,this.apiSearchQuery=(o==null?void 0:o.apiSearchQuery)??null,this.apiSearchPath=(o==null?void 0:o.apiSearchPath)??null,this.apiSearchDefaultPath=(o==null?void 0:o.apiSearchDefaultPath)??null,this.apiHeaders=(o==null?void 0:o.apiHeaders)??{},this.apiGroupField=(o==null?void 0:o.apiGroupField)??null,this.outputItemTemplate=(o==null?void 0:o.outputItemTemplate)??`<div class="cursor-pointer py-2 px-4 w-full text-sm text-gray-800 hover:bg-gray-100 rounded-lg focus:outline-none focus:bg-gray-100 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:text-neutral-200 dark:focus:bg-neutral-800" data-hs-combo-box-output-item>
				<div class="flex justify-between items-center w-full">
					<span data-hs-combo-box-search-text></span>
					<span class="hidden hs-combo-box-selected:block">
						<svg class="shrink-0 size-3.5 text-blue-600 dark:text-blue-500" xmlns="http:.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
							<polyline points="20 6 9 17 4 12"></polyline>
						</svg>
					</span>
				</div>
			</div>`,this.outputEmptyTemplate=(o==null?void 0:o.outputEmptyTemplate)??'<div class="py-2 px-4 w-full text-sm text-gray-800 rounded-lg dark:bg-neutral-900 dark:text-neutral-200">Nothing found...</div>',this.outputLoaderTemplate=(o==null?void 0:o.outputLoaderTemplate)??`<div class="flex justify-center items-center py-2 px-4 text-sm text-gray-800 rounded-lg bg-white dark:bg-neutral-900 dark:text-neutral-200">
				<div class="animate-spin inline-block size-6 border-[3px] border-current border-t-transparent text-blue-600 rounded-full dark:text-blue-500" role="status" aria-label="loading">
					<span class="sr-only">Loading...</span>
				</div>
			</div>`,this.groupingType=(o==null?void 0:o.groupingType)??null,this.groupingTitleTemplate=(o==null?void 0:o.groupingTitleTemplate)??(this.groupingType==="default"?'<div class="block mb-1 text-xs font-semibold uppercase text-blue-600 dark:text-blue-500"></div>':'<button type="button" class="py-2 px-3 inline-flex items-center gap-x-2 text-sm font-semibold whitespace-nowrap rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none"></button>'),this.tabsWrapperTemplate=(o==null?void 0:o.tabsWrapperTemplate)??'<div class="overflow-x-auto p-4"></div>',this.preventSelection=(o==null?void 0:o.preventSelection)??!1,this.preventAutoPosition=(o==null?void 0:o.preventAutoPosition)??!1,this.isOpenOnFocus=(o==null?void 0:o.isOpenOnFocus)??!1,this.input=this.el.querySelector("[data-hs-combo-box-input]")??null,this.output=this.el.querySelector("[data-hs-combo-box-output]")??null,this.itemsWrapper=this.el.querySelector("[data-hs-combo-box-output-items-wrapper]")??null,this.items=Array.from(this.el.querySelectorAll("[data-hs-combo-box-output-item]"))??[],this.tabs=[],this.toggle=this.el.querySelector("[data-hs-combo-box-toggle]")??null,this.toggleClose=this.el.querySelector("[data-hs-combo-box-close]")??null,this.toggleOpen=this.el.querySelector("[data-hs-combo-box-open]")??null,this.outputPlaceholder=null,this.selected=this.value=this.el.querySelector("[data-hs-combo-box-input]").value??"",this.currentData=null,this.isOpened=!1,this.isCurrent=!1,this.animationInProcess=!1,this.selectedGroup="all",this.init()}inputFocus(){this.isOpened||(this.setResultAndRender(),this.open())}inputInput(e){const t=e.target.value.trim();t.length<=this.minSearchLength?this.setResultAndRender(""):this.setResultAndRender(t),this.input.value!==""?this.el.classList.add("has-value"):this.el.classList.remove("has-value"),this.isOpened||this.open()}toggleClick(){this.isOpened?this.close():this.open(this.toggle.getAttribute("data-hs-combo-box-toggle"))}toggleCloseClick(){this.close()}toggleOpenClick(){this.open()}init(){this.createCollection(window.$hsComboBoxCollection,this),this.build()}build(){this.buildInput(),this.groupingType&&this.setGroups(),this.buildItems(),this.preventVisibility&&(this.preventAutoPosition||this.recalculateDirection()),this.toggle&&this.buildToggle(),this.toggleClose&&this.buildToggleClose(),this.toggleOpen&&this.buildToggleOpen()}getNestedProperty(e,t){return t.split(".").reduce((i,s)=>i&&i[s],e)}setValue(e,t=null){this.selected=e,this.value=e,this.input.value=e,t&&(this.currentData=t),this.fireEvent("select",this.currentData),N("select.hs.combobox",this.el,this.currentData)}setValueAndOpen(e){this.value=e,this.items.length&&this.setItemsVisibility()}setValueAndClear(e,t=null){e?this.setValue(e,t):this.setValue(this.selected,t),this.outputPlaceholder&&this.destroyOutputPlaceholder()}setSelectedByValue(e){this.items.forEach(t=>{this.isTextExists(t,e)?t.classList.add("selected"):t.classList.remove("selected")})}setResultAndRender(e=""){let t=this.preventVisibility?this.input.value:e;this.setResults(t),(this.apiSearchQuery||this.apiSearchPath||this.apiSearchDefaultPath)&&this.itemsFromJson(),t===""?this.isSearchLengthExceeded=!0:this.isSearchLengthExceeded=!1}setResults(e){this.value=e,this.resultItems(),this.hasVisibleItems()?this.destroyOutputPlaceholder():this.buildOutputPlaceholder()}setGroups(){const e=[];this.items.forEach(t=>{const{group:i}=JSON.parse(t.getAttribute("data-hs-combo-box-output-item"));e.some(s=>(s==null?void 0:s.name)===i.name)||e.push(i)}),this.groups=e}setApiGroups(e){const t=[];e.forEach(i=>{const s=i[this.apiGroupField];t.some(r=>r.name===s)||t.push({name:s,title:s})}),this.groups=t}setItemsVisibility(){this.groupingType==="tabs"&&this.selectedGroup!=="all"&&this.items.forEach(t=>{t.style.display="none"});const e=this.groupingType==="tabs"?this.selectedGroup==="all"?this.items:this.items.filter(t=>{const{group:i}=JSON.parse(t.getAttribute("data-hs-combo-box-output-item"));return i.name===this.selectedGroup}):this.items;this.groupingType==="tabs"&&this.selectedGroup!=="all"&&e.forEach(t=>{t.style.display="block"}),e.forEach(t=>{this.isTextExistsAny(t,this.value)?t.style.display="block":t.style.display="none"}),this.groupingType==="default"&&this.output.querySelectorAll("[data-hs-combo-box-group-title]").forEach(t=>{const i=t.getAttribute("data-hs-combo-box-group-title");this.items.filter(r=>{const{group:o}=JSON.parse(r.getAttribute("data-hs-combo-box-output-item"));return o.name===i&&r.style.display==="block"}).length?t.style.display="block":t.style.display="none"})}isTextExists(e,t){const i=t.map(s=>s.toLowerCase());return Array.from(e.querySelectorAll("[data-hs-combo-box-search-text]")).some(s=>i.includes(s.getAttribute("data-hs-combo-box-search-text").toLowerCase()))}isTextExistsAny(e,t){return Array.from(e.querySelectorAll("[data-hs-combo-box-search-text]")).some(i=>i.getAttribute("data-hs-combo-box-search-text").toLowerCase().includes(t.toLowerCase()))}hasVisibleItems(){return this.items.length?this.items.some(e=>e.style.display==="block"):!1}valuesBySelector(e){return Array.from(e.querySelectorAll("[data-hs-combo-box-search-text]")).reduce((t,i)=>[...t,i.getAttribute("data-hs-combo-box-search-text")],[])}sortItems(){const e=(t,i)=>{const s=t.querySelector("[data-hs-combo-box-value]").getAttribute("data-hs-combo-box-search-text"),r=i.querySelector("[data-hs-combo-box-value]").getAttribute("data-hs-combo-box-search-text");return s<r?-1:s>r?1:0};return this.items.sort(e)}buildInput(){this.isOpenOnFocus&&(this.onInputFocusListener=()=>this.inputFocus(),this.input.addEventListener("focus",this.onInputFocusListener)),this.onInputInputListener=Cn(e=>this.inputInput(e)),this.input.addEventListener("input",this.onInputInputListener)}async buildItems(){this.output.role="listbox",this.output.tabIndex=-1,this.output.ariaOrientation="vertical",this.apiUrl?await this.itemsFromJson():(this.itemsWrapper?this.itemsWrapper.innerHTML="":this.output.innerHTML="",this.itemsFromHtml()),this.items[0].classList.contains("selected")&&(this.currentData=JSON.parse(this.items[0].getAttribute("data-hs-combo-box-item-stored-data")))}buildOutputLoader(){if(this.outputLoader)return!1;this.outputLoader=B(this.outputLoaderTemplate),this.items.length||this.outputPlaceholder?(this.outputLoader.style.position="absolute",this.outputLoader.style.top="0",this.outputLoader.style.bottom="0",this.outputLoader.style.left="0",this.outputLoader.style.right="0",this.outputLoader.style.zIndex="2"):(this.outputLoader.style.position="",this.outputLoader.style.top="",this.outputLoader.style.bottom="",this.outputLoader.style.left="",this.outputLoader.style.right="",this.outputLoader.style.zIndex="",this.outputLoader.style.height="30px"),this.output.append(this.outputLoader)}buildToggle(){var e,t,i,s;this.isOpened?((e=this==null?void 0:this.toggle)!=null&&e.ariaExpanded&&(this.toggle.ariaExpanded="true"),(t=this==null?void 0:this.input)!=null&&t.ariaExpanded&&(this.input.ariaExpanded="true")):((i=this==null?void 0:this.toggle)!=null&&i.ariaExpanded&&(this.toggle.ariaExpanded="false"),(s=this==null?void 0:this.input)!=null&&s.ariaExpanded&&(this.input.ariaExpanded="false")),this.onToggleClickListener=()=>this.toggleClick(),this.toggle.addEventListener("click",this.onToggleClickListener)}buildToggleClose(){this.onToggleCloseClickListener=()=>this.toggleCloseClick(),this.toggleClose.addEventListener("click",this.onToggleCloseClickListener)}buildToggleOpen(){this.onToggleOpenClickListener=()=>this.toggleOpenClick(),this.toggleOpen.addEventListener("click",this.onToggleOpenClickListener)}buildOutputPlaceholder(){this.outputPlaceholder||(this.outputPlaceholder=B(this.outputEmptyTemplate)),this.appendItemsToWrapper(this.outputPlaceholder)}destroyOutputLoader(){this.outputLoader&&this.outputLoader.remove(),this.outputLoader=null}itemRender(e){const t=e.querySelector("[data-hs-combo-box-value]").getAttribute("data-hs-combo-box-search-text"),i=JSON.parse(e.getAttribute("data-hs-combo-box-item-stored-data"))??null;this.itemsWrapper?this.itemsWrapper.append(e):this.output.append(e),this.preventSelection||e.addEventListener("click",()=>{this.close(t,i),this.setSelectedByValue(this.valuesBySelector(e))})}plainRender(e){e.forEach(t=>{this.itemRender(t)})}jsonItemsRender(e){e.forEach((t,i)=>{const s=B(this.outputItemTemplate);s.setAttribute("data-hs-combo-box-item-stored-data",JSON.stringify(t)),s.querySelectorAll("[data-hs-combo-box-output-item-field]").forEach(r=>{const o=this.getNestedProperty(t,r.getAttribute("data-hs-combo-box-output-item-field")),a=r.hasAttribute("data-hs-combo-box-output-item-hide-if-empty");r.textContent=o??"",!o&&a&&(r.style.display="none")}),s.querySelectorAll("[data-hs-combo-box-search-text]").forEach(r=>{const o=this.getNestedProperty(t,r.getAttribute("data-hs-combo-box-output-item-field"));r.setAttribute("data-hs-combo-box-search-text",o??"")}),s.querySelectorAll("[data-hs-combo-box-output-item-attr]").forEach(r=>{JSON.parse(r.getAttribute("data-hs-combo-box-output-item-attr")).forEach(a=>{r.setAttribute(a.attr,t[a.valueFrom])})}),s.setAttribute("tabIndex",`${i}`),(this.groupingType==="tabs"||this.groupingType==="default")&&s.setAttribute("data-hs-combo-box-output-item",`{"group": {"name": "${t[this.apiGroupField]}", "title": "${t[this.apiGroupField]}"}}`),this.items=[...this.items,s],this.preventSelection||s.addEventListener("click",()=>{this.close(s.querySelector("[data-hs-combo-box-value]").getAttribute("data-hs-combo-box-search-text"),JSON.parse(s.getAttribute("data-hs-combo-box-item-stored-data"))),this.setSelectedByValue(this.valuesBySelector(s))}),this.appendItemsToWrapper(s)})}groupDefaultRender(){this.groups.forEach(e=>{const t=B(this.groupingTitleTemplate);t.setAttribute("data-hs-combo-box-group-title",e.name),t.classList.add("--exclude-accessibility"),t.innerText=e.title,this.itemsWrapper?this.itemsWrapper.append(t):this.output.append(t);const i=this.sortItems().filter(s=>{const{group:r}=JSON.parse(s.getAttribute("data-hs-combo-box-output-item"));return r.name===e.name});this.plainRender(i)})}groupTabsRender(){const e=B(this.tabsWrapperTemplate),t=B('<div class="flex flex-nowrap gap-x-2"></div>');e.append(t),this.output.insertBefore(e,this.output.firstChild);const i=B(this.groupingTitleTemplate);i.setAttribute("data-hs-combo-box-group-title","all"),i.classList.add("--exclude-accessibility","active"),i.innerText="All",this.tabs=[...this.tabs,i],t.append(i),i.addEventListener("click",()=>{this.selectedGroup="all";const s=this.tabs.find(r=>r.getAttribute("data-hs-combo-box-group-title")===this.selectedGroup);this.tabs.forEach(r=>r.classList.remove("active")),s.classList.add("active"),this.setItemsVisibility()}),this.groups.forEach(s=>{const r=B(this.groupingTitleTemplate);r.setAttribute("data-hs-combo-box-group-title",s.name),r.classList.add("--exclude-accessibility"),r.innerText=s.title,this.tabs=[...this.tabs,r],t.append(r),r.addEventListener("click",()=>{this.selectedGroup=s.name;const o=this.tabs.find(a=>a.getAttribute("data-hs-combo-box-group-title")===this.selectedGroup);this.tabs.forEach(a=>a.classList.remove("active")),o.classList.add("active"),this.setItemsVisibility()})})}itemsFromHtml(){if(this.groupingType==="default")this.groupDefaultRender();else if(this.groupingType==="tabs"){const e=this.sortItems();this.groupTabsRender(),this.plainRender(e)}else{const e=this.sortItems();this.plainRender(e)}this.setResults(this.input.value)}async itemsFromJson(){if(this.isSearchLengthExceeded)return!1;this.buildOutputLoader();try{const e=`${this.apiQuery}`;let t,i,s=this.apiUrl;!this.apiSearchQuery&&this.apiSearchPath?(this.apiSearchDefaultPath&&this.value===""?i=`/${this.apiSearchDefaultPath}`:i=`/${this.apiSearchPath}/${this.value.toLowerCase()}`,(this.apiSearchPath||this.apiSearchDefaultPath)&&(s+=i)):(t=`${this.apiSearchQuery}=${this.value.toLowerCase()}`,this.apiQuery&&this.apiSearchQuery?s+=`?${t}&${e}`:this.apiQuery?s+=`?${e}`:this.apiSearchQuery&&(s+=`?${t}`));let o=await(await fetch(s,this.apiHeaders)).json();this.apiDataPart&&(o=o[this.apiDataPart]),(this.apiSearchQuery||this.apiSearchPath)&&(this.items=[]),this.itemsWrapper?this.itemsWrapper.innerHTML="":this.output.innerHTML="",this.groupingType==="tabs"?(this.setApiGroups(o),this.groupTabsRender(),this.jsonItemsRender(o)):this.groupingType==="default"?(this.setApiGroups(o),this.groups.forEach(a=>{const l=B(this.groupingTitleTemplate);l.setAttribute("data-hs-combo-box-group-title",a.name),l.classList.add("--exclude-accessibility"),l.innerText=a.title;const c=o.filter(u=>u[this.apiGroupField]===a.name);this.itemsWrapper?this.itemsWrapper.append(l):this.output.append(l),this.jsonItemsRender(c)})):this.jsonItemsRender(o),this.setResults(this.input.value.length<=this.minSearchLength?"":this.input.value)}catch(e){console.error(e),this.buildOutputPlaceholder()}this.destroyOutputLoader()}appendItemsToWrapper(e){this.itemsWrapper?this.itemsWrapper.append(e):this.output.append(e)}resultItems(){if(!this.items.length)return!1;this.setItemsVisibility(),this.setSelectedByValue([this.selected])}destroyOutputPlaceholder(){this.outputPlaceholder&&this.outputPlaceholder.remove(),this.outputPlaceholder=null}getCurrentData(){return this.currentData}setCurrent(){window.$hsComboBoxCollection.length&&(window.$hsComboBoxCollection.map(e=>e.element.isCurrent=!1),this.isCurrent=!0)}open(e){if(this.animationInProcess||(typeof e<"u"&&this.setValueAndOpen(e),this.preventVisibility))return!1;this.animationInProcess=!0,this.output.style.display="block",this.preventAutoPosition||this.recalculateDirection(),setTimeout(()=>{var t,i;(t=this==null?void 0:this.input)!=null&&t.ariaExpanded&&(this.input.ariaExpanded="true"),(i=this==null?void 0:this.toggle)!=null&&i.ariaExpanded&&(this.toggle.ariaExpanded="true"),this.el.classList.add("active"),this.animationInProcess=!1}),this.isOpened=!0}close(e,t=null){var i,s;if(this.animationInProcess)return!1;if(this.preventVisibility)return this.setValueAndClear(e,t),this.input.value!==""?this.el.classList.add("has-value"):this.el.classList.remove("has-value"),!1;this.animationInProcess=!0,(i=this==null?void 0:this.input)!=null&&i.ariaExpanded&&(this.input.ariaExpanded="false"),(s=this==null?void 0:this.toggle)!=null&&s.ariaExpanded&&(this.toggle.ariaExpanded="false"),this.el.classList.remove("active"),this.preventAutoPosition||(this.output.classList.remove("bottom-full","top-full"),this.output.style.marginTop="",this.output.style.marginBottom=""),Be(this.output,()=>{this.output.style.display="none",this.setValueAndClear(e,t||null),this.animationInProcess=!1}),this.input.value!==""?this.el.classList.add("has-value"):this.el.classList.remove("has-value"),this.isOpened=!1}recalculateDirection(){Uo(this.output,this.input,"bottom",this.gap,this.viewport)?(this.output.classList.remove("bottom-full"),this.output.style.marginBottom="",this.output.classList.add("top-full"),this.output.style.marginTop=`${this.gap}px`):(this.output.classList.remove("top-full"),this.output.style.marginTop="",this.output.classList.add("bottom-full"),this.output.style.marginBottom=`${this.gap}px`)}destroy(){this.input.removeEventListener("focus",this.onInputFocusListener),this.input.removeEventListener("input",this.onInputInputListener),this.toggle.removeEventListener("click",this.onToggleClickListener),this.toggleClose&&this.toggleClose.removeEventListener("click",this.onToggleCloseClickListener),this.toggleOpen&&this.toggleOpen.removeEventListener("click",this.onToggleOpenClickListener),this.el.classList.remove("has-value","active"),this.items.length&&this.items.forEach(e=>{e.classList.remove("selected"),e.style.display=""}),this.output.removeAttribute("role"),this.output.removeAttribute("tabindex"),this.output.removeAttribute("aria-orientation"),this.outputLoader&&(this.outputLoader.remove(),this.outputLoader=null),this.outputPlaceholder&&(this.outputPlaceholder.remove(),this.outputPlaceholder=null),this.apiUrl&&(this.output.innerHTML=""),this.items=[],window.$hsComboBoxCollection=window.$hsComboBoxCollection.filter(({element:e})=>e.el!==this.el)}static getInstance(e,t){const i=window.$hsComboBoxCollection.find(s=>s.element.el===(typeof e=="string"?document.querySelector(e):e));return i?t?i:i.element:null}static autoInit(){window.$hsComboBoxCollection||(window.$hsComboBoxCollection=[],window.addEventListener("click",e=>{const t=e.target;je.closeCurrentlyOpened(t)}),document.addEventListener("keydown",e=>je.accessibility(e))),window.$hsComboBoxCollection&&(window.$hsComboBoxCollection=window.$hsComboBoxCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll("[data-hs-combo-box]:not(.--prevent-on-load-init)").forEach(e=>{if(!window.$hsComboBoxCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})){const t=e.getAttribute("data-hs-combo-box"),i=t?JSON.parse(t):{};new je(e,i)}})}static close(e){const t=window.$hsComboBoxCollection.find(i=>i.element.el===(typeof e=="string"?document.querySelector(e):e));t&&t.element.isOpened&&t.element.close()}static closeCurrentlyOpened(e=null){if(!e.closest("[data-hs-combo-box].active")){const t=window.$hsComboBoxCollection.filter(i=>i.element.isOpened)||null;t&&t.forEach(i=>{i.element.close()})}}static getPreparedItems(e=!1,t){return t?(e?Array.from(t.querySelectorAll(":scope > *:not(.--exclude-accessibility)")).filter(r=>r.style.display!=="none").reverse():Array.from(t.querySelectorAll(":scope > *:not(.--exclude-accessibility)")).filter(r=>r.style.display!=="none")).filter(r=>!r.classList.contains("disabled")):null}static setHighlighted(e,t,i){t.focus(),i.value=t.querySelector("[data-hs-combo-box-value]").getAttribute("data-hs-combo-box-search-text"),e&&e.classList.remove("hs-combo-box-output-item-highlighted"),t.classList.add("hs-combo-box-output-item-highlighted")}static accessibility(e){if(window.$hsComboBoxCollection.find(i=>i.element.preventVisibility?i.element.isCurrent:i.element.isOpened)&&Em.includes(e.code)&&!e.metaKey)switch(e.code){case"Escape":e.preventDefault(),this.onEscape();break;case"ArrowUp":e.preventDefault(),e.stopImmediatePropagation(),this.onArrow();break;case"ArrowDown":e.preventDefault(),e.stopImmediatePropagation(),this.onArrow(!1);break;case"Home":e.preventDefault(),e.stopImmediatePropagation(),this.onStartEnd();break;case"End":e.preventDefault(),e.stopImmediatePropagation(),this.onStartEnd(!1);break;case"Enter":e.preventDefault(),this.onEnter(e);break}}static onEscape(){const e=window.$hsComboBoxCollection.find(t=>!t.element.preventVisibility&&t.element.isOpened);e&&(e.element.close(),e.element.input.blur())}static onArrow(e=!0){const t=window.$hsComboBoxCollection.find(i=>i.element.preventVisibility?i.element.isCurrent:i.element.isOpened);if(t){const i=t.element.itemsWrapper??t.element.output;if(!i)return!1;const s=je.getPreparedItems(e,i),r=i.querySelector(".hs-combo-box-output-item-highlighted");let o=null;r||s[0].classList.add("hs-combo-box-output-item-highlighted");let a=s.findIndex(l=>l===r);a+1<s.length&&a++,o=s[a],je.setHighlighted(r,o,t.element.input)}}static onStartEnd(e=!0){const t=window.$hsComboBoxCollection.find(i=>i.element.preventVisibility?i.element.isCurrent:i.element.isOpened);if(t){const i=t.element.itemsWrapper??t.element.output;if(!i)return!1;const s=je.getPreparedItems(e,i),r=i.querySelector(".hs-combo-box-output-item-highlighted");s.length&&je.setHighlighted(r,s[0],t.element.input)}}static onEnter(e){const t=e.target,i=window.$hsComboBoxCollection.find(r=>!Jo(r.element.el)&&e.target.closest("[data-hs-combo-box]")===r.element.el),s=i.element.el.querySelector(".hs-combo-box-output-item-highlighted a");t.hasAttribute("data-hs-combo-box-input")?(i.element.close(),t.blur()):(i.element.preventSelection||i.element.setSelectedByValue(i.element.valuesBySelector(e.target)),i.element.preventSelection&&s&&window.location.assign(s.getAttribute("href")),i.element.close(i.element.preventSelection?null:e.target.querySelector("[data-hs-combo-box-value]").getAttribute("data-hs-combo-box-search-text"),JSON.parse(e.target.getAttribute("data-hs-combo-box-item-stored-data"))??null))}}window.addEventListener("load",()=>{je.autoInit()});document.addEventListener("scroll",()=>{if(!window.$hsComboBoxCollection)return!1;const n=window.$hsComboBoxCollection.find(e=>e.element.isOpened);n&&!n.element.preventAutoPosition&&n.element.recalculateDirection()});typeof window<"u"&&(window.HSComboBox=je);var Ce="top",Me="bottom",Fe="right",xe="left",Ko="auto",On=[Ce,Me,Fe,xe],xi="start",xn="end",Lm="clippingParents",yu="viewport",en="popper",Tm="reference",Nl=On.reduce(function(n,e){return n.concat([e+"-"+xi,e+"-"+xn])},[]),vu=[].concat(On,[Ko]).reduce(function(n,e){return n.concat([e,e+"-"+xi,e+"-"+xn])},[]),km="beforeRead",Im="read",Rm="afterRead",Dm="beforeMain",Pm="main",Om="afterMain",Nm="beforeWrite",Bm="write",Mm="afterWrite",Fm=[km,Im,Rm,Dm,Pm,Om,Nm,Bm,Mm];function nt(n){return n?(n.nodeName||"").toLowerCase():null}function ke(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function ei(n){var e=ke(n).Element;return n instanceof e||n instanceof Element}function Oe(n){var e=ke(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Xo(n){if(typeof ShadowRoot>"u")return!1;var e=ke(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function _m(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},s=e.attributes[t]||{},r=e.elements[t];!Oe(r)||!nt(r)||(Object.assign(r.style,i),Object.keys(s).forEach(function(o){var a=s[o];a===!1?r.removeAttribute(o):r.setAttribute(o,a===!0?"":a)}))})}function $m(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var s=e.elements[i],r=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),a=o.reduce(function(l,c){return l[c]="",l},{});!Oe(s)||!nt(s)||(Object.assign(s.style,a),Object.keys(r).forEach(function(l){s.removeAttribute(l)}))})}}const qm={name:"applyStyles",enabled:!0,phase:"write",fn:_m,effect:$m,requires:["computeStyles"]};function it(n){return n.split("-")[0]}var zt=Math.max,Rs=Math.min,Si=Math.round;function lo(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function wu(){return!/^((?!chrome|android).)*safari/i.test(lo())}function Ai(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),s=1,r=1;e&&Oe(n)&&(s=n.offsetWidth>0&&Si(i.width)/n.offsetWidth||1,r=n.offsetHeight>0&&Si(i.height)/n.offsetHeight||1);var o=ei(n)?ke(n):window,a=o.visualViewport,l=!wu()&&t,c=(i.left+(l&&a?a.offsetLeft:0))/s,u=(i.top+(l&&a?a.offsetTop:0))/r,h=i.width/s,f=i.height/r;return{width:h,height:f,top:u,right:c+h,bottom:u+f,left:c,x:c,y:u}}function Go(n){var e=Ai(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function Cu(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Xo(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function yt(n){return ke(n).getComputedStyle(n)}function Hm(n){return["table","td","th"].indexOf(nt(n))>=0}function Rt(n){return((ei(n)?n.ownerDocument:n.document)||window.document).documentElement}function Us(n){return nt(n)==="html"?n:n.assignedSlot||n.parentNode||(Xo(n)?n.host:null)||Rt(n)}function Bl(n){return!Oe(n)||yt(n).position==="fixed"?null:n.offsetParent}function Vm(n){var e=/firefox/i.test(lo()),t=/Trident/i.test(lo());if(t&&Oe(n)){var i=yt(n);if(i.position==="fixed")return null}var s=Us(n);for(Xo(s)&&(s=s.host);Oe(s)&&["html","body"].indexOf(nt(s))<0;){var r=yt(s);if(r.transform!=="none"||r.perspective!=="none"||r.contain==="paint"||["transform","perspective"].indexOf(r.willChange)!==-1||e&&r.willChange==="filter"||e&&r.filter&&r.filter!=="none")return s;s=s.parentNode}return null}function Nn(n){for(var e=ke(n),t=Bl(n);t&&Hm(t)&&yt(t).position==="static";)t=Bl(t);return t&&(nt(t)==="html"||nt(t)==="body"&&yt(t).position==="static")?e:t||Vm(n)||e}function Qo(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function pn(n,e,t){return zt(n,Rs(e,t))}function jm(n,e,t){var i=pn(n,e,t);return i>t?t:i}function xu(){return{top:0,right:0,bottom:0,left:0}}function Su(n){return Object.assign({},xu(),n)}function Au(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var Wm=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Su(typeof e!="number"?e:Au(e,On))};function zm(n){var e,t=n.state,i=n.name,s=n.options,r=t.elements.arrow,o=t.modifiersData.popperOffsets,a=it(t.placement),l=Qo(a),c=[xe,Fe].indexOf(a)>=0,u=c?"height":"width";if(!(!r||!o)){var h=Wm(s.padding,t),f=Go(r),g=l==="y"?Ce:xe,b=l==="y"?Me:Fe,y=t.rects.reference[u]+t.rects.reference[l]-o[l]-t.rects.popper[u],p=o[l]-t.rects.reference[l],v=Nn(r),S=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,A=y/2-p/2,w=h[g],C=S-f[u]-h[b],L=S/2-f[u]/2+A,I=pn(w,L,C),H=l;t.modifiersData[i]=(e={},e[H]=I,e.centerOffset=I-L,e)}}function Um(n){var e=n.state,t=n.options,i=t.element,s=i===void 0?"[data-popper-arrow]":i;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||Cu(e.elements.popper,s)&&(e.elements.arrow=s))}const Jm={name:"arrow",enabled:!0,phase:"main",fn:zm,effect:Um,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ei(n){return n.split("-")[1]}var Km={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Xm(n,e){var t=n.x,i=n.y,s=e.devicePixelRatio||1;return{x:Si(t*s)/s||0,y:Si(i*s)/s||0}}function Ml(n){var e,t=n.popper,i=n.popperRect,s=n.placement,r=n.variation,o=n.offsets,a=n.position,l=n.gpuAcceleration,c=n.adaptive,u=n.roundOffsets,h=n.isFixed,f=o.x,g=f===void 0?0:f,b=o.y,y=b===void 0?0:b,p=typeof u=="function"?u({x:g,y}):{x:g,y};g=p.x,y=p.y;var v=o.hasOwnProperty("x"),S=o.hasOwnProperty("y"),A=xe,w=Ce,C=window;if(c){var L=Nn(t),I="clientHeight",H="clientWidth";if(L===ke(t)&&(L=Rt(t),yt(L).position!=="static"&&a==="absolute"&&(I="scrollHeight",H="scrollWidth")),L=L,s===Ce||(s===xe||s===Fe)&&r===xn){w=Me;var j=h&&L===C&&C.visualViewport?C.visualViewport.height:L[I];y-=j-i.height,y*=l?1:-1}if(s===xe||(s===Ce||s===Me)&&r===xn){A=Fe;var X=h&&L===C&&C.visualViewport?C.visualViewport.width:L[H];g-=X-i.width,g*=l?1:-1}}var oe=Object.assign({position:a},c&&Km),W=u===!0?Xm({x:g,y},ke(t)):{x:g,y};if(g=W.x,y=W.y,l){var ne;return Object.assign({},oe,(ne={},ne[w]=S?"0":"",ne[A]=v?"0":"",ne.transform=(C.devicePixelRatio||1)<=1?"translate("+g+"px, "+y+"px)":"translate3d("+g+"px, "+y+"px, 0)",ne))}return Object.assign({},oe,(e={},e[w]=S?y+"px":"",e[A]=v?g+"px":"",e.transform="",e))}function Gm(n){var e=n.state,t=n.options,i=t.gpuAcceleration,s=i===void 0?!0:i,r=t.adaptive,o=r===void 0?!0:r,a=t.roundOffsets,l=a===void 0?!0:a,c={placement:it(e.placement),variation:Ei(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Ml(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Ml(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Qm={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Gm,data:{}};var os={passive:!0};function Ym(n){var e=n.state,t=n.instance,i=n.options,s=i.scroll,r=s===void 0?!0:s,o=i.resize,a=o===void 0?!0:o,l=ke(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&c.forEach(function(u){u.addEventListener("scroll",t.update,os)}),a&&l.addEventListener("resize",t.update,os),function(){r&&c.forEach(function(u){u.removeEventListener("scroll",t.update,os)}),a&&l.removeEventListener("resize",t.update,os)}}const Zm={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ym,data:{}};var eg={left:"right",right:"left",bottom:"top",top:"bottom"};function vs(n){return n.replace(/left|right|bottom|top/g,function(e){return eg[e]})}var tg={start:"end",end:"start"};function Fl(n){return n.replace(/start|end/g,function(e){return tg[e]})}function Yo(n){var e=ke(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function Zo(n){return Ai(Rt(n)).left+Yo(n).scrollLeft}function ig(n,e){var t=ke(n),i=Rt(n),s=t.visualViewport,r=i.clientWidth,o=i.clientHeight,a=0,l=0;if(s){r=s.width,o=s.height;var c=wu();(c||!c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:r,height:o,x:a+Zo(n),y:l}}function ng(n){var e,t=Rt(n),i=Yo(n),s=(e=n.ownerDocument)==null?void 0:e.body,r=zt(t.scrollWidth,t.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=zt(t.scrollHeight,t.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),a=-i.scrollLeft+Zo(n),l=-i.scrollTop;return yt(s||t).direction==="rtl"&&(a+=zt(t.clientWidth,s?s.clientWidth:0)-r),{width:r,height:o,x:a,y:l}}function ea(n){var e=yt(n),t=e.overflow,i=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+s+i)}function Eu(n){return["html","body","#document"].indexOf(nt(n))>=0?n.ownerDocument.body:Oe(n)&&ea(n)?n:Eu(Us(n))}function mn(n,e){var t;e===void 0&&(e=[]);var i=Eu(n),s=i===((t=n.ownerDocument)==null?void 0:t.body),r=ke(i),o=s?[r].concat(r.visualViewport||[],ea(i)?i:[]):i,a=e.concat(o);return s?a:a.concat(mn(Us(o)))}function co(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function sg(n,e){var t=Ai(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function _l(n,e,t){return e===yu?co(ig(n,t)):ei(e)?sg(e,t):co(ng(Rt(n)))}function rg(n){var e=mn(Us(n)),t=["absolute","fixed"].indexOf(yt(n).position)>=0,i=t&&Oe(n)?Nn(n):n;return ei(i)?e.filter(function(s){return ei(s)&&Cu(s,i)&&nt(s)!=="body"}):[]}function og(n,e,t,i){var s=e==="clippingParents"?rg(n):[].concat(e),r=[].concat(s,[t]),o=r[0],a=r.reduce(function(l,c){var u=_l(n,c,i);return l.top=zt(u.top,l.top),l.right=Rs(u.right,l.right),l.bottom=Rs(u.bottom,l.bottom),l.left=zt(u.left,l.left),l},_l(n,o,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Lu(n){var e=n.reference,t=n.element,i=n.placement,s=i?it(i):null,r=i?Ei(i):null,o=e.x+e.width/2-t.width/2,a=e.y+e.height/2-t.height/2,l;switch(s){case Ce:l={x:o,y:e.y-t.height};break;case Me:l={x:o,y:e.y+e.height};break;case Fe:l={x:e.x+e.width,y:a};break;case xe:l={x:e.x-t.width,y:a};break;default:l={x:e.x,y:e.y}}var c=s?Qo(s):null;if(c!=null){var u=c==="y"?"height":"width";switch(r){case xi:l[c]=l[c]-(e[u]/2-t[u]/2);break;case xn:l[c]=l[c]+(e[u]/2-t[u]/2);break}}return l}function Sn(n,e){e===void 0&&(e={});var t=e,i=t.placement,s=i===void 0?n.placement:i,r=t.strategy,o=r===void 0?n.strategy:r,a=t.boundary,l=a===void 0?Lm:a,c=t.rootBoundary,u=c===void 0?yu:c,h=t.elementContext,f=h===void 0?en:h,g=t.altBoundary,b=g===void 0?!1:g,y=t.padding,p=y===void 0?0:y,v=Su(typeof p!="number"?p:Au(p,On)),S=f===en?Tm:en,A=n.rects.popper,w=n.elements[b?S:f],C=og(ei(w)?w:w.contextElement||Rt(n.elements.popper),l,u,o),L=Ai(n.elements.reference),I=Lu({reference:L,element:A,strategy:"absolute",placement:s}),H=co(Object.assign({},A,I)),j=f===en?H:L,X={top:C.top-j.top+v.top,bottom:j.bottom-C.bottom+v.bottom,left:C.left-j.left+v.left,right:j.right-C.right+v.right},oe=n.modifiersData.offset;if(f===en&&oe){var W=oe[s];Object.keys(X).forEach(function(ne){var _e=[Fe,Me].indexOf(ne)>=0?1:-1,$e=[Ce,Me].indexOf(ne)>=0?"y":"x";X[ne]+=W[$e]*_e})}return X}function ag(n,e){e===void 0&&(e={});var t=e,i=t.placement,s=t.boundary,r=t.rootBoundary,o=t.padding,a=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?vu:l,u=Ei(i),h=u?a?Nl:Nl.filter(function(b){return Ei(b)===u}):On,f=h.filter(function(b){return c.indexOf(b)>=0});f.length===0&&(f=h);var g=f.reduce(function(b,y){return b[y]=Sn(n,{placement:y,boundary:s,rootBoundary:r,padding:o})[it(y)],b},{});return Object.keys(g).sort(function(b,y){return g[b]-g[y]})}function lg(n){if(it(n)===Ko)return[];var e=vs(n);return[Fl(n),e,Fl(e)]}function cg(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var s=t.mainAxis,r=s===void 0?!0:s,o=t.altAxis,a=o===void 0?!0:o,l=t.fallbackPlacements,c=t.padding,u=t.boundary,h=t.rootBoundary,f=t.altBoundary,g=t.flipVariations,b=g===void 0?!0:g,y=t.allowedAutoPlacements,p=e.options.placement,v=it(p),S=v===p,A=l||(S||!b?[vs(p)]:lg(p)),w=[p].concat(A).reduce(function(K,qe){return K.concat(it(qe)===Ko?ag(e,{placement:qe,boundary:u,rootBoundary:h,padding:c,flipVariations:b,allowedAutoPlacements:y}):qe)},[]),C=e.rects.reference,L=e.rects.popper,I=new Map,H=!0,j=w[0],X=0;X<w.length;X++){var oe=w[X],W=it(oe),ne=Ei(oe)===xi,_e=[Ce,Me].indexOf(W)>=0,$e=_e?"width":"height",de=Sn(e,{placement:oe,boundary:u,rootBoundary:h,altBoundary:f,padding:c}),Se=_e?ne?Fe:xe:ne?Me:Ce;C[$e]>L[$e]&&(Se=vs(Se));var oi=vs(Se),Ke=[];if(r&&Ke.push(de[W]<=0),a&&Ke.push(de[Se]<=0,de[oi]<=0),Ke.every(function(K){return K})){j=oe,H=!1;break}I.set(oe,Ke)}if(H)for(var ai=b?3:1,li=function(qe){var $=w.find(function(Xe){var He=I.get(Xe);if(He)return He.slice(0,qe).every(function(ci){return ci})});if($)return j=$,"break"},J=ai;J>0;J--){var Pt=li(J);if(Pt==="break")break}e.placement!==j&&(e.modifiersData[i]._skip=!0,e.placement=j,e.reset=!0)}}const ug={name:"flip",enabled:!0,phase:"main",fn:cg,requiresIfExists:["offset"],data:{_skip:!1}};function $l(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function ql(n){return[Ce,Fe,Me,xe].some(function(e){return n[e]>=0})}function dg(n){var e=n.state,t=n.name,i=e.rects.reference,s=e.rects.popper,r=e.modifiersData.preventOverflow,o=Sn(e,{elementContext:"reference"}),a=Sn(e,{altBoundary:!0}),l=$l(o,i),c=$l(a,s,r),u=ql(l),h=ql(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}const hg={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:dg};function fg(n,e,t){var i=it(n),s=[xe,Ce].indexOf(i)>=0?-1:1,r=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=r[0],a=r[1];return o=o||0,a=(a||0)*s,[xe,Fe].indexOf(i)>=0?{x:a,y:o}:{x:o,y:a}}function pg(n){var e=n.state,t=n.options,i=n.name,s=t.offset,r=s===void 0?[0,0]:s,o=vu.reduce(function(u,h){return u[h]=fg(h,e.rects,r),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=o}const mg={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:pg};function gg(n){var e=n.state,t=n.name;e.modifiersData[t]=Lu({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const bg={name:"popperOffsets",enabled:!0,phase:"read",fn:gg,data:{}};function yg(n){return n==="x"?"y":"x"}function vg(n){var e=n.state,t=n.options,i=n.name,s=t.mainAxis,r=s===void 0?!0:s,o=t.altAxis,a=o===void 0?!1:o,l=t.boundary,c=t.rootBoundary,u=t.altBoundary,h=t.padding,f=t.tether,g=f===void 0?!0:f,b=t.tetherOffset,y=b===void 0?0:b,p=Sn(e,{boundary:l,rootBoundary:c,padding:h,altBoundary:u}),v=it(e.placement),S=Ei(e.placement),A=!S,w=Qo(v),C=yg(w),L=e.modifiersData.popperOffsets,I=e.rects.reference,H=e.rects.popper,j=typeof y=="function"?y(Object.assign({},e.rects,{placement:e.placement})):y,X=typeof j=="number"?{mainAxis:j,altAxis:j}:Object.assign({mainAxis:0,altAxis:0},j),oe=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,W={x:0,y:0};if(L){if(r){var ne,_e=w==="y"?Ce:xe,$e=w==="y"?Me:Fe,de=w==="y"?"height":"width",Se=L[w],oi=Se+p[_e],Ke=Se-p[$e],ai=g?-H[de]/2:0,li=S===xi?I[de]:H[de],J=S===xi?-H[de]:-I[de],Pt=e.elements.arrow,K=g&&Pt?Go(Pt):{width:0,height:0},qe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:xu(),$=qe[_e],Xe=qe[$e],He=pn(0,I[de],K[de]),ci=A?I[de]/2-ai-He-$-X.mainAxis:li-He-$-X.mainAxis,qi=A?-I[de]/2+ai+He+Xe+X.mainAxis:J+He+Xe+X.mainAxis,ui=e.elements.arrow&&Nn(e.elements.arrow),Xn=ui?w==="y"?ui.clientTop||0:ui.clientLeft||0:0,st=(ne=oe==null?void 0:oe[w])!=null?ne:0,Hi=Se+ci-st-Xn,rt=Se+qi-st,di=pn(g?Rs(oi,Hi):oi,Se,g?zt(Ke,rt):Ke);L[w]=di,W[w]=di-Se}if(a){var hi,wt=w==="x"?Ce:xe,fi=w==="x"?Me:Fe,Ie=L[C],Ot=C==="y"?"height":"width",Vi=Ie+p[wt],pi=Ie-p[fi],ot=[Ce,xe].indexOf(v)!==-1,at=(hi=oe==null?void 0:oe[C])!=null?hi:0,lt=ot?Vi:Ie-I[Ot]-H[Ot]-at+X.altAxis,ji=ot?Ie+I[Ot]+H[Ot]-at-X.altAxis:pi,Wi=g&&ot?jm(lt,Ie,ji):pn(g?lt:Vi,Ie,g?ji:pi);L[C]=Wi,W[C]=Wi-Ie}e.modifiersData[i]=W}}const wg={name:"preventOverflow",enabled:!0,phase:"main",fn:vg,requiresIfExists:["offset"]};function Cg(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function xg(n){return n===ke(n)||!Oe(n)?Yo(n):Cg(n)}function Sg(n){var e=n.getBoundingClientRect(),t=Si(e.width)/n.offsetWidth||1,i=Si(e.height)/n.offsetHeight||1;return t!==1||i!==1}function Ag(n,e,t){t===void 0&&(t=!1);var i=Oe(e),s=Oe(e)&&Sg(e),r=Rt(e),o=Ai(n,s,t),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!t)&&((nt(e)!=="body"||ea(r))&&(a=xg(e)),Oe(e)?(l=Ai(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):r&&(l.x=Zo(r))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function Eg(n){var e=new Map,t=new Set,i=[];n.forEach(function(r){e.set(r.name,r)});function s(r){t.add(r.name);var o=[].concat(r.requires||[],r.requiresIfExists||[]);o.forEach(function(a){if(!t.has(a)){var l=e.get(a);l&&s(l)}}),i.push(r)}return n.forEach(function(r){t.has(r.name)||s(r)}),i}function Lg(n){var e=Eg(n);return Fm.reduce(function(t,i){return t.concat(e.filter(function(s){return s.phase===i}))},[])}function Tg(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function kg(n){var e=n.reduce(function(t,i){var s=t[i.name];return t[i.name]=s?Object.assign({},s,i,{options:Object.assign({},s.options,i.options),data:Object.assign({},s.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var Hl={placement:"bottom",modifiers:[],strategy:"absolute"};function Vl(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Ig(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,s=e.defaultOptions,r=s===void 0?Hl:s;return function(a,l,c){c===void 0&&(c=r);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Hl,r),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},h=[],f=!1,g={state:u,setOptions:function(v){var S=typeof v=="function"?v(u.options):v;y(),u.options=Object.assign({},r,u.options,S),u.scrollParents={reference:ei(a)?mn(a):a.contextElement?mn(a.contextElement):[],popper:mn(l)};var A=Lg(kg([].concat(i,u.options.modifiers)));return u.orderedModifiers=A.filter(function(w){return w.enabled}),b(),g.update()},forceUpdate:function(){if(!f){var v=u.elements,S=v.reference,A=v.popper;if(Vl(S,A)){u.rects={reference:Ag(S,Nn(A),u.options.strategy==="fixed"),popper:Go(A)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(X){return u.modifiersData[X.name]=Object.assign({},X.data)});for(var w=0;w<u.orderedModifiers.length;w++){if(u.reset===!0){u.reset=!1,w=-1;continue}var C=u.orderedModifiers[w],L=C.fn,I=C.options,H=I===void 0?{}:I,j=C.name;typeof L=="function"&&(u=L({state:u,options:H,name:j,instance:g})||u)}}}},update:Tg(function(){return new Promise(function(p){g.forceUpdate(),p(u)})}),destroy:function(){y(),f=!0}};if(!Vl(a,l))return g;g.setOptions(c).then(function(p){!f&&c.onFirstUpdate&&c.onFirstUpdate(p)});function b(){u.orderedModifiers.forEach(function(p){var v=p.name,S=p.options,A=S===void 0?{}:S,w=p.effect;if(typeof w=="function"){var C=w({state:u,name:v,instance:g,options:A}),L=function(){};h.push(C||L)}})}function y(){h.forEach(function(p){return p()}),h=[]}return g}}var Rg=[Zm,bg,Qm,qm,mg,ug,wg,Jm,hg],uo=Ig({defaultModifiers:Rg});/*
 * HSDropdown
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */class pe extends U{constructor(e,t,i){super(e,t,i),this.toggle=this.el.querySelector(":scope > .hs-dropdown-toggle")||this.el.querySelector(":scope > .hs-dropdown-toggle-wrapper > .hs-dropdown-toggle")||this.el.children[0],this.closers=Array.from(this.el.querySelectorAll(":scope .hs-dropdown-close"))||null,this.menu=this.el.querySelector(":scope > .hs-dropdown-menu"),this.eventMode=q(this.el,"--trigger","click"),this.closeMode=q(this.el,"--auto-close","true"),this.hasAutofocus=_t(q(this.el,"--has-autofocus","true")||"true"),this.animationInProcess=!1,this.onCloserClickListener=[],this.toggle&&this.menu&&this.init()}elementMouseEnter(){this.onMouseEnterHandler()}elementMouseLeave(){this.onMouseLeaveHandler()}toggleClick(e){this.onClickHandler(e)}toggleContextMenu(e){e.preventDefault(),this.onContextMenuHandler(e)}closerClick(){this.close()}init(){if(this.createCollection(window.$hsDropdownCollection,this),this.toggle.disabled)return!1;this.toggle&&this.buildToggle(),this.menu&&this.buildMenu(),this.closers&&this.buildClosers(),!Pl()&&!Ol()&&(this.onElementMouseEnterListener=()=>this.elementMouseEnter(),this.onElementMouseLeaveListener=()=>this.elementMouseLeave(),this.el.addEventListener("mouseenter",this.onElementMouseEnterListener),this.el.addEventListener("mouseleave",this.onElementMouseLeaveListener))}resizeHandler(){this.eventMode=q(this.el,"--trigger","click"),this.closeMode=q(this.el,"--auto-close","true")}buildToggle(){var e;(e=this==null?void 0:this.toggle)!=null&&e.ariaExpanded&&(this.el.classList.contains("open")?this.toggle.ariaExpanded="true":this.toggle.ariaExpanded="false"),this.eventMode==="contextmenu"?(this.onToggleContextMenuListener=t=>this.toggleContextMenu(t),this.toggle.addEventListener("contextmenu",this.onToggleContextMenuListener)):(this.onToggleClickListener=t=>this.toggleClick(t),this.toggle.addEventListener("click",this.onToggleClickListener))}buildMenu(){this.menu.role=this.menu.getAttribute("role")||"menu";const e=this.menu.querySelectorAll('[role="menuitemcheckbox"]'),t=this.menu.querySelectorAll('[role="menuitemradio"]');e.forEach(i=>i.addEventListener("click",()=>this.selectCheckbox(i))),t.forEach(i=>i.addEventListener("click",()=>this.selectRadio(i)))}buildClosers(){this.closers.forEach(e=>{this.onCloserClickListener.push({el:e,fn:()=>this.closerClick()}),e.addEventListener("click",this.onCloserClickListener.find(t=>t.el===e).fn)})}getScrollbarSize(){let e=document.createElement("div");e.style.overflow="scroll",e.style.width="100px",e.style.height="100px",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}onContextMenuHandler(e){const t={getBoundingClientRect:()=>new DOMRect};t.getBoundingClientRect=()=>new DOMRect(e.clientX,e.clientY,0,0),pe.closeCurrentlyOpened(),this.el.classList.contains("open")&&!this.menu.classList.contains("hidden")?(this.close(),document.body.style.overflow="",document.body.style.paddingRight=""):(document.body.style.overflow="hidden",document.body.style.paddingRight=`${this.getScrollbarSize()}px`,this.open(t))}onClickHandler(e){this.el.classList.contains("open")&&!this.menu.classList.contains("hidden")?this.close():this.open()}onMouseEnterHandler(){if(this.eventMode!=="hover")return!1;this.el._popper&&this.forceClearState(),!this.el.classList.contains("open")&&this.menu.classList.contains("hidden")&&this.open()}onMouseLeaveHandler(){if(this.eventMode!=="hover")return!1;this.el.classList.contains("open")&&!this.menu.classList.contains("hidden")&&this.close()}destroyPopper(){const e=(window.getComputedStyle(this.el).getPropertyValue("--scope")||"").replace(" ","");this.menu.classList.remove("block"),this.menu.classList.add("hidden"),this.menu.style.inset=null,this.menu.style.position=null,this.el&&this.el._popper&&this.el._popper.destroy(),e==="window"&&this.el.appendChild(this.menu),this.animationInProcess=!1}absoluteStrategyModifiers(){return[{name:"applyStyles",fn:e=>{const t=(window.getComputedStyle(this.el).getPropertyValue("--strategy")||"absolute").replace(" ",""),i=(window.getComputedStyle(this.el).getPropertyValue("--adaptive")||"adaptive").replace(" ","");e.state.elements.popper.style.position=t,e.state.elements.popper.style.transform=i==="adaptive"?e.state.styles.popper.transform:null,e.state.elements.popper.style.top=null,e.state.elements.popper.style.bottom=null,e.state.elements.popper.style.left=null,e.state.elements.popper.style.right=null,e.state.elements.popper.style.margin=0}}]}focusElement(){const e=this.menu.querySelector("[autofocus]");if(e)e.focus();else return!1}setupPopper(e){const t=e||this.el,i=(window.getComputedStyle(this.el).getPropertyValue("--placement")||"").replace(" ",""),s=(window.getComputedStyle(this.el).getPropertyValue("--flip")||"true").replace(" ",""),r=(window.getComputedStyle(this.el).getPropertyValue("--strategy")||"fixed").replace(" ",""),o=parseInt((window.getComputedStyle(this.el).getPropertyValue("--offset")||"10").replace(" ","")),a=(window.getComputedStyle(this.el).getPropertyValue("--gpu-acceleration")||"true").replace(" ","");return uo(t,this.menu,{placement:Is[i]||"bottom-start",strategy:r,modifiers:[...r!=="fixed"?this.absoluteStrategyModifiers():[],{name:"flip",enabled:s==="true"},{name:"offset",options:{offset:[0,o]}},{name:"computeStyles",options:{adaptive:r==="fixed",gpuAcceleration:a==="true"}}]})}selectCheckbox(e){e.ariaChecked=e.ariaChecked==="true"?"false":"true"}selectRadio(e){if(e.ariaChecked==="true")return!1;const i=e.closest(".group").querySelectorAll('[role="menuitemradio"]');Array.from(i).filter(r=>r!==e).forEach(r=>{r.ariaChecked="false"}),e.ariaChecked="true"}calculatePopperPosition(e){const t=this.setupPopper(e);t.forceUpdate();const i=t.state.placement;return t.destroy(),i}open(e){if(this.el.classList.contains("open")||this.animationInProcess)return!1;const t=e||this.el;this.animationInProcess=!0;const i=(window.getComputedStyle(this.el).getPropertyValue("--scope")||"").replace(" ",""),s=(window.getComputedStyle(this.el).getPropertyValue("--placement")||"").replace(" ",""),r=(window.getComputedStyle(this.el).getPropertyValue("--flip")||"true").replace(" ",""),o=(window.getComputedStyle(this.el).getPropertyValue("--strategy")||"fixed").replace(" ",""),a=parseInt((window.getComputedStyle(this.el).getPropertyValue("--offset")||"10").replace(" ","")),l=(window.getComputedStyle(this.el).getPropertyValue("--gpu-acceleration")||"true").replace(" ","");i==="window"&&document.body.appendChild(this.menu),o!=="static"&&(this.el._popper=uo(t,this.menu,{placement:Is[s]||"bottom-start",strategy:o,modifiers:[...o!=="fixed"?this.absoluteStrategyModifiers():[],{name:"flip",enabled:r==="true"},{name:"offset",options:{offset:[0,a]}},{name:"computeStyles",options:{adaptive:o==="fixed",gpuAcceleration:l==="true"}}]})),this.menu.style.margin=null,this.menu.classList.remove("hidden"),this.menu.classList.add("block"),setTimeout(()=>{var c;(c=this==null?void 0:this.toggle)!=null&&c.ariaExpanded&&(this.toggle.ariaExpanded="true"),this.el.classList.add("open"),i==="window"&&this.menu.classList.add("open"),this.animationInProcess=!1,this.hasAutofocus&&this.focusElement(),this.fireEvent("open",this.el),N("open.hs.dropdown",this.el,this.el)})}close(e=!0){if(this.animationInProcess||!this.el.classList.contains("open"))return!1;const t=(window.getComputedStyle(this.el).getPropertyValue("--scope")||"").replace(" ",""),i=()=>{var s;this.menu.style.margin=null,(s=this==null?void 0:this.toggle)!=null&&s.ariaExpanded&&(this.toggle.ariaExpanded="false"),this.el.classList.remove("open"),this.fireEvent("close",this.el),N("close.hs.dropdown",this.el,this.el)};if(this.animationInProcess=!0,t==="window"&&this.menu.classList.remove("open"),e){const s=this.el.querySelector("[data-hs-dropdown-transition]")||this.menu;Be(s,()=>this.destroyPopper())}else this.destroyPopper();i()}forceClearState(){this.destroyPopper(),this.menu.style.margin=null,this.el.classList.remove("open")}destroy(){!Pl()&&!Ol()&&(this.el.removeEventListener("mouseenter",this.onElementMouseEnterListener),this.el.removeEventListener("mouseleave",()=>this.onElementMouseLeaveListener),this.onElementMouseEnterListener=null,this.onElementMouseLeaveListener=null),this.toggle.removeEventListener("click",this.onToggleClickListener),this.onToggleClickListener=null,this.closers.length&&(this.closers.forEach(e=>{e.removeEventListener("click",this.onCloserClickListener.find(t=>t.el===e).fn)}),this.onCloserClickListener=null),this.el.classList.remove("open"),this.destroyPopper(),window.$hsDropdownCollection=window.$hsDropdownCollection.filter(({element:e})=>e.el!==this.el)}static findInCollection(e){return window.$hsDropdownCollection.find(t=>e instanceof pe?t.element.el===e.el:typeof e=="string"?t.element.el===document.querySelector(e):t.element.el===e)||null}static getInstance(e,t){const i=window.$hsDropdownCollection.find(s=>s.element.el===(typeof e=="string"?document.querySelector(e):e));return i?t?i:i.element.el:null}static autoInit(){if(!window.$hsDropdownCollection){window.$hsDropdownCollection=[],document.addEventListener("keydown",t=>pe.accessibility(t)),window.addEventListener("click",t=>{const i=t.target;pe.closeCurrentlyOpened(i)});let e=window.innerWidth;window.addEventListener("resize",()=>{window.innerWidth!==e&&(e=innerWidth,pe.closeCurrentlyOpened(null,!1))})}window.$hsDropdownCollection&&(window.$hsDropdownCollection=window.$hsDropdownCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll(".hs-dropdown:not(.--prevent-on-load-init)").forEach(e=>{window.$hsDropdownCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})||new pe(e)})}static open(e){const t=pe.findInCollection(e);t&&t.element.menu.classList.contains("hidden")&&t.element.open()}static close(e){const t=pe.findInCollection(e);t&&!t.element.menu.classList.contains("hidden")&&t.element.close()}static accessibility(e){this.history=Cm;const t=window.$hsDropdownCollection.find(i=>i.element.el.classList.contains("open"));if(t&&(xm.includes(e.code)||e.code.length===4&&e.code[e.code.length-1].match(/^[A-Z]*$/))&&!e.metaKey&&!t.element.menu.querySelector("input:focus")&&!t.element.menu.querySelector("textarea:focus"))switch(e.code){case"Escape":t.element.menu.querySelector(".hs-select.active")||(e.preventDefault(),this.onEscape(e));break;case"Enter":!t.element.menu.querySelector(".hs-select button:focus")&&!t.element.menu.querySelector(".hs-collapse-toggle:focus")&&this.onEnter(e);break;case"ArrowUp":e.preventDefault(),e.stopImmediatePropagation(),this.onArrow();break;case"ArrowDown":e.preventDefault(),e.stopImmediatePropagation(),this.onArrow(!1);break;case"ArrowRight":e.preventDefault(),e.stopImmediatePropagation(),this.onArrowX(e,"right");break;case"ArrowLeft":e.preventDefault(),e.stopImmediatePropagation(),this.onArrowX(e,"left");break;case"Home":e.preventDefault(),e.stopImmediatePropagation(),this.onStartEnd();break;case"End":e.preventDefault(),e.stopImmediatePropagation(),this.onStartEnd(!1);break;default:e.preventDefault(),this.onFirstLetter(e.key);break}}static onEscape(e){const t=e.target.closest(".hs-dropdown.open");if(window.$hsDropdownCollection.find(i=>i.element.el===t)){const i=window.$hsDropdownCollection.find(s=>s.element.el===t);i&&(i.element.close(),i.element.toggle.focus())}else this.closeCurrentlyOpened()}static onEnter(e){const t=e.target,{element:i}=window.$hsDropdownCollection.find(s=>s.element.el===t.closest(".hs-dropdown"))??null;if(i&&t.classList.contains("hs-dropdown-toggle"))e.preventDefault(),i.open();else if(i&&t.getAttribute("role")==="menuitemcheckbox")i.selectCheckbox(t),i.close();else if(i&&t.getAttribute("role")==="menuitemradio")i.selectRadio(t),i.close();else return!1}static onArrow(e=!0){const t=window.$hsDropdownCollection.find(i=>i.element.el.classList.contains("open"));if(t){const i=t.element.menu;if(!i)return!1;const s=e?Array.from(i.querySelectorAll('a:not([hidden]), .hs-dropdown > button:not([hidden]), [role="button"]:not([hidden]), [role^="menuitem"]:not([hidden])')).reverse():Array.from(i.querySelectorAll('a:not([hidden]), .hs-dropdown > button:not([hidden]), [role="button"]:not([hidden]), [role^="menuitem"]:not([hidden])')),o=Array.from(s).filter(c=>{const u=c;return u.closest("[hidden]")===null&&u.offsetParent!==null}).filter(c=>!c.classList.contains("disabled")),a=i.querySelector('a:focus, button:focus, [role="button"]:focus, [role^="menuitem"]:focus');let l=o.findIndex(c=>c===a);l+1<o.length&&l++,o[l].focus()}}static onArrowX(e,t){const i=e.target,s=i.closest(".hs-dropdown.open"),r=!!s&&!(s!=null&&s.parentElement.closest(".hs-dropdown")),o=pe.getInstance(i.closest(".hs-dropdown"),!0)??null,a=o.element.menu.querySelector('a, button, [role="button"], [role^="menuitem"]');if(r&&!i.classList.contains("hs-dropdown-toggle"))return!1;const l=pe.getInstance(i.closest(".hs-dropdown.open"),!0)??null;if(o.element.el.classList.contains("open")&&o.element.el._popper.state.placement.includes(t))return a.focus(),!1;console.log(o);const c=o.element.calculatePopperPosition();if(r&&!c.includes(t))return!1;c.includes(t)&&i.classList.contains("hs-dropdown-toggle")?(o.element.open(),a.focus()):(l.element.close(!1),l.element.toggle.focus())}static onStartEnd(e=!0){const t=window.$hsDropdownCollection.find(i=>i.element.el.classList.contains("open"));if(t){const i=t.element.menu;if(!i)return!1;const r=(e?Array.from(i.querySelectorAll('a, button, [role="button"], [role^="menuitem"]')):Array.from(i.querySelectorAll('a, button, [role="button"], [role^="menuitem"]')).reverse()).filter(o=>!o.classList.contains("disabled"));r.length&&r[0].focus()}}static onFirstLetter(e){const t=window.$hsDropdownCollection.find(i=>i.element.el.classList.contains("open"));if(t){const i=t.element.menu;if(!i)return!1;const s=Array.from(i.querySelectorAll('a, [role="button"], [role^="menuitem"]')),r=()=>s.findIndex((a,l)=>a.innerText.toLowerCase().charAt(0)===e.toLowerCase()&&this.history.existsInHistory(l));let o=r();o===-1&&(this.history.clearHistory(),o=r()),o!==-1&&(s[o].focus(),this.history.addHistory(o))}}static closeCurrentlyOpened(e=null,t=!0){const i=e&&e.closest(".hs-dropdown")&&e.closest(".hs-dropdown").parentElement.closest(".hs-dropdown")?e.closest(".hs-dropdown").parentElement.closest(".hs-dropdown"):null;let s=i?window.$hsDropdownCollection.filter(r=>r.element.el.classList.contains("open")&&r.element.menu.closest(".hs-dropdown").parentElement.closest(".hs-dropdown")===i):window.$hsDropdownCollection.filter(r=>r.element.el.classList.contains("open"));e&&e.closest(".hs-dropdown")&&Dl(e.closest(".hs-dropdown"),"--auto-close")==="inside"&&(s=s.filter(r=>r.element.el!==e.closest(".hs-dropdown"))),s&&s.forEach(r=>{if(r.element.closeMode==="false"||r.element.closeMode==="outside")return!1;r.element.close(t)}),s&&s.forEach(r=>{if(Dl(r.element.el,"--trigger")!=="contextmenu")return!1;document.body.style.overflow="",document.body.style.paddingRight=""})}static on(e,t,i){const s=pe.findInCollection(t);s&&(s.element.events[e]=i)}}window.addEventListener("load",()=>{pe.autoInit()});window.addEventListener("resize",()=>{window.$hsDropdownCollection||(window.$hsDropdownCollection=[]),window.$hsDropdownCollection.forEach(n=>n.element.resizeHandler())});typeof window<"u"&&(window.HSDropdown=pe);/*
 * HSInputNumber
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */class Bn extends U{constructor(e,t){super(e,t),this.input=this.el.querySelector("[data-hs-input-number-input]")||null,this.increment=this.el.querySelector("[data-hs-input-number-increment]")||null,this.decrement=this.el.querySelector("[data-hs-input-number-decrement]")||null,this.input&&this.checkIsNumberAndConvert();const i=this.el.dataset.hsInputNumber,r={...i?JSON.parse(i):{step:1},...t};this.minInputValue="min"in r?r.min:0,this.maxInputValue="max"in r?r.max:null,this.step="step"in r&&r.step>0?r.step:1,this.init()}inputInput(){this.changeValue()}incrementClick(){this.changeValue("increment")}decrementClick(){this.changeValue("decrement")}init(){this.createCollection(window.$hsInputNumberCollection,this),this.input&&this.increment&&this.build()}checkIsNumberAndConvert(){const e=this.input.value.trim(),t=this.cleanAndExtractNumber(e);t!==null?(this.inputValue=t,this.input.value=t.toString()):(this.inputValue=0,this.input.value="0")}cleanAndExtractNumber(e){const t=[];let i=!1;e.split("").forEach(o=>{o>="0"&&o<="9"?t.push(o):o==="."&&!i&&(t.push(o),i=!0)});const s=t.join(""),r=parseFloat(s);return isNaN(r)?null:r}build(){this.input&&this.buildInput(),this.increment&&this.buildIncrement(),this.decrement&&this.buildDecrement(),this.inputValue<=this.minInputValue&&(this.inputValue=this.minInputValue,this.input.value=`${this.minInputValue}`),this.inputValue<=this.minInputValue&&this.changeValue(),this.input.hasAttribute("disabled")&&this.disableButtons()}buildInput(){this.onInputInputListener=()=>this.inputInput(),this.input.addEventListener("input",this.onInputInputListener)}buildIncrement(){this.onIncrementClickListener=()=>this.incrementClick(),this.increment.addEventListener("click",this.onIncrementClickListener)}buildDecrement(){this.onDecrementClickListener=()=>this.decrementClick(),this.decrement.addEventListener("click",this.onDecrementClickListener)}changeValue(e="none"){const t={inputValue:this.inputValue},i=this.minInputValue??Number.MIN_SAFE_INTEGER,s=this.maxInputValue??Number.MAX_SAFE_INTEGER;switch(this.inputValue=isNaN(this.inputValue)?0:this.inputValue,e){case"increment":const r=this.inputValue+this.step;this.inputValue=r>=i&&r<=s?r:s,this.input.value=this.inputValue.toString();break;case"decrement":const o=this.inputValue-this.step;this.inputValue=o>=i&&o<=s?o:i,this.input.value=this.inputValue.toString();break;default:const a=isNaN(parseInt(this.input.value))?0:parseInt(this.input.value);this.inputValue=a>=s?s:a<=i?i:a,this.inputValue<=i&&(this.input.value=this.inputValue.toString());break}t.inputValue=this.inputValue,this.inputValue===i?(this.el.classList.add("disabled"),this.decrement&&this.disableButtons("decrement")):(this.el.classList.remove("disabled"),this.decrement&&this.enableButtons("decrement")),this.inputValue===s?(this.el.classList.add("disabled"),this.increment&&this.disableButtons("increment")):(this.el.classList.remove("disabled"),this.increment&&this.enableButtons("increment")),this.fireEvent("change",t),N("change.hs.inputNumber",this.el,t)}disableButtons(e="all"){e==="all"?((this.increment.tagName==="BUTTON"||this.increment.tagName==="INPUT")&&this.increment.setAttribute("disabled","disabled"),(this.decrement.tagName==="BUTTON"||this.decrement.tagName==="INPUT")&&this.decrement.setAttribute("disabled","disabled")):e==="increment"?(this.increment.tagName==="BUTTON"||this.increment.tagName==="INPUT")&&this.increment.setAttribute("disabled","disabled"):e==="decrement"&&(this.decrement.tagName==="BUTTON"||this.decrement.tagName==="INPUT")&&this.decrement.setAttribute("disabled","disabled")}enableButtons(e="all"){e==="all"?((this.increment.tagName==="BUTTON"||this.increment.tagName==="INPUT")&&this.increment.removeAttribute("disabled"),(this.decrement.tagName==="BUTTON"||this.decrement.tagName==="INPUT")&&this.decrement.removeAttribute("disabled")):e==="increment"?(this.increment.tagName==="BUTTON"||this.increment.tagName==="INPUT")&&this.increment.removeAttribute("disabled"):e==="decrement"&&(this.decrement.tagName==="BUTTON"||this.decrement.tagName==="INPUT")&&this.decrement.removeAttribute("disabled")}destroy(){this.el.classList.remove("disabled"),this.increment.removeAttribute("disabled"),this.decrement.removeAttribute("disabled"),this.input.removeEventListener("input",this.onInputInputListener),this.increment.removeEventListener("click",this.onIncrementClickListener),this.decrement.removeEventListener("click",this.onDecrementClickListener),window.$hsInputNumberCollection=window.$hsInputNumberCollection.filter(({element:e})=>e.el!==this.el)}static getInstance(e,t){const i=window.$hsInputNumberCollection.find(s=>s.element.el===(typeof e=="string"?document.querySelector(e):e));return i?t?i:i.element:null}static autoInit(){window.$hsInputNumberCollection||(window.$hsInputNumberCollection=[]),window.$hsInputNumberCollection&&(window.$hsInputNumberCollection=window.$hsInputNumberCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll("[data-hs-input-number]:not(.--prevent-on-load-init)").forEach(e=>{window.$hsInputNumberCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})||new Bn(e)})}}window.addEventListener("load",()=>{Bn.autoInit()});typeof window<"u"&&(window.HSInputNumber=Bn);/*
 * HSLayoutSplitter
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */const re=class re extends U{constructor(e,t){super(e,t);const i=e.getAttribute("data-hs-layout-splitter"),r={...i?JSON.parse(i):{},...t};this.horizontalSplitterClasses=(r==null?void 0:r.horizontalSplitterClasses)||null,this.horizontalSplitterTemplate=(r==null?void 0:r.horizontalSplitterTemplate)||"<div></div>",this.verticalSplitterClasses=(r==null?void 0:r.verticalSplitterClasses)||null,this.verticalSplitterTemplate=(r==null?void 0:r.verticalSplitterTemplate)||"<div></div>",this.isSplittersAddedManually=(r==null?void 0:r.isSplittersAddedManually)??!1,this.horizontalSplitters=[],this.horizontalControls=[],this.verticalSplitters=[],this.verticalControls=[],this.isDragging=!1,this.activeSplitter=null,this.onControlPointerDownListener=[],this.init()}controlPointerDown(e){this.isDragging=!0,this.activeSplitter=e,this.onPointerDownHandler(e)}controlPointerUp(){this.isDragging=!1,this.activeSplitter=null,this.onPointerUpHandler()}init(){this.createCollection(window.$hsLayoutSplitterCollection,this),this.buildSplitters(),re.isListenersInitialized||(document.addEventListener("pointermove",re.onDocumentPointerMove),document.addEventListener("pointerup",re.onDocumentPointerUp),re.isListenersInitialized=!0)}buildSplitters(){this.buildHorizontalSplitters(),this.buildVerticalSplitters()}buildHorizontalSplitters(){const e=this.el.querySelectorAll("[data-hs-layout-splitter-horizontal-group]");e.length&&(e.forEach(t=>{this.horizontalSplitters.push({el:t,items:Array.from(t.querySelectorAll(":scope > [data-hs-layout-splitter-item]"))})}),this.updateHorizontalSplitter())}buildVerticalSplitters(){const e=this.el.querySelectorAll("[data-hs-layout-splitter-vertical-group]");e.length&&(e.forEach(t=>{this.verticalSplitters.push({el:t,items:Array.from(t.querySelectorAll(":scope > [data-hs-layout-splitter-item]"))})}),this.updateVerticalSplitter())}buildControl(e,t,i="horizontal"){let s;if(this.isSplittersAddedManually){if(s=t==null?void 0:t.previousElementSibling,!s)return!1;s.style.display=""}else s=B(i==="horizontal"?this.horizontalSplitterTemplate:this.verticalSplitterTemplate),ce(i==="horizontal"?this.horizontalSplitterClasses:this.verticalSplitterClasses,s),s.classList.add("hs-layout-splitter-control");const r={el:s,direction:i,prev:e,next:t};i==="horizontal"?this.horizontalControls.push(r):this.verticalControls.push(r),this.bindListeners(r),t&&!this.isSplittersAddedManually&&e.insertAdjacentElement("afterend",s)}getSplitterItemParsedParam(e){const t=e.getAttribute("data-hs-layout-splitter-item");return Br(t)?JSON.parse(t):t}getContainerSize(e,t){return t?e.getBoundingClientRect().width:e.getBoundingClientRect().height}getMaxFlexSize(e,t,i){const s=this.getSplitterItemSingleParam(e,t);return typeof s=="number"?s/100*i:0}updateHorizontalSplitter(){this.horizontalSplitters.forEach(({items:e})=>{e.forEach(t=>{this.updateSingleSplitter(t)}),e.forEach((t,i)=>{i>=e.length-1?this.buildControl(t,null):this.buildControl(t,e[i+1])})})}updateSingleSplitter(e){const t=e.getAttribute("data-hs-layout-splitter-item"),i=Br(t)?JSON.parse(t):t,s=Br(t)?i.dynamicSize:t;e.style.flex=`${s} 1 0`}updateVerticalSplitter(){this.verticalSplitters.forEach(({items:e})=>{e.forEach(t=>{this.updateSingleSplitter(t)}),e.forEach((t,i)=>{i>=e.length-1?this.buildControl(t,null,"vertical"):this.buildControl(t,e[i+1],"vertical")})})}updateSplitterItemParam(e,t){const i=this.getSplitterItemParsedParam(e),s=t.toFixed(1),r=typeof i=="object"?JSON.stringify({...i,dynamicSize:+s}):s;e.setAttribute("data-hs-layout-splitter-item",r)}onPointerDownHandler(e){const{el:t,prev:i,next:s}=e;t.classList.add("dragging"),i.classList.add("dragging"),s.classList.add("dragging"),document.body.style.userSelect="none"}onPointerUpHandler(){document.body.style.userSelect=""}onPointerMoveHandler(e,t,i){const{prev:s,next:r}=t,o=t.el.closest(i==="horizontal"?"[data-hs-layout-splitter-horizontal-group]":"[data-hs-layout-splitter-vertical-group]"),a=i==="horizontal",l=this.getContainerSize(o,a),c=this.calculateAvailableSize(o,s,r,a,l),u=this.calculateResizedSizes(e,s,c,a),h=this.enforceLimits(u,s,r,l,c);this.applySizes(s,r,h,l)}bindListeners(e){const{el:t}=e;this.onControlPointerDownListener.push({el:t,fn:()=>this.controlPointerDown(e)}),t.addEventListener("pointerdown",this.onControlPointerDownListener.find(i=>i.el===t).fn)}calculateAvailableSize(e,t,i,s,r){const o=e.querySelectorAll(":scope > [data-hs-layout-splitter-item]"),a=Array.from(o).reduce((l,c)=>{if(c===t||c===i)return l;const u=c.getBoundingClientRect(),h=window.getComputedStyle(c);return l+(h.position==="fixed"?0:s?u.width:u.height)},0);return r-a}calculateResizedSizes(e,t,i,s){const r=s?t.getBoundingClientRect().left:t.getBoundingClientRect().top;let o=Math.max(0,Math.min((s?e.clientX:e.clientY)-r,i)),a=i-o;return{previousSize:o,nextSize:a}}enforceLimits(e,t,i,s,r){const o=this.getMaxFlexSize(t,"minSize",s),a=this.getMaxFlexSize(i,"minSize",s),l=this.getMaxFlexSize(t,"preLimitSize",s),c=this.getMaxFlexSize(i,"preLimitSize",s);let{previousSize:u,nextSize:h}=e;h<a?(h=a,u=r-h):u<o&&(u=o,h=r-u);const f={prev:t,next:i,previousSize:u.toFixed(),previousFlexSize:u/s*100,previousPreLimitSize:l,previousPreLimitFlexSize:l/s*100,previousMinSize:o,previousMinFlexSize:o/s*100,nextSize:h.toFixed(),nextFlexSize:h/s*100,nextPreLimitSize:c,nextPreLimitFlexSize:c/s*100,nextMinSize:a,nextMinFlexSize:a/s*100,static:{prev:{minSize:this.getSplitterItemSingleParam(t,"minSize"),preLimitSize:this.getSplitterItemSingleParam(t,"preLimitSize")},next:{minSize:this.getSplitterItemSingleParam(i,"minSize"),preLimitSize:this.getSplitterItemSingleParam(i,"preLimitSize")}}};return h<a?(this.fireEvent("onNextLimit",f),N("onNextLimit.hs.layoutSplitter",this.el,f)):u<o&&(this.fireEvent("onPrevLimit",f),N("onPrevLimit.hs.layoutSplitter",this.el,f)),u<=l&&(this.fireEvent("onPrevPreLimit",f),N("onPrevPreLimit.hs.layoutSplitter",this.el,f)),h<=c&&(this.fireEvent("onNextPreLimit",f),N("onNextPreLimit.hs.layoutSplitter",this.el,f)),this.fireEvent("drag",f),N("drag.hs.layoutSplitter",this.el,f),{previousSize:u,nextSize:h}}applySizes(e,t,i,s){const{previousSize:r,nextSize:o}=i,a=r/s*100;this.updateSplitterItemParam(e,a),e.style.flex=`${a.toFixed(1)} 1 0`;const l=o/s*100;this.updateSplitterItemParam(t,l),t.style.flex=`${l.toFixed(1)} 1 0`}getSplitterItemSingleParam(e,t){try{return this.getSplitterItemParsedParam(e)[t]}catch{return console.log("There is no parameter with this name in the object."),!1}}getData(e){const t=e.closest("[data-hs-layout-splitter-horizontal-group], [data-hs-layout-splitter-vertical-group]");if(!t)throw new Error("Element is not inside a valid layout splitter container.");const i=t.matches("[data-hs-layout-splitter-horizontal-group]"),s=this.getContainerSize(t,i),r=this.getSplitterItemSingleParam(e,"dynamicSize")||0,o=this.getMaxFlexSize(e,"minSize",s),a=this.getMaxFlexSize(e,"preLimitSize",s),l=r/100*s,c=o/s*100,u=a/s*100;return{el:e,dynamicSize:+l.toFixed(),dynamicFlexSize:r,minSize:+o.toFixed(),minFlexSize:c,preLimitSize:+a.toFixed(),preLimitFlexSize:u,static:{minSize:this.getSplitterItemSingleParam(e,"minSize")??null,preLimitSize:this.getSplitterItemSingleParam(e,"preLimitSize")??null}}}setSplitterItemSize(e,t){this.updateSplitterItemParam(e,t),e.style.flex=`${t.toFixed(1)} 1 0`}updateFlexValues(e){let t=0;const i=window.innerWidth,s=r=>{const o=Object.keys(r).map(Number).sort((a,l)=>a-l);for(let a=o.length-1;a>=0;a--)if(i>=o[a])return r[o[a]];return 0};if(e.forEach(({id:r,breakpoints:o})=>{const a=document.getElementById(r);if(a){const l=s(o);this.updateSplitterItemParam(a,l),a.style.flex=`${l.toFixed(1)} 1 0`,t+=l}}),t!==100){const r=100/t;e.forEach(({id:o})=>{const a=document.getElementById(o);if(a){const c=parseFloat(a.style.flex.split(" ")[0])*r;this.updateSplitterItemParam(a,c),a.style.flex=`${c.toFixed(1)} 1 0`}})}}destroy(){this.onControlPointerDownListener&&(this.onControlPointerDownListener.forEach(({el:e,fn:t})=>{e.removeEventListener("pointerdown",t)}),this.onControlPointerDownListener=null),this.horizontalSplitters.forEach(({items:e})=>{e.forEach(t=>{t.style.flex=""})}),this.verticalSplitters.forEach(({items:e})=>{e.forEach(t=>{t.style.flex=""})}),this.horizontalControls.forEach(({el:e})=>{this.isSplittersAddedManually?e.style.display="none":e.remove()}),this.verticalControls.forEach(({el:e})=>{this.isSplittersAddedManually?e.style.display="none":e.remove()}),this.horizontalControls=[],this.verticalControls=[],window.$hsLayoutSplitterCollection=window.$hsLayoutSplitterCollection.filter(({element:e})=>e.el!==this.el),window.$hsLayoutSplitterCollection.length===0&&re.isListenersInitialized&&(document.removeEventListener("pointermove",re.onDocumentPointerMove),document.removeEventListener("pointerup",re.onDocumentPointerUp),re.isListenersInitialized=!1)}static findInCollection(e){return window.$hsLayoutSplitterCollection.find(t=>e instanceof re?t.element.el===e.el:typeof e=="string"?t.element.el===document.querySelector(e):t.element.el===e)||null}static autoInit(){window.$hsLayoutSplitterCollection||(window.$hsLayoutSplitterCollection=[],window.addEventListener("pointerup",()=>{if(!window.$hsLayoutSplitterCollection)return!1;const e=document.querySelector(".hs-layout-splitter-control.dragging"),t=document.querySelectorAll("[data-hs-layout-splitter-item].dragging");if(!e)return!1;const i=re.getInstance(e.closest("[data-hs-layout-splitter]"),!0);e.classList.remove("dragging"),t.forEach(s=>s.classList.remove("dragging")),i.element.isDragging=!1})),window.$hsLayoutSplitterCollection&&(window.$hsLayoutSplitterCollection=window.$hsLayoutSplitterCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll("[data-hs-layout-splitter]:not(.--prevent-on-load-init)").forEach(e=>{window.$hsLayoutSplitterCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})||new re(e)})}static getInstance(e,t){const i=window.$hsLayoutSplitterCollection.find(s=>s.element.el===(typeof e=="string"?document.querySelector(e):e));return i?t?i:i.element.el:null}static on(e,t,i){const s=re.findInCollection(t);s&&(s.element.events[e]=i)}};re.isListenersInitialized=!1,re.onDocumentPointerMove=e=>{const t=document.querySelector(".hs-layout-splitter-control.dragging");if(!t)return;const i=re.getInstance(t.closest("[data-hs-layout-splitter]"),!0);if(!i||!i.element.isDragging)return;const s=i.element.activeSplitter;s&&(s.direction==="vertical"?i.element.onPointerMoveHandler(e,s,"vertical"):i.element.onPointerMoveHandler(e,s,"horizontal"))},re.onDocumentPointerUp=()=>{const e=document.querySelector(".hs-layout-splitter-control.dragging");if(!e)return;const t=re.getInstance(e.closest("[data-hs-layout-splitter]"),!0);t&&t.element.controlPointerUp()};let An=re;window.addEventListener("load",()=>{An.autoInit()});typeof window<"u"&&(window.HSLayoutSplitter=An);/*
 * HSOverlay
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */class Re extends U{constructor(e,t,i){var h,f;super(e,t,i),this.toggleButtons=Array.from(document.querySelectorAll(`[data-hs-overlay="#${this.el.id}"]`));const s=this.collectToggleParameters(this.toggleButtons),r=e.getAttribute("data-hs-overlay-options"),a={...r?JSON.parse(r):{},...s,...t};this.hiddenClass=(a==null?void 0:a.hiddenClass)||"hidden",this.emulateScrollbarSpace=(a==null?void 0:a.emulateScrollbarSpace)||!1,this.isClosePrev=(a==null?void 0:a.isClosePrev)??!0,this.backdropClasses=(a==null?void 0:a.backdropClasses)??"hs-overlay-backdrop transition duration fixed inset-0 bg-gray-900 bg-opacity-50 dark:bg-opacity-80 dark:bg-neutral-900",this.backdropParent=typeof a.backdropParent=="string"?document.querySelector(a.backdropParent):document.body,this.backdropExtraClasses=(a==null?void 0:a.backdropExtraClasses)??"",this.moveOverlayToBody=(a==null?void 0:a.moveOverlayToBody)||null,this.openNextOverlay=!1,this.autoHide=null,this.initContainer=((h=this.el)==null?void 0:h.parentElement)||null,this.isCloseWhenClickInside=_t(q(this.el,"--close-when-click-inside","false")||"false"),this.isTabAccessibilityLimited=_t(q(this.el,"--tab-accessibility-limited","true")||"true"),this.isLayoutAffect=_t(q(this.el,"--is-layout-affect","false")||"false"),this.hasAutofocus=_t(q(this.el,"--has-autofocus","true")||"true"),this.hasAbilityToCloseOnBackdropClick=_t(this.el.getAttribute("data-hs-overlay-keyboard")||"true");const l=q(this.el,"--auto-close"),c=q(this.el,"--auto-close-equality-type"),u=q(this.el,"--opened");this.autoClose=!isNaN(+l)&&isFinite(+l)?+l:ao[l]||null,this.autoCloseEqualityType=c??null,this.openedBreakpoint=(!isNaN(+u)&&isFinite(+u)?+u:ao[u])||null,this.animationTarget=((f=this==null?void 0:this.el)==null?void 0:f.querySelector(".hs-overlay-animation-target"))||this.el,this.onElementClickListener=[],this.init()}elementClick(){this.el.classList.contains("opened")?this.close():this.open()}overlayClick(e){e.target.id&&`#${e.target.id}`===this.el.id&&this.isCloseWhenClickInside&&this.hasAbilityToCloseOnBackdropClick&&this.close()}backdropClick(){this.close()}init(){if(this.createCollection(window.$hsOverlayCollection,this),this.isLayoutAffect&&this.openedBreakpoint){const e=Re.getInstance(this.el,!0);Re.setOpened(this.openedBreakpoint,e)}this.onOverlayClickListener=e=>this.overlayClick(e),this.el.addEventListener("click",this.onOverlayClickListener),this.toggleButtons.length&&this.buildToggleButtons()}buildToggleButtons(){this.toggleButtons.forEach(e=>{this.el.classList.contains("opened")?e.ariaExpanded="true":e.ariaExpanded="false",this.onElementClickListener.push({el:e,fn:()=>this.elementClick()}),e.addEventListener("click",this.onElementClickListener.find(t=>t.el===e).fn)})}hideAuto(){const e=parseInt(q(this.el,"--auto-hide","0"));e&&(this.autoHide=setTimeout(()=>{this.close()},e))}checkTimer(){this.autoHide&&(clearTimeout(this.autoHide),this.autoHide=null)}buildBackdrop(){const e=this.el.classList.value.split(" "),t=parseInt(window.getComputedStyle(this.el).getPropertyValue("z-index")),i=this.el.getAttribute("data-hs-overlay-backdrop-container")||!1;this.backdrop=document.createElement("div");let s=`${this.backdropClasses} ${this.backdropExtraClasses}`;const r=q(this.el,"--overlay-backdrop","true")!=="static",o=q(this.el,"--overlay-backdrop","true")==="false";this.backdrop.id=`${this.el.id}-backdrop`,"style"in this.backdrop&&(this.backdrop.style.zIndex=`${t-1}`);for(const a of e)(a.startsWith("hs-overlay-backdrop-open:")||a.includes(":hs-overlay-backdrop-open:"))&&(s+=` ${a}`);o||(i&&(this.backdrop=document.querySelector(i).cloneNode(!0),this.backdrop.classList.remove("hidden"),s=`${this.backdrop.classList.toString()}`,this.backdrop.classList.value=""),r&&(this.onBackdropClickListener=()=>this.backdropClick(),this.backdrop.addEventListener("click",this.onBackdropClickListener,!0)),this.backdrop.setAttribute("data-hs-overlay-backdrop-template",""),this.backdropParent.appendChild(this.backdrop),setTimeout(()=>{this.backdrop.classList.value=s}))}destroyBackdrop(){const e=document.querySelector(`#${this.el.id}-backdrop`);e&&(this.openNextOverlay&&(e.style.transitionDuration=`${parseFloat(window.getComputedStyle(e).transitionDuration.replace(/[^\d.-]/g,""))*1.8}s`),e.classList.add("opacity-0"),Be(e,()=>{e.remove()}))}focusElement(){const e=this.el.querySelector("[autofocus]");if(e)e.focus();else return!1}getScrollbarSize(){let e=document.createElement("div");e.style.overflow="scroll",e.style.width="100px",e.style.height="100px",document.body.appendChild(e);let t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}collectToggleParameters(e){let t={};return e.forEach(i=>{const s=i.getAttribute("data-hs-overlay-options"),r=s?JSON.parse(s):{};t={...t,...r}}),t}open(){const e=document.querySelectorAll(".hs-overlay.open"),t=window.$hsOverlayCollection.find(r=>Array.from(e).includes(r.element.el)&&!r.element.isLayoutAffect),i=document.querySelectorAll(`[data-hs-overlay="#${this.el.id}"]`),s=q(this.el,"--body-scroll","false")!=="true";if(this.isClosePrev&&t)return this.openNextOverlay=!0,t.element.close().then(()=>{this.open(),this.openNextOverlay=!1});s&&(document.body.style.overflow="hidden",this.emulateScrollbarSpace&&(document.body.style.paddingRight=`${this.getScrollbarSize()}px`)),this.buildBackdrop(),this.checkTimer(),this.hideAuto(),i.forEach(r=>{r.ariaExpanded&&(r.ariaExpanded="true")}),this.el.classList.remove(this.hiddenClass),this.el.setAttribute("aria-overlay","true"),this.el.setAttribute("tabindex","-1"),setTimeout(()=>{if(this.el.classList.contains("opened"))return!1;this.el.classList.add("open","opened"),this.isLayoutAffect&&document.body.classList.add("hs-overlay-body-open"),this.fireEvent("open",this.el),N("open.hs.overlay",this.el,this.el),this.hasAutofocus&&this.focusElement()},50)}close(e=!1){this.isLayoutAffect&&document.body.classList.remove("hs-overlay-body-open");const t=i=>{if(this.el.classList.contains("open"))return!1;document.querySelectorAll(`[data-hs-overlay="#${this.el.id}"]`).forEach(r=>{r.ariaExpanded&&(r.ariaExpanded="false")}),this.el.classList.add(this.hiddenClass),this.destroyBackdrop(),this.fireEvent("close",this.el),N("close.hs.overlay",this.el,this.el),document.querySelector(".hs-overlay.opened")||(document.body.style.overflow="",this.emulateScrollbarSpace&&(document.body.style.paddingRight="")),i(this.el)};return new Promise(i=>{this.el.classList.remove("open","opened"),this.el.removeAttribute("aria-overlay"),this.el.removeAttribute("tabindex"),e?t(i):Be(this.animationTarget,()=>t(i))})}destroy(){this.el.classList.remove("open","opened",this.hiddenClass),this.isLayoutAffect&&document.body.classList.remove("hs-overlay-body-open"),this.el.removeEventListener("click",this.onOverlayClickListener),this.onElementClickListener.length&&(this.onElementClickListener.forEach(({el:e,fn:t})=>{e.removeEventListener("click",t)}),this.onElementClickListener=null),this.backdrop&&this.backdrop.removeEventListener("click",this.onBackdropClickListener),this.backdrop&&(this.backdrop.remove(),this.backdrop=null),window.$hsOverlayCollection=window.$hsOverlayCollection.filter(({element:e})=>e.el!==this.el)}static findInCollection(e){return window.$hsOverlayCollection.find(t=>e instanceof Re?t.element.el===e.el:typeof e=="string"?t.element.el===document.querySelector(e):t.element.el===e)||null}static getInstance(e,t){const i=typeof e=="string"?document.querySelector(e):e,s=i!=null&&i.getAttribute("data-hs-overlay")?i.getAttribute("data-hs-overlay"):e,r=window.$hsOverlayCollection.find(o=>o.element.el===(typeof s=="string"?document.querySelector(s):s)||o.element.el===(typeof s=="string"?document.querySelector(s):s));return r?t?r:r.element.el:null}static autoInit(){window.$hsOverlayCollection||(window.$hsOverlayCollection=[],document.addEventListener("keydown",e=>Re.accessibility(e))),window.$hsOverlayCollection&&(window.$hsOverlayCollection=window.$hsOverlayCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll(".hs-overlay:not(.--prevent-on-load-init)").forEach(e=>{window.$hsOverlayCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})||new Re(e)})}static open(e){const t=Re.findInCollection(e);t&&t.element.el.classList.contains(t.element.hiddenClass)&&t.element.open()}static close(e){const t=Re.findInCollection(e);t&&!t.element.el.classList.contains(t.element.hiddenClass)&&t.element.close()}static setOpened(e,t){document.body.clientWidth>=e?(document.body.classList.add("hs-overlay-body-open"),t.element.open()):t.element.close(!0)}static accessibility(e){var a,l;const t=window.$hsOverlayCollection.filter(c=>c.element.el.classList.contains("open")),i=t[t.length-1],s=(l=(a=i==null?void 0:i.element)==null?void 0:a.el)==null?void 0:l.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),r=[];s!=null&&s.length&&s.forEach(c=>{Jo(c)||r.push(c)});const o=i&&!e.metaKey;if(o&&!i.element.isTabAccessibilityLimited&&e.code==="Tab")return!1;o&&r.length&&e.code==="Tab"&&(e.preventDefault(),this.onTab(i)),o&&e.code==="Escape"&&(e.preventDefault(),this.onEscape(i))}static onEscape(e){e&&e.element.hasAbilityToCloseOnBackdropClick&&e.element.close()}static onTab(e){const t=e.element.el,i=Array.from(t.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'));if(i.length===0)return!1;const s=t.querySelector(":focus");if(s){let r=!1;for(const o of i){if(r){o.focus();return}o===s&&(r=!0)}i[0].focus()}else i[0].focus()}static on(e,t,i){const s=Re.findInCollection(t);s&&(s.element.events[e]=i)}}const Dg=()=>{if(!window.$hsOverlayCollection.length||!window.$hsOverlayCollection.find(e=>e.element.autoClose))return!1;window.$hsOverlayCollection.filter(e=>e.element.autoClose).forEach(e=>{const{autoCloseEqualityType:t,autoClose:i}=e.element;(t==="less-than"?document.body.clientWidth<=i:document.body.clientWidth>=i)&&e.element.close(!0)})},Tu=()=>{if(!window.$hsOverlayCollection.length||!window.$hsOverlayCollection.find(e=>e.element.moveOverlayToBody))return!1;window.$hsOverlayCollection.filter(e=>e.element.moveOverlayToBody).forEach(e=>{const t=e.element.moveOverlayToBody,i=e.element.initContainer,s=document.querySelector("body"),r=e.element.el;if(!i&&r)return!1;document.body.clientWidth<=t&&!vm(s,r)?s.appendChild(r):document.body.clientWidth>t&&!i.contains(r)&&i.appendChild(r)})},Pg=()=>{if(!window.$hsOverlayCollection.length||!window.$hsOverlayCollection.find(e=>e.element.autoClose))return!1;window.$hsOverlayCollection.filter(e=>e.element.autoClose).forEach(e=>{const{autoCloseEqualityType:t,autoClose:i}=e.element;(t==="less-than"?document.body.clientWidth<=i:document.body.clientWidth>=i)&&e.element.close(!0)})},Og=()=>{if(!window.$hsOverlayCollection.length||!window.$hsOverlayCollection.find(e=>e.element.el.classList.contains("opened")))return!1;window.$hsOverlayCollection.filter(e=>e.element.el.classList.contains("opened")).forEach(e=>{const t=parseInt(window.getComputedStyle(e.element.el).getPropertyValue("z-index")),i=document.querySelector(`#${e.element.el.id}-backdrop`);if(!i)return!1;const s=parseInt(window.getComputedStyle(i).getPropertyValue("z-index"));if(t===s+1)return!1;"style"in i&&(i.style.zIndex=`${t-1}`),document.body.classList.add("hs-overlay-body-open")})};window.addEventListener("load",()=>{Re.autoInit(),Tu()});window.addEventListener("resize",()=>{Dg(),Tu(),Pg(),Og()});typeof window<"u"&&(window.HSOverlay=Re);/*
 * HSPinInput
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */class Mn extends U{elementInput(e,t){this.onInput(e,t)}elementPaste(e){this.onPaste(e)}elementKeydown(e,t){this.onKeydown(e,t)}elementFocusin(e){this.onFocusIn(e)}elementFocusout(e){this.onFocusOut(e)}constructor(e,t){super(e,t);const i=e.getAttribute("data-hs-pin-input"),r={...i?JSON.parse(i):{},...t};this.items=this.el.querySelectorAll("[data-hs-pin-input-item]"),this.currentItem=null,this.currentValue=new Array(this.items.length).fill(""),this.placeholders=[],this.availableCharsRE=new RegExp((r==null?void 0:r.availableCharsRE)||"^[a-zA-Z0-9]+$"),this.onElementInputListener=[],this.onElementPasteListener=[],this.onElementKeydownListener=[],this.onElementFocusinListener=[],this.onElementFocusoutListener=[],this.init()}init(){this.createCollection(window.$hsPinInputCollection,this),this.items.length&&this.build()}build(){this.buildInputItems()}buildInputItems(){this.items.forEach((e,t)=>{this.placeholders.push(e.getAttribute("placeholder")||""),e.hasAttribute("autofocus")&&this.onFocusIn(t),this.onElementInputListener.push({el:e,fn:i=>this.elementInput(i,t)}),this.onElementPasteListener.push({el:e,fn:i=>this.elementPaste(i)}),this.onElementKeydownListener.push({el:e,fn:i=>this.elementKeydown(i,t)}),this.onElementFocusinListener.push({el:e,fn:()=>this.elementFocusin(t)}),this.onElementFocusoutListener.push({el:e,fn:()=>this.elementFocusout(t)}),e.addEventListener("input",this.onElementInputListener.find(i=>i.el===e).fn),e.addEventListener("paste",this.onElementPasteListener.find(i=>i.el===e).fn),e.addEventListener("keydown",this.onElementKeydownListener.find(i=>i.el===e).fn),e.addEventListener("focusin",this.onElementFocusinListener.find(i=>i.el===e).fn),e.addEventListener("focusout",this.onElementFocusoutListener.find(i=>i.el===e).fn)})}checkIfNumber(e){return e.match(this.availableCharsRE)}autoFillAll(e){Array.from(e).forEach((t,i)=>{if(!(this!=null&&this.items[i]))return!1;this.items[i].value=t,this.items[i].dispatchEvent(new Event("input",{bubbles:!0}))})}setCurrentValue(){this.currentValue=Array.from(this.items).map(e=>e.value)}toggleCompleted(){this.currentValue.includes("")?this.el.classList.remove("active"):this.el.classList.add("active")}onInput(e,t){const i=e.target.value;if(this.currentItem=e.target,this.currentItem.value="",this.currentItem.value=i[i.length-1],!this.checkIfNumber(this.currentItem.value))return this.currentItem.value=this.currentValue[t]||"",!1;if(this.setCurrentValue(),this.currentItem.value){if(t<this.items.length-1&&this.items[t+1].focus(),!this.currentValue.includes("")){const s={currentValue:this.currentValue};this.fireEvent("completed",s),N("completed.hs.pinInput",this.el,s)}this.toggleCompleted()}else t>0&&this.items[t-1].focus()}onKeydown(e,t){e.key==="Backspace"&&t>0&&(this.items[t].value===""?(this.items[t-1].value="",this.items[t-1].focus()):this.items[t].value=""),this.setCurrentValue(),this.toggleCompleted()}onFocusIn(e){this.items[e].setAttribute("placeholder","")}onFocusOut(e){this.items[e].setAttribute("placeholder",this.placeholders[e])}onPaste(e){e.preventDefault(),this.items.forEach(t=>{document.activeElement===t&&this.autoFillAll(e.clipboardData.getData("text"))})}destroy(){this.el.classList.remove("active"),this.items.length&&this.items.forEach(e=>{e.removeEventListener("input",this.onElementInputListener.find(t=>t.el===e).fn),e.removeEventListener("paste",this.onElementPasteListener.find(t=>t.el===e).fn),e.removeEventListener("keydown",this.onElementKeydownListener.find(t=>t.el===e).fn),e.removeEventListener("focusin",this.onElementFocusinListener.find(t=>t.el===e).fn),e.removeEventListener("focusout",this.onElementFocusoutListener.find(t=>t.el===e).fn)}),this.items=null,this.currentItem=null,this.currentValue=null,window.$hsPinInputCollection=window.$hsPinInputCollection.filter(({element:e})=>e.el!==this.el)}static getInstance(e,t){const i=window.$hsPinInputCollection.find(s=>s.element.el===(typeof e=="string"?document.querySelector(e):e));return i?t?i:i.element:null}static autoInit(){window.$hsPinInputCollection||(window.$hsPinInputCollection=[]),window.$hsPinInputCollection&&(window.$hsPinInputCollection=window.$hsPinInputCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll("[data-hs-pin-input]:not(.--prevent-on-load-init)").forEach(e=>{window.$hsPinInputCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})||new Mn(e)})}}window.addEventListener("load",()=>{Mn.autoInit()});typeof window<"u"&&(window.HSPinInput=Mn);/*
 * HSRemoveElement
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */class Fn extends U{constructor(e,t){super(e,t);const i=e.getAttribute("data-hs-remove-element-options"),r={...i?JSON.parse(i):{},...t};this.removeTargetId=this.el.getAttribute("data-hs-remove-element"),this.removeTarget=document.querySelector(this.removeTargetId),this.removeTargetAnimationClass=(r==null?void 0:r.removeTargetAnimationClass)||"hs-removing",this.removeTarget&&this.init()}elementClick(){this.remove()}init(){this.createCollection(window.$hsRemoveElementCollection,this),this.onElementClickListener=()=>this.elementClick(),this.el.addEventListener("click",this.onElementClickListener)}remove(){if(!this.removeTarget)return!1;this.removeTarget.classList.add(this.removeTargetAnimationClass),Be(this.removeTarget,()=>setTimeout(()=>this.removeTarget.remove()))}destroy(){this.removeTarget.classList.remove(this.removeTargetAnimationClass),this.el.removeEventListener("click",this.onElementClickListener),window.$hsRemoveElementCollection=window.$hsRemoveElementCollection.filter(({element:e})=>e.el!==this.el)}static getInstance(e,t){const i=window.$hsRemoveElementCollection.find(s=>s.element.el===(typeof e=="string"?document.querySelector(e):e)||s.element.el===(typeof e=="string"?document.querySelector(e):e));return i?t?i:i.element.el:null}static autoInit(){window.$hsRemoveElementCollection||(window.$hsRemoveElementCollection=[]),window.$hsRemoveElementCollection&&(window.$hsRemoveElementCollection=window.$hsRemoveElementCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll("[data-hs-remove-element]:not(.--prevent-on-load-init)").forEach(e=>{window.$hsRemoveElementCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})||new Fn(e)})}}window.addEventListener("load",()=>{Fn.autoInit()});typeof window<"u"&&(window.HSRemoveElement=Fn);/*
 * HSScrollspy
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */class _n extends U{constructor(e,t={}){super(e,t),this.activeSection=null,this.contentId=this.el.getAttribute("data-hs-scrollspy"),this.content=document.querySelector(this.contentId),this.links=this.el.querySelectorAll("[href]"),this.sections=[],this.scrollableId=this.el.getAttribute("data-hs-scrollspy-scrollable-parent"),this.scrollable=this.scrollableId?document.querySelector(this.scrollableId):document,this.onLinkClickListener=[],this.init()}scrollableScroll(e){Array.from(this.sections).forEach(t=>{if(!t.getAttribute("id"))return!1;this.update(e,t)})}linkClick(e,t){if(e.preventDefault(),t.getAttribute("href")==="javascript:;")return!1;this.scrollTo(t)}init(){this.createCollection(window.$hsScrollspyCollection,this),this.links.forEach(e=>{this.sections.push(this.scrollable.querySelector(e.getAttribute("href")))}),this.onScrollableScrollListener=e=>this.scrollableScroll(e),this.scrollable.addEventListener("scroll",this.onScrollableScrollListener),this.links.forEach(e=>{this.onLinkClickListener.push({el:e,fn:t=>this.linkClick(t,e)}),e.addEventListener("click",this.onLinkClickListener.find(t=>t.el===e).fn)})}update(e,t){const i=parseInt(q(this.el,"--scrollspy-offset","0")),s=parseInt(q(t,"--scrollspy-offset"))||i,r=e.target===document?0:parseInt(String(e.target.getBoundingClientRect().top)),o=parseInt(String(t.getBoundingClientRect().top))-s-r,a=t.offsetHeight;if(o<=0&&o+a>0){if(this.activeSection===t)return!1;this.links.forEach(c=>{c.classList.remove("active")});const l=this.el.querySelector(`[href="#${t.getAttribute("id")}"]`);if(l){l.classList.add("active");const c=l.closest("[data-hs-scrollspy-group]");if(c){const u=c.querySelector("[href]");u&&u.classList.add("active")}}this.activeSection=t}}scrollTo(e){const t=e.getAttribute("href"),i=document.querySelector(t),s=parseInt(q(this.el,"--scrollspy-offset","0")),r=parseInt(q(i,"--scrollspy-offset"))||s,o=this.scrollable===document?0:this.scrollable.offsetTop,a=i.offsetTop-r-o,l=this.scrollable===document?window:this.scrollable,c=()=>{window.history.replaceState(null,null,e.getAttribute("href")),"scrollTo"in l&&l.scrollTo({top:a,left:0,behavior:"smooth"})},u=this.fireEvent("beforeScroll",this.el);N("beforeScroll.hs.scrollspy",this.el,this.el),u instanceof Promise?u.then(()=>c()):c()}destroy(){this.el.querySelector("[href].active").classList.remove("active"),this.scrollable.removeEventListener("scroll",this.onScrollableScrollListener),this.onLinkClickListener.length&&this.onLinkClickListener.forEach(({el:t,fn:i})=>{t.removeEventListener("click",i)}),window.$hsScrollspyCollection=window.$hsScrollspyCollection.filter(({element:t})=>t.el!==this.el)}static getInstance(e,t=!1){const i=window.$hsScrollspyCollection.find(s=>s.element.el===(typeof e=="string"?document.querySelector(e):e));return i?t?i:i.element.el:null}static autoInit(){window.$hsScrollspyCollection||(window.$hsScrollspyCollection=[]),window.$hsScrollspyCollection&&(window.$hsScrollspyCollection=window.$hsScrollspyCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll("[data-hs-scrollspy]:not(.--prevent-on-load-init)").forEach(e=>{window.$hsScrollspyCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})||new _n(e)})}}window.addEventListener("load",()=>{_n.autoInit()});typeof window<"u"&&(window.HSScrollspy=_n);/*
 * HSSelect
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */class et extends U{constructor(e,t){var o,a;super(e,t),this.optionId=0;const i=e.getAttribute("data-hs-select"),r={...i?JSON.parse(i):{},...t};this.value=(r==null?void 0:r.value)||this.el.value||null,this.placeholder=(r==null?void 0:r.placeholder)||"Select...",this.hasSearch=(r==null?void 0:r.hasSearch)||!1,this.minSearchLength=(r==null?void 0:r.minSearchLength)??0,this.preventSearchFocus=(r==null?void 0:r.preventSearchFocus)||!1,this.mode=(r==null?void 0:r.mode)||"default",this.viewport=typeof(r==null?void 0:r.viewport)<"u"?document.querySelector(r==null?void 0:r.viewport):null,this.isOpened=!!(r!=null&&r.isOpened)||!1,this.isMultiple=this.el.hasAttribute("multiple")||!1,this.isDisabled=this.el.hasAttribute("disabled")||!1,this.selectedItems=[],this.apiUrl=(r==null?void 0:r.apiUrl)||null,this.apiQuery=(r==null?void 0:r.apiQuery)||null,this.apiOptions=(r==null?void 0:r.apiOptions)||null,this.apiSearchQueryKey=(r==null?void 0:r.apiSearchQueryKey)||null,this.apiDataPart=(r==null?void 0:r.apiDataPart)||null,this.apiFieldsMap=(r==null?void 0:r.apiFieldsMap)||null,this.apiIconTag=(r==null?void 0:r.apiIconTag)||null,this.wrapperClasses=(r==null?void 0:r.wrapperClasses)||null,this.toggleTag=(r==null?void 0:r.toggleTag)||null,this.toggleClasses=(r==null?void 0:r.toggleClasses)||null,this.toggleCountText=typeof(r==null?void 0:r.toggleCountText)===void 0?null:r.toggleCountText,this.toggleCountTextPlacement=(r==null?void 0:r.toggleCountTextPlacement)||"postfix",this.toggleCountTextMinItems=(r==null?void 0:r.toggleCountTextMinItems)||1,this.toggleCountTextMode=(r==null?void 0:r.toggleCountTextMode)||"countAfterLimit",this.toggleSeparators={items:((o=r==null?void 0:r.toggleSeparators)==null?void 0:o.items)||", ",betweenItemsAndCounter:((a=r==null?void 0:r.toggleSeparators)==null?void 0:a.betweenItemsAndCounter)||"and"},this.tagsItemTemplate=(r==null?void 0:r.tagsItemTemplate)||null,this.tagsItemClasses=(r==null?void 0:r.tagsItemClasses)||null,this.tagsInputId=(r==null?void 0:r.tagsInputId)||null,this.tagsInputClasses=(r==null?void 0:r.tagsInputClasses)||null,this.dropdownTag=(r==null?void 0:r.dropdownTag)||null,this.dropdownClasses=(r==null?void 0:r.dropdownClasses)||null,this.dropdownDirectionClasses=(r==null?void 0:r.dropdownDirectionClasses)||null,this.dropdownSpace=(r==null?void 0:r.dropdownSpace)||10,this.dropdownPlacement=(r==null?void 0:r.dropdownPlacement)||null,this.dropdownVerticalFixedPlacement=(r==null?void 0:r.dropdownVerticalFixedPlacement)||null,this.dropdownScope=(r==null?void 0:r.dropdownScope)||"parent",this.searchTemplate=(r==null?void 0:r.searchTemplate)||null,this.searchWrapperTemplate=(r==null?void 0:r.searchWrapperTemplate)||null,this.searchWrapperClasses=(r==null?void 0:r.searchWrapperClasses)||"bg-white p-2 sticky top-0",this.searchId=(r==null?void 0:r.searchId)||null,this.searchLimit=(r==null?void 0:r.searchLimit)||1/0,this.isSearchDirectMatch=typeof(r==null?void 0:r.isSearchDirectMatch)<"u"?r==null?void 0:r.isSearchDirectMatch:!0,this.searchClasses=(r==null?void 0:r.searchClasses)||"block w-[calc(100%-2rem)] text-sm border-gray-200 rounded-md focus:border-blue-500 focus:ring-blue-500 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 py-2 px-3 my-2 mx-4",this.searchPlaceholder=(r==null?void 0:r.searchPlaceholder)||"Search...",this.searchNoResultTemplate=(r==null?void 0:r.searchNoResultTemplate)||"<span></span>",this.searchNoResultText=(r==null?void 0:r.searchNoResultText)||"No results found",this.searchNoResultClasses=(r==null?void 0:r.searchNoResultClasses)||"px-4 text-sm text-gray-800 dark:text-neutral-200",this.optionAllowEmptyOption=typeof(r==null?void 0:r.optionAllowEmptyOption)<"u"?r==null?void 0:r.optionAllowEmptyOption:!1,this.optionTemplate=(r==null?void 0:r.optionTemplate)||null,this.optionTag=(r==null?void 0:r.optionTag)||null,this.optionClasses=(r==null?void 0:r.optionClasses)||null,this.extraMarkup=(r==null?void 0:r.extraMarkup)||null,this.descriptionClasses=(r==null?void 0:r.descriptionClasses)||null,this.iconClasses=(r==null?void 0:r.iconClasses)||null,this.isAddTagOnEnter=(r==null?void 0:r.isAddTagOnEnter)??!0,this.animationInProcess=!1,this.selectOptions=[],this.remoteOptions=[],this.tagsInputHelper=null,this.init()}wrapperClick(e){!e.target.closest("[data-hs-select-dropdown]")&&!e.target.closest("[data-tag-value]")&&this.tagsInput.focus()}toggleClick(){if(this.isDisabled)return!1;this.toggleFn()}tagsInputFocus(){this.isOpened||this.open()}tagsInputInput(){this.calculateInputWidth()}tagsInputInputSecond(e){this.searchOptions(e.target.value)}tagsInputKeydown(e){if(e.key==="Enter"&&this.isAddTagOnEnter){const t=e.target.value;if(this.selectOptions.find(i=>i.val===t))return!1;this.addSelectOption(t,t),this.buildOption(t,t),this.dropdown.querySelector(`[data-value="${t}"]`).click(),this.resetTagsInputField()}}searchInput(e){const t=e.target.value;this.apiUrl?this.remoteSearch(t):this.searchOptions(t)}setValue(e){this.value=e,this.clearSelections(),Array.isArray(e)?this.mode==="tags"?(this.unselectMultipleItems(),this.selectMultipleItems(),this.selectedItems=[],this.wrapper.querySelectorAll("[data-tag-value]").forEach(i=>i.remove()),this.setTagsItems(),this.reassignTagsInputPlaceholder(this.value.length?"":this.placeholder)):(this.toggleTextWrapper.innerHTML=this.value.length?this.stringFromValue():this.placeholder,this.unselectMultipleItems(),this.selectMultipleItems()):(this.setToggleTitle(),this.toggle.querySelector("[data-icon]")&&this.setToggleIcon(),this.toggle.querySelector("[data-title]")&&this.setToggleTitle(),this.selectSingleItem())}init(){this.createCollection(window.$hsSelectCollection,this),this.build()}build(){if(this.el.style.display="none",this.el.children&&Array.from(this.el.children).filter(e=>this.optionAllowEmptyOption||!this.optionAllowEmptyOption&&e.value&&e.value!=="").forEach(e=>{const t=e.getAttribute("data-hs-select-option");this.selectOptions=[...this.selectOptions,{title:e.textContent,val:e.value,disabled:e.disabled,options:t!=="undefined"?JSON.parse(t):null}]}),this.isMultiple){const e=Array.from(this.el.children).filter(t=>t.selected);if(e){const t=[];e.forEach(i=>{t.push(i.value)}),this.value=t}}this.buildWrapper(),this.mode==="tags"?this.buildTags():this.buildToggle(),this.buildDropdown(),this.extraMarkup&&this.buildExtraMarkup()}buildWrapper(){this.wrapper=document.createElement("div"),this.wrapper.classList.add("hs-select","relative"),this.mode==="tags"&&(this.onWrapperClickListener=e=>this.wrapperClick(e),this.wrapper.addEventListener("click",this.onWrapperClickListener)),this.wrapperClasses&&ce(this.wrapperClasses,this.wrapper),this.el.before(this.wrapper),this.wrapper.append(this.el)}buildExtraMarkup(){const e=i=>{const s=B(i);return this.wrapper.append(s),s},t=i=>{i.classList.contains("--prevent-click")||i.addEventListener("click",s=>{s.stopPropagation(),this.toggleFn()})};if(Array.isArray(this.extraMarkup))this.extraMarkup.forEach(i=>{const s=e(i);t(s)});else{const i=e(this.extraMarkup);t(i)}}buildToggle(){var i,s;let e,t;this.toggleTextWrapper=document.createElement("span"),this.toggleTextWrapper.classList.add("truncate"),this.toggle=B(this.toggleTag||"<div></div>"),e=this.toggle.querySelector("[data-icon]"),t=this.toggle.querySelector("[data-title]"),!this.isMultiple&&e&&this.setToggleIcon(),!this.isMultiple&&t&&this.setToggleTitle(),this.isMultiple?this.toggleTextWrapper.innerHTML=this.value.length?this.stringFromValue():this.placeholder:this.toggleTextWrapper.innerHTML=((i=this.getItemByValue(this.value))==null?void 0:i.title)||this.placeholder,t||this.toggle.append(this.toggleTextWrapper),this.toggleClasses&&ce(this.toggleClasses,this.toggle),this.isDisabled&&this.toggle.classList.add("disabled"),this.wrapper&&this.wrapper.append(this.toggle),(s=this.toggle)!=null&&s.ariaExpanded&&(this.isOpened?this.toggle.ariaExpanded="true":this.toggle.ariaExpanded="false"),this.onToggleClickListener=()=>this.toggleClick(),this.toggle.addEventListener("click",this.onToggleClickListener)}setToggleIcon(){var i;const e=this.getItemByValue(this.value),t=this.toggle.querySelector("[data-icon]");if(t){t.innerHTML="";const s=B(this.apiUrl&&this.apiIconTag?this.apiIconTag||"":((i=e==null?void 0:e.options)==null?void 0:i.icon)||"");this.value&&this.apiUrl&&this.apiIconTag&&e[this.apiFieldsMap.icon]&&(s.src=e[this.apiFieldsMap.icon]||""),t.append(s),s?t.classList.remove("hidden"):t.classList.add("hidden")}}setToggleTitle(){var t;const e=this.toggle.querySelector("[data-title]");e&&(e.innerHTML=((t=this.getItemByValue(this.value))==null?void 0:t.title)||this.placeholder,e.classList.add("truncate"),this.toggle.append(e))}buildTags(){this.isDisabled&&this.wrapper.classList.add("disabled"),this.buildTagsInput(),this.setTagsItems()}reassignTagsInputPlaceholder(e){this.tagsInput.placeholder=e,this.tagsInputHelper.innerHTML=e,this.calculateInputWidth()}buildTagsItem(e){var l,c,u,h;const t=this.getItemByValue(e);let i,s,r,o;const a=document.createElement("div");if(a.setAttribute("data-tag-value",e),this.tagsItemClasses&&ce(this.tagsItemClasses,a),this.tagsItemTemplate&&(i=B(this.tagsItemTemplate),a.append(i)),(l=t==null?void 0:t.options)!=null&&l.icon||this.apiIconTag){const f=B(this.apiUrl&&this.apiIconTag?this.apiIconTag:(c=t==null?void 0:t.options)==null?void 0:c.icon);this.apiUrl&&this.apiIconTag&&t[this.apiFieldsMap.icon]&&(f.src=t[this.apiFieldsMap.icon]||""),o=i?i.querySelector("[data-icon]"):document.createElement("span"),o.append(f),i||a.append(o)}i&&i.querySelector("[data-icon]")&&!((u=t==null?void 0:t.options)!=null&&u.icon)&&!this.apiUrl&&!this.apiIconTag&&!t[(h=this.apiFieldsMap)==null?void 0:h.icon]&&i.querySelector("[data-icon]").classList.add("hidden"),s=i?i.querySelector("[data-title]"):document.createElement("span"),s.textContent=t.title||"",i||a.append(s),i?r=i.querySelector("[data-remove]"):(r=document.createElement("span"),r.textContent="X",a.append(r)),r.addEventListener("click",()=>{this.value=this.value.filter(f=>f!==e),this.selectedItems=this.selectedItems.filter(f=>f!==e),this.value.length||this.reassignTagsInputPlaceholder(this.placeholder),this.unselectMultipleItems(),this.selectMultipleItems(),a.remove(),this.triggerChangeEventForNativeSelect()}),this.wrapper.append(a)}getItemByValue(e){return this.apiUrl?this.remoteOptions.find(i=>`${i[this.apiFieldsMap.val]}`===e||i[this.apiFieldsMap.title]===e):this.selectOptions.find(i=>i.val===e)}setTagsItems(){this.value&&this.value.forEach(e=>{this.selectedItems.includes(e)||this.buildTagsItem(e),this.selectedItems=this.selectedItems.includes(e)?this.selectedItems:[...this.selectedItems,e]})}buildTagsInput(){this.tagsInput=document.createElement("input"),this.tagsInputId&&(this.tagsInput.id=this.tagsInputId),this.tagsInputClasses&&ce(this.tagsInputClasses,this.tagsInput),this.onTagsInputFocusListener=()=>this.tagsInputFocus(),this.onTagsInputInputListener=()=>this.tagsInputInput(),this.onTagsInputInputSecondListener=Cn(e=>this.tagsInputInputSecond(e)),this.onTagsInputKeydownListener=e=>this.tagsInputKeydown(e),this.tagsInput.addEventListener("focus",this.onTagsInputFocusListener),this.tagsInput.addEventListener("input",this.onTagsInputInputListener),this.tagsInput.addEventListener("input",this.onTagsInputInputSecondListener),this.tagsInput.addEventListener("keydown",this.onTagsInputKeydownListener),this.wrapper.append(this.tagsInput),setTimeout(()=>{this.adjustInputWidth(),this.reassignTagsInputPlaceholder(this.value.length?"":this.placeholder)})}buildDropdown(){this.dropdown=B(this.dropdownTag||"<div></div>"),this.dropdown.setAttribute("data-hs-select-dropdown",""),this.dropdownScope==="parent"&&(this.dropdown.classList.add("absolute"),this.dropdownVerticalFixedPlacement||this.dropdown.classList.add("top-full")),this.dropdown.role="listbox",this.dropdown.tabIndex=-1,this.dropdown.ariaOrientation="vertical",this.isOpened||this.dropdown.classList.add("hidden"),this.dropdownClasses&&ce(this.dropdownClasses,this.dropdown),this.wrapper&&this.wrapper.append(this.dropdown),this.dropdown&&this.hasSearch&&this.buildSearch(),this.selectOptions&&this.selectOptions.forEach((e,t)=>this.buildOption(e.title,e.val,e.disabled,e.selected,e.options,`${t}`)),this.apiUrl&&this.optionsFromRemoteData(),this.dropdownScope==="window"&&this.buildPopper()}buildPopper(){typeof Popper<"u"&&Popper.createPopper&&(document.body.appendChild(this.dropdown),this.popperInstance=Popper.createPopper(this.mode==="tags"?this.wrapper:this.toggle,this.dropdown,{placement:Is[this.dropdownPlacement]||"bottom",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}))}updateDropdownWidth(){const e=this.mode==="tags"?this.wrapper:this.toggle;this.dropdown.style.width=`${e.clientWidth}px`}buildSearch(){let e;this.searchWrapper=B(this.searchWrapperTemplate||"<div></div>"),this.searchWrapperClasses&&ce(this.searchWrapperClasses,this.searchWrapper),e=this.searchWrapper.querySelector("[data-input]");const t=B(this.searchTemplate||'<input type="text" />');this.search=t.tagName==="INPUT"?t:t.querySelector(":scope input"),this.search.placeholder=this.searchPlaceholder,this.searchClasses&&ce(this.searchClasses,this.search),this.searchId&&(this.search.id=this.searchId),this.onSearchInputListener=Cn(i=>this.searchInput(i)),this.search.addEventListener("input",this.onSearchInputListener),e?e.append(t):this.searchWrapper.append(t),this.dropdown.append(this.searchWrapper)}buildOption(e,t,i=!1,s=!1,r,o="1",a){let l=null,c=null,u=null,h=null;const f=B(this.optionTag||"<div></div>");if(f.setAttribute("data-value",t),f.setAttribute("data-title-value",e),f.setAttribute("tabIndex",o),f.classList.add("cursor-pointer"),f.setAttribute("data-id",a||`${this.optionId}`),a||this.optionId++,i&&f.classList.add("disabled"),s&&(this.isMultiple?this.value=[...this.value,t]:this.value=t),this.optionTemplate&&(l=B(this.optionTemplate),f.append(l)),l?(c=l.querySelector("[data-title]"),c.textContent=e||""):f.textContent=e||"",r){if(r.icon){const g=B(this.apiIconTag??r.icon);if(g.classList.add("max-w-full"),this.apiUrl&&(g.setAttribute("alt",e),g.setAttribute("src",r.icon)),l)u=l.querySelector("[data-icon]"),u.append(g);else{const b=B("<div></div>");this.iconClasses&&ce(this.iconClasses,b),b.append(g),f.append(b)}}if(r.description)if(l)h=l.querySelector("[data-description]"),h&&h.append(r.description);else{const g=B("<div></div>");g.textContent=r.description,this.descriptionClasses&&ce(this.descriptionClasses,g),f.append(g)}}l&&l.querySelector("[data-icon]")&&!r&&!(r!=null&&r.icon)&&l.querySelector("[data-icon]").classList.add("hidden"),this.value&&(this.isMultiple?this.value.includes(t):this.value===t)&&f.classList.add("selected"),i||f.addEventListener("click",()=>this.onSelectOption(t)),this.optionClasses&&ce(this.optionClasses,f),this.dropdown&&this.dropdown.append(f),s&&this.setNewValue()}buildOptionFromRemoteData(e,t,i=!1,s=!1,r="1",o,a){r?this.buildOption(e,t,i,s,a,r,o):alert("ID parameter is required for generating remote options! Please check your API endpoint have it.")}buildOptionsFromRemoteData(e){e.forEach((t,i)=>{let s=null,r="",o="";const a={id:"",val:"",title:"",icon:null,description:null,rest:{}};Object.keys(t).forEach(l=>{var c;t[this.apiFieldsMap.id]&&(s=t[this.apiFieldsMap.id]),(t[this.apiFieldsMap.val]||t[this.apiFieldsMap.title])&&(o=t[this.apiFieldsMap.val]||t[this.apiFieldsMap.title]),t[this.apiFieldsMap.title]&&(r=t[this.apiFieldsMap.title]),t[this.apiFieldsMap.icon]&&(a.icon=t[this.apiFieldsMap.icon]),t[(c=this.apiFieldsMap)==null?void 0:c.description]&&(a.description=t[this.apiFieldsMap.description]),a.rest[l]=t[l]}),this.buildOriginalOption(r,`${o}`,s,!1,!1,a),this.buildOptionFromRemoteData(r,`${o}`,!1,!1,`${i}`,s,a)}),this.sortElements(this.el,"option"),this.sortElements(this.dropdown,"[data-value]")}async optionsFromRemoteData(e=""){const t=await this.apiRequest(e);this.remoteOptions=t,t.length?this.buildOptionsFromRemoteData(this.remoteOptions):console.log("There is no data were responded!")}async apiRequest(e=""){try{let t=this.apiUrl;const i=this.apiSearchQueryKey?`${this.apiSearchQueryKey}=${e.toLowerCase()}`:null,s=`${this.apiQuery}`,r=this.apiOptions||{};i&&(t+=`?${i}`),this.apiQuery&&(t+=`${i?"&":"?"}${s}`);const a=await(await fetch(t,r)).json();return this.apiDataPart?a[this.apiDataPart]:a}catch(t){console.error(t)}}sortElements(e,t){const i=Array.from(e.querySelectorAll(t));i.sort((s,r)=>{const o=s.classList.contains("selected")||s.hasAttribute("selected"),a=r.classList.contains("selected")||r.hasAttribute("selected");return o&&!a?-1:!o&&a?1:0}),i.forEach(s=>e.appendChild(s))}async remoteSearch(e){if(e.length<=this.minSearchLength){const a=await this.apiRequest("");return this.remoteOptions=a,Array.from(this.dropdown.querySelectorAll("[data-value]")).forEach(l=>l.remove()),Array.from(this.el.querySelectorAll("option[value]")).forEach(l=>{l.remove()}),a.length?this.buildOptionsFromRemoteData(a):console.log("No data responded!"),!1}const t=await this.apiRequest(e);this.remoteOptions=t;let i=t.map(a=>`${a.id}`),s=null;const r=this.dropdown.querySelectorAll("[data-value]");this.el.querySelectorAll("[data-hs-select-option]").forEach(a=>{var c;const l=a.getAttribute("data-id");!i.includes(l)&&!((c=this.value)!=null&&c.includes(a.value))&&this.destroyOriginalOption(a.value)}),r.forEach(a=>{var c;const l=a.getAttribute("data-id");!i.includes(l)&&!((c=this.value)!=null&&c.includes(a.getAttribute("data-value")))?this.destroyOption(a.getAttribute("data-value")):i=i.filter(u=>u!==l)}),s=t.filter(a=>i.includes(`${a.id}`)),s.length?this.buildOptionsFromRemoteData(s):console.log("No data responded!")}destroyOption(e){const t=this.dropdown.querySelector(`[data-value="${e}"]`);if(!t)return!1;t.remove()}buildOriginalOption(e,t,i,s,r,o){const a=B("<option></option>");a.setAttribute("value",t),s&&a.setAttribute("disabled","disabled"),r&&a.setAttribute("selected","selected"),i&&a.setAttribute("data-id",i),a.setAttribute("data-hs-select-option",JSON.stringify(o)),a.innerText=e,this.el.append(a)}destroyOriginalOption(e){const t=this.el.querySelector(`[value="${e}"]`);if(!t)return!1;t.remove()}buildTagsInputHelper(){this.tagsInputHelper=document.createElement("span"),this.tagsInputHelper.style.fontSize=window.getComputedStyle(this.tagsInput).fontSize,this.tagsInputHelper.style.fontFamily=window.getComputedStyle(this.tagsInput).fontFamily,this.tagsInputHelper.style.fontWeight=window.getComputedStyle(this.tagsInput).fontWeight,this.tagsInputHelper.style.letterSpacing=window.getComputedStyle(this.tagsInput).letterSpacing,this.tagsInputHelper.style.visibility="hidden",this.tagsInputHelper.style.whiteSpace="pre",this.tagsInputHelper.style.position="absolute",this.wrapper.appendChild(this.tagsInputHelper)}calculateInputWidth(){this.tagsInputHelper.textContent=this.tagsInput.value||this.tagsInput.placeholder;const e=parseInt(window.getComputedStyle(this.tagsInput).paddingLeft)+parseInt(window.getComputedStyle(this.tagsInput).paddingRight),t=parseInt(window.getComputedStyle(this.tagsInput).borderLeftWidth)+parseInt(window.getComputedStyle(this.tagsInput).borderRightWidth),i=this.tagsInputHelper.offsetWidth+e+t,s=this.wrapper.offsetWidth-(parseInt(window.getComputedStyle(this.wrapper).paddingLeft)+parseInt(window.getComputedStyle(this.wrapper).paddingRight));this.tagsInput.style.width=`${Math.min(i,s)+2}px`}adjustInputWidth(){this.buildTagsInputHelper(),this.calculateInputWidth()}onSelectOption(e){if(this.clearSelections(),this.isMultiple?(this.value=this.value.includes(e)?Array.from(this.value).filter(t=>t!==e):[...Array.from(this.value),e],this.selectMultipleItems(),this.setNewValue()):(this.value=e,this.selectSingleItem(),this.setNewValue()),this.fireEvent("change",this.value),this.mode==="tags"){const t=this.selectedItems.filter(i=>!this.value.includes(i));t.length&&t.forEach(i=>{this.selectedItems=this.selectedItems.filter(s=>s!==i),this.wrapper.querySelector(`[data-tag-value="${i}"]`).remove()}),this.resetTagsInputField()}this.isMultiple||(this.toggle.querySelector("[data-icon]")&&this.setToggleIcon(),this.toggle.querySelector("[data-title]")&&this.setToggleTitle(),this.close(!0)),!this.value.length&&this.mode==="tags"&&this.reassignTagsInputPlaceholder(this.placeholder),this.isOpened&&this.mode==="tags"&&this.tagsInput&&this.tagsInput.focus(),this.triggerChangeEventForNativeSelect()}triggerChangeEventForNativeSelect(){const e=new Event("change",{bubbles:!0});this.el.dispatchEvent(e),N("change.hs.select",this.el,this.value)}addSelectOption(e,t,i,s,r){this.selectOptions=[...this.selectOptions,{title:e,val:t,disabled:i,selected:s,options:r}]}removeSelectOption(e,t=!1){if(!!!this.selectOptions.some(s=>s.val===e))return!1;this.selectOptions=this.selectOptions.filter(s=>s.val!==e),this.value=t?this.value.filter(s=>s!==e):e}resetTagsInputField(){this.tagsInput.value="",this.reassignTagsInputPlaceholder(""),this.searchOptions("")}clearSelections(){Array.from(this.dropdown.children).forEach(e=>{e.classList.contains("selected")&&e.classList.remove("selected")}),Array.from(this.el.children).forEach(e=>{e.selected&&(e.selected=!1)})}setNewValue(){var e;this.mode==="tags"?this.setTagsItems():(e=this.value)!=null&&e.length?this.toggleTextWrapper.innerHTML=this.stringFromValue():this.toggleTextWrapper.innerHTML=this.placeholder}stringFromValueBasic(e){var s;const t=[];let i="";if(e.forEach(r=>{this.isMultiple?this.value.includes(r.val)&&t.push(r.title):this.value===r.val&&t.push(r.title)}),this.toggleCountText!==void 0&&this.toggleCountText!==null&&t.length>=this.toggleCountTextMinItems)if(this.toggleCountTextMode==="nItemsAndCount"){const r=t.slice(0,this.toggleCountTextMinItems-1),o=[r.join(this.toggleSeparators.items)],a=`${t.length-r.length}`;if((s=this==null?void 0:this.toggleSeparators)!=null&&s.betweenItemsAndCounter&&o.push(this.toggleSeparators.betweenItemsAndCounter),this.toggleCountText)switch(this.toggleCountTextPlacement){case"postfix-no-space":o.push(`${a}${this.toggleCountText}`);break;case"prefix-no-space":o.push(`${this.toggleCountText}${a}`);break;case"prefix":o.push(`${this.toggleCountText} ${a}`);break;default:o.push(`${a} ${this.toggleCountText}`);break}i=o.join(" ")}else i=`${t.length} ${this.toggleCountText}`;else i=t.join(this.toggleSeparators.items);return i}stringFromValueRemoteData(){const e=this.dropdown.querySelectorAll("[data-title-value]"),t=[];let i="";if(e.forEach(s=>{const r=s.getAttribute("data-value"),o=s.getAttribute("data-title-value");this.isMultiple?this.value.includes(r)&&t.push(o):this.value===r&&t.push(o)}),this.toggleCountText&&this.toggleCountText!==""&&t.length>=this.toggleCountTextMinItems)if(this.toggleCountTextMode==="nItemsAndCount"){const s=t.slice(0,this.toggleCountTextMinItems-1);i=`${s.join(this.toggleSeparators.items)} ${this.toggleSeparators.betweenItemsAndCounter} ${t.length-s.length} ${this.toggleCountText}`}else i=`${t.length} ${this.toggleCountText}`;else i=t.join(this.toggleSeparators.items);return i}stringFromValue(){return this.apiUrl?this.stringFromValueRemoteData():this.stringFromValueBasic(this.selectOptions)}selectSingleItem(){const e=Array.from(this.el.children).find(i=>this.value===i.value);e.selected=!0;const t=Array.from(this.dropdown.children).find(i=>this.value===i.getAttribute("data-value"));t&&t.classList.add("selected")}selectMultipleItems(){Array.from(this.dropdown.children).filter(e=>this.value.includes(e.getAttribute("data-value"))).forEach(e=>e.classList.add("selected")),Array.from(this.el.children).filter(e=>this.value.includes(e.value)).forEach(e=>e.selected=!0)}unselectMultipleItems(){Array.from(this.dropdown.children).forEach(e=>e.classList.remove("selected")),Array.from(this.el.children).forEach(e=>e.selected=!1)}searchOptions(e){if(e.length<=this.minSearchLength)return this.searchNoResult&&(this.searchNoResult.remove(),this.searchNoResult=null),this.dropdown.querySelectorAll("[data-value]").forEach(o=>{o.classList.remove("hidden")}),!1;this.searchNoResult&&(this.searchNoResult.remove(),this.searchNoResult=null),this.searchNoResult=B(this.searchNoResultTemplate),this.searchNoResult.innerText=this.searchNoResultText,ce(this.searchNoResultClasses,this.searchNoResult);const t=this.dropdown.querySelectorAll("[data-value]");let i=!1,s;this.searchLimit&&(s=0),t.forEach(r=>{const o=r.getAttribute("data-title-value").toLocaleLowerCase(),a=this.isSearchDirectMatch;let l;if(a)l=!o.includes(e.toLowerCase())||this.searchLimit&&s>=this.searchLimit;else{const c=e?e.split("").map(h=>/\w/.test(h)?`${h}[\\W_]*`:"\\W*").join(""):"";l=!new RegExp(c,"i").test(o.trim())||this.searchLimit&&s>=this.searchLimit}l?r.classList.add("hidden"):(r.classList.remove("hidden"),i=!0,this.searchLimit&&s++)}),i||this.dropdown.append(this.searchNoResult)}eraseToggleIcon(){const e=this.toggle.querySelector("[data-icon]");e&&(e.innerHTML=null,e.classList.add("hidden"))}eraseToggleTitle(){const e=this.toggle.querySelector("[data-title]");e?e.innerHTML=this.placeholder:this.toggleTextWrapper.innerHTML=this.placeholder}toggleFn(){this.isOpened?this.close():this.open()}destroy(){this.wrapper&&this.wrapper.removeEventListener("click",this.onWrapperClickListener),this.toggle&&this.toggle.removeEventListener("click",this.onToggleClickListener),this.tagsInput&&(this.tagsInput.removeEventListener("focus",this.onTagsInputFocusListener),this.tagsInput.removeEventListener("input",this.onTagsInputInputListener),this.tagsInput.removeEventListener("input",this.onTagsInputInputSecondListener),this.tagsInput.removeEventListener("keydown",this.onTagsInputKeydownListener)),this.search&&this.search.removeEventListener("input",this.onSearchInputListener);const e=this.el.parentElement.parentElement;this.el.classList.remove("hidden"),this.el.style.display="",e.prepend(this.el),e.querySelector(".hs-select").remove(),this.wrapper=null}open(){var t;const e=((t=window==null?void 0:window.$hsSelectCollection)==null?void 0:t.find(i=>i.element.isOpened))||null;if(e&&e.element.close(),this.animationInProcess)return!1;this.animationInProcess=!0,this.dropdownScope==="window"&&this.dropdown.classList.add("invisible"),this.dropdown.classList.remove("hidden"),this.recalculateDirection(),setTimeout(()=>{var i;(i=this==null?void 0:this.toggle)!=null&&i.ariaExpanded&&(this.toggle.ariaExpanded="true"),this.wrapper.classList.add("active"),this.dropdown.classList.add("opened"),this.dropdown.classList.contains("w-full")&&this.dropdownScope==="window"&&this.updateDropdownWidth(),this.popperInstance&&this.dropdownScope==="window"&&(this.popperInstance.update(),this.dropdown.classList.remove("invisible")),this.hasSearch&&!this.preventSearchFocus&&this.search.focus(),this.animationInProcess=!1}),this.isOpened=!0}close(e=!1){var t,i,s,r;if(this.animationInProcess)return!1;this.animationInProcess=!0,(t=this==null?void 0:this.toggle)!=null&&t.ariaExpanded&&(this.toggle.ariaExpanded="false"),this.wrapper.classList.remove("active"),this.dropdown.classList.remove("opened","bottom-full","top-full"),(i=this.dropdownDirectionClasses)!=null&&i.bottom&&this.dropdown.classList.remove(this.dropdownDirectionClasses.bottom),(s=this.dropdownDirectionClasses)!=null&&s.top&&this.dropdown.classList.remove(this.dropdownDirectionClasses.top),this.dropdown.style.marginTop="",this.dropdown.style.marginBottom="",Be(this.dropdown,()=>{this.dropdown.classList.add("hidden"),this.hasSearch&&(this.search.value="",this.search.dispatchEvent(new Event("input",{bubbles:!0})),this.search.blur()),e&&this.toggle.focus(),this.animationInProcess=!1}),(r=this.dropdown.querySelector(".hs-select-option-highlighted"))==null||r.classList.remove("hs-select-option-highlighted"),this.isOpened=!1}addOption(e){let t=`${this.selectOptions.length}`;const i=s=>{const{title:r,val:o,disabled:a,selected:l,options:c}=s;!!this.selectOptions.some(h=>h.val===o)||(this.addSelectOption(r,o,a,l,c),this.buildOption(r,o,a,l,c,t),this.buildOriginalOption(r,o,null,a,l,c),l&&!this.isMultiple&&this.onSelectOption(o))};Array.isArray(e)?e.forEach(s=>{i(s)}):i(e)}removeOption(e){const t=(i,s=!1)=>{!!this.selectOptions.some(o=>o.val===i)&&(this.removeSelectOption(i,s),this.destroyOption(i),this.destroyOriginalOption(i),this.value===i&&(this.value=null,this.eraseToggleTitle(),this.eraseToggleIcon()))};Array.isArray(e)?e.forEach(i=>{t(i,this.isMultiple)}):t(e,this.isMultiple),this.setNewValue()}recalculateDirection(){var e,t,i,s;if(this!=null&&this.dropdownVerticalFixedPlacement&&(this.dropdown.classList.contains("bottom-full")||this.dropdown.classList.contains("top-full")))return!1;(this==null?void 0:this.dropdownVerticalFixedPlacement)==="top"?(this.dropdown.classList.add("bottom-full"),this.dropdown.style.marginBottom=`${this.dropdownSpace}px`):(this==null?void 0:this.dropdownVerticalFixedPlacement)==="bottom"?(this.dropdown.classList.add("top-full"),this.dropdown.style.marginTop=`${this.dropdownSpace}px`):Uo(this.dropdown,this.toggle||this.tagsInput,"bottom",this.dropdownSpace,this.viewport)?(this.dropdown.classList.remove("bottom-full"),(e=this.dropdownDirectionClasses)!=null&&e.bottom&&this.dropdown.classList.remove(this.dropdownDirectionClasses.bottom),this.dropdown.style.marginBottom="",this.dropdown.classList.add("top-full"),(t=this.dropdownDirectionClasses)!=null&&t.top&&this.dropdown.classList.add(this.dropdownDirectionClasses.top),this.dropdown.style.marginTop=`${this.dropdownSpace}px`):(this.dropdown.classList.remove("top-full"),(i=this.dropdownDirectionClasses)!=null&&i.top&&this.dropdown.classList.remove(this.dropdownDirectionClasses.top),this.dropdown.style.marginTop="",this.dropdown.classList.add("bottom-full"),(s=this.dropdownDirectionClasses)!=null&&s.bottom&&this.dropdown.classList.add(this.dropdownDirectionClasses.bottom),this.dropdown.style.marginBottom=`${this.dropdownSpace}px`)}static findInCollection(e){return window.$hsSelectCollection.find(t=>e instanceof et?t.element.el===e.el:typeof e=="string"?t.element.el===document.querySelector(e):t.element.el===e)||null}static getInstance(e,t){const i=window.$hsSelectCollection.find(s=>s.element.el===(typeof e=="string"?document.querySelector(e):e));return i?t?i:i.element:null}static autoInit(){window.$hsSelectCollection||(window.$hsSelectCollection=[],window.addEventListener("click",e=>{const t=e.target;et.closeCurrentlyOpened(t)}),document.addEventListener("keydown",e=>et.accessibility(e))),window.$hsSelectCollection&&(window.$hsSelectCollection=window.$hsSelectCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll("[data-hs-select]:not(.--prevent-on-load-init)").forEach(e=>{if(!window.$hsSelectCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})){const t=e.getAttribute("data-hs-select"),i=t?JSON.parse(t):{};new et(e,i)}})}static open(e){const t=et.findInCollection(e);t&&!t.element.isOpened&&t.element.open()}static close(e){const t=et.findInCollection(e);t&&t.element.isOpened&&t.element.close()}static closeCurrentlyOpened(e=null){if(!e.closest(".hs-select.active")&&!e.closest("[data-hs-select-dropdown].opened")){const t=window.$hsSelectCollection.filter(i=>i.element.isOpened)||null;t&&t.forEach(i=>{i.element.close()})}}static accessibility(e){if(window.$hsSelectCollection.find(i=>i.element.isOpened)&&Am.includes(e.code)&&!e.metaKey)switch(e.code){case"Escape":e.preventDefault(),this.onEscape();break;case"ArrowUp":e.preventDefault(),e.stopImmediatePropagation(),this.onArrow();break;case"ArrowDown":e.preventDefault(),e.stopImmediatePropagation(),this.onArrow(!1);break;case"Tab":e.preventDefault(),e.stopImmediatePropagation(),this.onTab(e.shiftKey);break;case"Home":e.preventDefault(),e.stopImmediatePropagation(),this.onStartEnd();break;case"End":e.preventDefault(),e.stopImmediatePropagation(),this.onStartEnd(!1);break;case"Enter":e.preventDefault(),this.onEnter(e);break;case"Space":e.preventDefault(),this.onEnter(e);break}}static onEscape(){const e=window.$hsSelectCollection.find(t=>t.element.isOpened);e&&e.element.close()}static onArrow(e=!0){const t=window.$hsSelectCollection.find(i=>i.element.isOpened);if(t){const i=t.element.dropdown;if(!i)return!1;const r=(e?Array.from(i.querySelectorAll(":scope > *:not(.hidden)")).reverse():Array.from(i.querySelectorAll(":scope > *:not(.hidden)"))).filter(l=>!l.classList.contains("disabled")),o=i.querySelector(".hs-select-option-highlighted")||i.querySelector(".selected");o||r[0].classList.add("hs-select-option-highlighted");let a=r.findIndex(l=>l===o);a+1<r.length&&a++,r[a].focus(),o&&o.classList.remove("hs-select-option-highlighted"),r[a].classList.add("hs-select-option-highlighted")}}static onTab(e=!0){const t=window.$hsSelectCollection.find(i=>i.element.isOpened);if(t){const i=t.element.dropdown;if(!i)return!1;const r=(e?Array.from(i.querySelectorAll(":scope >  *:not(.hidden)")).reverse():Array.from(i.querySelectorAll(":scope >  *:not(.hidden)"))).filter(l=>!l.classList.contains("disabled")),o=i.querySelector(".hs-select-option-highlighted")||i.querySelector(".selected");o||r[0].classList.add("hs-select-option-highlighted");let a=r.findIndex(l=>l===o);if(a+1<r.length)a++;else return o&&o.classList.remove("hs-select-option-highlighted"),t.element.close(),t.element.toggle.focus(),!1;r[a].focus(),o&&o.classList.remove("hs-select-option-highlighted"),r[a].classList.add("hs-select-option-highlighted")}}static onStartEnd(e=!0){const t=window.$hsSelectCollection.find(i=>i.element.isOpened);if(t){const i=t.element.dropdown;if(!i)return!1;const r=(e?Array.from(i.querySelectorAll(":scope >  *:not(.hidden)")):Array.from(i.querySelectorAll(":scope >  *:not(.hidden)")).reverse()).filter(a=>!a.classList.contains("disabled")),o=i.querySelector(".hs-select-option-highlighted");r.length&&(r[0].focus(),o&&o.classList.remove("hs-select-option-highlighted"),r[0].classList.add("hs-select-option-highlighted"))}}static onEnter(e){const t=e.target.previousSibling;if(window.$hsSelectCollection.find(i=>i.element.el===t)){const i=window.$hsSelectCollection.find(r=>r.element.isOpened),s=window.$hsSelectCollection.find(r=>r.element.el===t);i.element.close(),s.element.open()}else{const i=window.$hsSelectCollection.find(s=>s.element.isOpened);i&&i.element.onSelectOption(e.target.dataset.value||"")}}}window.addEventListener("load",()=>{et.autoInit()});document.addEventListener("scroll",()=>{if(!window.$hsSelectCollection)return!1;const n=window.$hsSelectCollection.find(e=>e.element.isOpened);n&&n.element.recalculateDirection()});typeof window<"u"&&(window.HSSelect=et);/*
 * HSStepper
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */class $n extends U{constructor(e,t){super(e,t);const i=e.getAttribute("data-hs-stepper"),r={...i?JSON.parse(i):{},...t};this.currentIndex=(r==null?void 0:r.currentIndex)||1,this.mode=(r==null?void 0:r.mode)||"linear",this.isCompleted=typeof(r==null?void 0:r.isCompleted)<"u"?r==null?void 0:r.isCompleted:!1,this.totalSteps=1,this.navItems=[],this.contentItems=[],this.onNavItemClickListener=[],this.init()}navItemClick(e){this.handleNavItemClick(e)}backClick(){if(this.handleBackButtonClick(),this.mode==="linear"){const e=this.navItems.find(({index:i})=>i===this.currentIndex),t=this.contentItems.find(({index:i})=>i===this.currentIndex);if(!e||!t)return;e.isCompleted&&(e.isCompleted=!1,e.isSkip=!1,e.el.classList.remove("success","skipped")),t.isCompleted&&(t.isCompleted=!1,t.isSkip=!1,t.el.classList.remove("success","skipped")),this.mode==="linear"&&this.currentIndex!==this.totalSteps&&(this.nextBtn&&(this.nextBtn.style.display=""),this.completeStepBtn&&(this.completeStepBtn.style.display="")),this.showSkipButton(),this.showFinishButton(),this.showCompleteStepButton()}}nextClick(){var e;if(this.fireEvent("beforeNext",this.currentIndex),N("beforeNext.hs.stepper",this.el,this.currentIndex),(e=this.getNavItem(this.currentIndex))!=null&&e.isProcessed)return this.disableAll(),!1;this.goToNext()}skipClick(){this.handleSkipButtonClick(),this.mode==="linear"&&this.currentIndex===this.totalSteps&&(this.nextBtn&&(this.nextBtn.style.display="none"),this.completeStepBtn&&(this.completeStepBtn.style.display="none"),this.finishBtn&&(this.finishBtn.style.display=""))}completeStepBtnClick(){this.handleCompleteStepButtonClick()}finishBtnClick(){this.handleFinishButtonClick()}resetBtnClick(){this.handleResetButtonClick()}init(){this.createCollection(window.$hsStepperCollection,this),this.buildNav(),this.buildContent(),this.buildButtons(),this.setTotalSteps()}getUncompletedSteps(e=!1){return this.navItems.filter(({isCompleted:t,isSkip:i})=>e?!t||i:!t&&!i)}setTotalSteps(){this.navItems.forEach(e=>{const{index:t}=e;t>this.totalSteps&&(this.totalSteps=t)})}buildNav(){this.el.querySelectorAll("[data-hs-stepper-nav-item]").forEach(e=>this.addNavItem(e)),this.navItems.forEach(e=>this.buildNavItem(e))}buildNavItem(e){const{index:t,isDisabled:i,el:s}=e;t===this.currentIndex&&this.setCurrentNavItem(),(this.mode!=="linear"||i)&&(this.onNavItemClickListener.push({el:s,fn:()=>this.navItemClick(e)}),s.addEventListener("click",this.onNavItemClickListener.find(r=>r.el===s).fn))}addNavItem(e){const{index:t,isFinal:i=!1,isCompleted:s=!1,isSkip:r=!1,isOptional:o=!1,isDisabled:a=!1,isProcessed:l=!1,hasError:c=!1}=JSON.parse(e.getAttribute("data-hs-stepper-nav-item"));s&&e.classList.add("success"),r&&e.classList.add("skipped"),a&&((e.tagName==="BUTTON"||e.tagName==="INPUT")&&e.setAttribute("disabled","disabled"),e.classList.add("disabled")),c&&e.classList.add("error"),this.navItems.push({index:t,isFinal:i,isCompleted:s,isSkip:r,isOptional:o,isDisabled:a,isProcessed:l,hasError:c,el:e})}setCurrentNavItem(){this.navItems.forEach(e=>{const{index:t,el:i}=e;t===this.currentIndex?this.setCurrentNavItemActions(i):this.unsetCurrentNavItemActions(i)})}setCurrentNavItemActions(e){e.classList.add("active"),this.fireEvent("active",this.currentIndex),N("active.hs.stepper",this.el,this.currentIndex)}getNavItem(e=this.currentIndex){return this.navItems.find(({index:t})=>t===e)}setProcessedNavItemActions(e){e.isProcessed=!0,e.el.classList.add("processed")}setErrorNavItemActions(e){e.hasError=!0,e.el.classList.add("error")}unsetCurrentNavItemActions(e){e.classList.remove("active")}handleNavItemClick(e){const{index:t}=e;this.currentIndex=t,this.setCurrentNavItem(),this.setCurrentContentItem(),this.checkForTheFirstStep()}buildContent(){this.el.querySelectorAll("[data-hs-stepper-content-item]").forEach(e=>this.addContentItem(e)),this.navItems.forEach(e=>this.buildContentItem(e))}buildContentItem(e){const{index:t}=e;t===this.currentIndex&&this.setCurrentContentItem()}addContentItem(e){const{index:t,isFinal:i=!1,isCompleted:s=!1,isSkip:r=!1}=JSON.parse(e.getAttribute("data-hs-stepper-content-item"));s&&e.classList.add("success"),r&&e.classList.add("skipped"),this.contentItems.push({index:t,isFinal:i,isCompleted:s,isSkip:r,el:e})}setCurrentContentItem(){if(this.isCompleted){const e=this.contentItems.find(({isFinal:i})=>i),t=this.contentItems.filter(({isFinal:i})=>!i);return e.el.style.display="",t.forEach(({el:i})=>i.style.display="none"),!1}this.contentItems.forEach(e=>{const{index:t,el:i}=e;t===this.currentIndex?this.setCurrentContentItemActions(i):this.unsetCurrentContentItemActions(i)})}hideAllContentItems(){this.contentItems.forEach(({el:e})=>e.style.display="none")}setCurrentContentItemActions(e){e.style.display=""}unsetCurrentContentItemActions(e){e.style.display="none"}disableAll(){const e=this.getNavItem(this.currentIndex);e.hasError=!1,e.isCompleted=!1,e.isDisabled=!1,e.el.classList.remove("error","success"),this.disableButtons()}disableNavItemActions(e){e.isDisabled=!0,e.el.classList.add("disabled")}enableNavItemActions(e){e.isDisabled=!1,e.el.classList.remove("disabled")}buildButtons(){this.backBtn=this.el.querySelector("[data-hs-stepper-back-btn]"),this.nextBtn=this.el.querySelector("[data-hs-stepper-next-btn]"),this.skipBtn=this.el.querySelector("[data-hs-stepper-skip-btn]"),this.completeStepBtn=this.el.querySelector("[data-hs-stepper-complete-step-btn]"),this.finishBtn=this.el.querySelector("[data-hs-stepper-finish-btn]"),this.resetBtn=this.el.querySelector("[data-hs-stepper-reset-btn]"),this.buildBackButton(),this.buildNextButton(),this.buildSkipButton(),this.buildCompleteStepButton(),this.buildFinishButton(),this.buildResetButton()}buildBackButton(){this.backBtn&&(this.checkForTheFirstStep(),this.onBackClickListener=()=>this.backClick(),this.backBtn.addEventListener("click",this.onBackClickListener))}handleBackButtonClick(){this.currentIndex!==1&&(this.mode==="linear"&&this.removeOptionalClasses(),this.currentIndex--,this.mode==="linear"&&this.removeOptionalClasses(),this.setCurrentNavItem(),this.setCurrentContentItem(),this.checkForTheFirstStep(),this.completeStepBtn&&this.changeTextAndDisableCompleteButtonIfStepCompleted(),this.fireEvent("back",this.currentIndex),N("back.hs.stepper",this.el,this.currentIndex))}checkForTheFirstStep(){this.currentIndex===1?this.setToDisabled(this.backBtn):this.setToNonDisabled(this.backBtn)}setToDisabled(e){(e.tagName==="BUTTON"||e.tagName==="INPUT")&&e.setAttribute("disabled","disabled"),e.classList.add("disabled")}setToNonDisabled(e){(e.tagName==="BUTTON"||e.tagName==="INPUT")&&e.removeAttribute("disabled"),e.classList.remove("disabled")}buildNextButton(){this.nextBtn&&(this.onNextClickListener=()=>this.nextClick(),this.nextBtn.addEventListener("click",this.onNextClickListener))}unsetProcessedNavItemActions(e){e.isProcessed=!1,e.el.classList.remove("processed")}handleNextButtonClick(e=!0){if(e)this.currentIndex===this.totalSteps?this.currentIndex=1:this.currentIndex++;else{const t=this.getUncompletedSteps();if(t.length===1){const{index:i}=t[0];this.currentIndex=i}else{if(this.currentIndex===this.totalSteps)return;this.currentIndex++}}this.mode==="linear"&&this.removeOptionalClasses(),this.setCurrentNavItem(),this.setCurrentContentItem(),this.checkForTheFirstStep(),this.completeStepBtn&&this.changeTextAndDisableCompleteButtonIfStepCompleted(),this.showSkipButton(),this.showFinishButton(),this.showCompleteStepButton(),this.fireEvent("next",this.currentIndex),N("next.hs.stepper",this.el,this.currentIndex)}removeOptionalClasses(){const e=this.navItems.find(({index:i})=>i===this.currentIndex),t=this.contentItems.find(({index:i})=>i===this.currentIndex);e.isSkip=!1,e.hasError=!1,e.isDisabled=!1,t.isSkip=!1,e.el.classList.remove("skipped","success","error"),t.el.classList.remove("skipped","success","error")}buildSkipButton(){this.skipBtn&&(this.showSkipButton(),this.onSkipClickListener=()=>this.skipClick(),this.skipBtn.addEventListener("click",this.onSkipClickListener))}setSkipItem(e){const t=this.navItems.find(({index:s})=>s===(e||this.currentIndex)),i=this.contentItems.find(({index:s})=>s===(e||this.currentIndex));!t||!i||(this.setSkipItemActions(t),this.setSkipItemActions(i))}setSkipItemActions(e){e.isSkip=!0,e.el.classList.add("skipped")}showSkipButton(){if(!this.skipBtn)return;const{isOptional:e}=this.navItems.find(({index:t})=>t===this.currentIndex);e?this.skipBtn.style.display="":this.skipBtn.style.display="none"}handleSkipButtonClick(){this.setSkipItem(),this.handleNextButtonClick(),this.fireEvent("skip",this.currentIndex),N("skip.hs.stepper",this.el,this.currentIndex)}buildCompleteStepButton(){this.completeStepBtn&&(this.completeStepBtnDefaultText=this.completeStepBtn.innerText,this.onCompleteStepBtnClickListener=()=>this.completeStepBtnClick(),this.completeStepBtn.addEventListener("click",this.onCompleteStepBtnClickListener))}changeTextAndDisableCompleteButtonIfStepCompleted(){const e=this.navItems.find(({index:i})=>i===this.currentIndex),{completedText:t}=JSON.parse(this.completeStepBtn.getAttribute("data-hs-stepper-complete-step-btn"));e&&(e.isCompleted?(this.completeStepBtn.innerText=t||this.completeStepBtnDefaultText,this.completeStepBtn.setAttribute("disabled","disabled"),this.completeStepBtn.classList.add("disabled")):(this.completeStepBtn.innerText=this.completeStepBtnDefaultText,this.completeStepBtn.removeAttribute("disabled"),this.completeStepBtn.classList.remove("disabled")))}setCompleteItem(e){const t=this.navItems.find(({index:s})=>s===(e||this.currentIndex)),i=this.contentItems.find(({index:s})=>s===(e||this.currentIndex));!t||!i||(this.setCompleteItemActions(t),this.setCompleteItemActions(i))}setCompleteItemActions(e){e.isCompleted=!0,e.el.classList.add("success")}showCompleteStepButton(){if(!this.completeStepBtn)return;this.getUncompletedSteps().length===1?this.completeStepBtn.style.display="none":this.completeStepBtn.style.display=""}handleCompleteStepButtonClick(){this.setCompleteItem(),this.fireEvent("complete",this.currentIndex),N("complete.hs.stepper",this.el,this.currentIndex),this.handleNextButtonClick(!1),this.showFinishButton(),this.showCompleteStepButton(),this.checkForTheFirstStep(),this.completeStepBtn&&this.changeTextAndDisableCompleteButtonIfStepCompleted(),this.showSkipButton()}buildFinishButton(){this.finishBtn&&(this.isCompleted&&this.setCompleted(),this.onFinishBtnClickListener=()=>this.finishBtnClick(),this.finishBtn.addEventListener("click",this.onFinishBtnClickListener))}setCompleted(){this.el.classList.add("completed")}unsetCompleted(){this.el.classList.remove("completed")}showFinishButton(){if(!this.finishBtn)return;this.getUncompletedSteps().length===1?this.finishBtn.style.display="":this.finishBtn.style.display="none"}handleFinishButtonClick(){const e=this.getUncompletedSteps(),t=this.getUncompletedSteps(!0),{el:i}=this.contentItems.find(({isFinal:o})=>o);e.length&&e.forEach(({index:o})=>this.setCompleteItem(o)),this.currentIndex=this.totalSteps,this.setCurrentNavItem(),this.hideAllContentItems();const s=this.navItems.find(({index:o})=>o===this.currentIndex);(s?s.el:null).classList.remove("active"),i.style.display="block",this.backBtn&&(this.backBtn.style.display="none"),this.nextBtn&&(this.nextBtn.style.display="none"),this.skipBtn&&(this.skipBtn.style.display="none"),this.completeStepBtn&&(this.completeStepBtn.style.display="none"),this.finishBtn&&(this.finishBtn.style.display="none"),this.resetBtn&&(this.resetBtn.style.display=""),t.length<=1&&(this.isCompleted=!0,this.setCompleted()),this.fireEvent("finish",this.currentIndex),N("finish.hs.stepper",this.el,this.currentIndex)}buildResetButton(){this.resetBtn&&(this.onResetBtnClickListener=()=>this.resetBtnClick(),this.resetBtn.addEventListener("click",this.onResetBtnClickListener))}handleResetButtonClick(){this.backBtn&&(this.backBtn.style.display=""),this.nextBtn&&(this.nextBtn.style.display=""),this.completeStepBtn&&(this.completeStepBtn.style.display="",this.completeStepBtn.innerText=this.completeStepBtnDefaultText,this.completeStepBtn.removeAttribute("disabled"),this.completeStepBtn.classList.remove("disabled")),this.resetBtn&&(this.resetBtn.style.display="none"),this.navItems.forEach(e=>{const{el:t}=e;e.isSkip=!1,e.isCompleted=!1,this.unsetCurrentNavItemActions(t),t.classList.remove("success","skipped")}),this.contentItems.forEach(e=>{const{el:t}=e;e.isSkip=!1,e.isCompleted=!1,this.unsetCurrentContentItemActions(t),t.classList.remove("success","skipped")}),this.currentIndex=1,this.unsetCompleted(),this.isCompleted=!1,this.showSkipButton(),this.setCurrentNavItem(),this.setCurrentContentItem(),this.showFinishButton(),this.showCompleteStepButton(),this.checkForTheFirstStep(),this.fireEvent("reset",this.currentIndex),N("reset.hs.stepper",this.el,this.currentIndex)}setProcessedNavItem(e){const t=this.getNavItem(e);t&&this.setProcessedNavItemActions(t)}unsetProcessedNavItem(e){const t=this.getNavItem(e);t&&this.unsetProcessedNavItemActions(t)}goToNext(){this.mode==="linear"&&this.setCompleteItem(),this.handleNextButtonClick(this.mode!=="linear"),this.mode==="linear"&&this.currentIndex===this.totalSteps&&(this.nextBtn&&(this.nextBtn.style.display="none"),this.completeStepBtn&&(this.completeStepBtn.style.display="none"))}disableButtons(){this.backBtn&&this.setToDisabled(this.backBtn),this.nextBtn&&this.setToDisabled(this.nextBtn)}enableButtons(){this.backBtn&&this.setToNonDisabled(this.backBtn),this.nextBtn&&this.setToNonDisabled(this.nextBtn)}setErrorNavItem(e){const t=this.getNavItem(e);t&&this.setErrorNavItemActions(t)}destroy(){this.el.classList.remove("completed"),this.el.querySelectorAll("[data-hs-stepper-nav-item]").forEach(e=>{e.classList.remove("active","success","skipped","disabled","error"),(e.tagName==="BUTTON"||e.tagName==="INPUT")&&e.removeAttribute("disabled")}),this.el.querySelectorAll("[data-hs-stepper-content-item]").forEach(e=>{e.classList.remove("success","skipped")}),this.backBtn&&this.backBtn.classList.remove("disabled"),this.nextBtn&&this.nextBtn.classList.remove("disabled"),this.completeStepBtn&&this.completeStepBtn.classList.remove("disabled"),this.backBtn&&(this.backBtn.style.display=""),this.nextBtn&&(this.nextBtn.style.display=""),this.skipBtn&&(this.skipBtn.style.display=""),this.finishBtn&&(this.finishBtn.style.display="none"),this.resetBtn&&(this.resetBtn.style.display="none"),this.onNavItemClickListener.length&&this.onNavItemClickListener.forEach(({el:e,fn:t})=>{e.removeEventListener("click",t)}),this.backBtn&&this.backBtn.removeEventListener("click",this.onBackClickListener),this.nextBtn&&this.nextBtn.removeEventListener("click",this.onNextClickListener),this.skipBtn&&this.skipBtn.removeEventListener("click",this.onSkipClickListener),this.completeStepBtn&&this.completeStepBtn.removeEventListener("click",this.onCompleteStepBtnClickListener),this.finishBtn&&this.finishBtn.removeEventListener("click",this.onFinishBtnClickListener),this.resetBtn&&this.resetBtn.removeEventListener("click",this.onResetBtnClickListener),window.$hsStepperCollection=window.$hsStepperCollection.filter(({element:e})=>e.el!==this.el)}static getInstance(e,t){const i=window.$hsStepperCollection.find(s=>s.element.el===(typeof e=="string"?document.querySelector(e):e));return i?t?i:i.element:null}static autoInit(){window.$hsStepperCollection||(window.$hsStepperCollection=[]),window.$hsStepperCollection&&(window.$hsStepperCollection=window.$hsStepperCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll("[data-hs-stepper]:not(.--prevent-on-load-init)").forEach(e=>{window.$hsStepperCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})||new $n(e)})}}window.addEventListener("load",()=>{$n.autoInit()});typeof window<"u"&&(window.HSStepper=$n);/*
 * HSStrongPassword
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */class qn extends U{constructor(e,t){super(e,t),this.isOpened=!1,this.strength=0,this.passedRules=new Set;const i=e.getAttribute("data-hs-strong-password"),r={...i?JSON.parse(i):{},...t};this.target=r!=null&&r.target?typeof(r==null?void 0:r.target)=="string"?document.querySelector(r.target):r.target:null,this.hints=r!=null&&r.hints?typeof(r==null?void 0:r.hints)=="string"?document.querySelector(r.hints):r.hints:null,this.stripClasses=(r==null?void 0:r.stripClasses)||null,this.minLength=(r==null?void 0:r.minLength)||6,this.mode=(r==null?void 0:r.mode)||"default",this.popoverSpace=(r==null?void 0:r.popoverSpace)||10,this.checksExclude=(r==null?void 0:r.checksExclude)||[],this.availableChecks=["lowercase","uppercase","numbers","special-characters","min-length"].filter(o=>!this.checksExclude.includes(o)),this.specialCharactersSet=(r==null?void 0:r.specialCharactersSet)||"!\"#$%&'()*+,-./:;<=>?@[\\\\\\]^_`{|}~",this.target&&this.init()}targetInput(e){this.setStrength(e.target.value)}targetFocus(){this.isOpened=!0,this.hints.classList.remove("hidden"),this.hints.classList.add("block"),this.recalculateDirection()}targetBlur(){this.isOpened=!1,this.hints.classList.remove("block","bottom-full","top-full"),this.hints.classList.add("hidden"),this.hints.style.marginTop="",this.hints.style.marginBottom=""}targetInputSecond(){this.setWeaknessText()}targetInputThird(){this.setRulesText()}init(){this.createCollection(window.$hsStrongPasswordCollection,this),this.availableChecks.length&&this.build()}build(){this.buildStrips(),this.hints&&this.buildHints(),this.setStrength(this.target.value),this.onTargetInputListener=e=>this.targetInput(e),this.target.addEventListener("input",this.onTargetInputListener)}buildStrips(){if(this.el.innerHTML="",this.stripClasses)for(let e=0;e<this.availableChecks.length;e++){const t=B("<div></div>");ce(this.stripClasses,t),this.el.append(t)}}buildHints(){this.weakness=this.hints.querySelector("[data-hs-strong-password-hints-weakness-text]")||null,this.rules=Array.from(this.hints.querySelectorAll("[data-hs-strong-password-hints-rule-text]"))||null,this.rules.forEach(e=>{var i;const t=e.getAttribute("data-hs-strong-password-hints-rule-text");(i=this.checksExclude)!=null&&i.includes(t)&&e.remove()}),this.weakness&&this.buildWeakness(),this.rules&&this.buildRules(),this.mode==="popover"&&(this.onTargetFocusListener=()=>this.targetFocus(),this.onTargetBlurListener=()=>this.targetBlur(),this.target.addEventListener("focus",this.onTargetFocusListener),this.target.addEventListener("blur",this.onTargetBlurListener))}buildWeakness(){this.checkStrength(this.target.value),this.setWeaknessText(),this.onTargetInputSecondListener=()=>setTimeout(()=>this.targetInputSecond()),this.target.addEventListener("input",this.onTargetInputSecondListener)}buildRules(){this.setRulesText(),this.onTargetInputThirdListener=()=>setTimeout(()=>this.targetInputThird()),this.target.addEventListener("input",this.onTargetInputThirdListener)}setWeaknessText(){const e=this.weakness.getAttribute("data-hs-strong-password-hints-weakness-text"),t=JSON.parse(e);this.weakness.textContent=t[this.strength]}setRulesText(){this.rules.forEach(e=>{const t=e.getAttribute("data-hs-strong-password-hints-rule-text");this.checkIfPassed(e,this.passedRules.has(t))})}togglePopover(){const e=this.el.querySelector(".popover");e&&e.classList.toggle("show")}checkStrength(e){const t=new Set,i={lowercase:/[a-z]+/,uppercase:/[A-Z]+/,numbers:/[0-9]+/,"special-characters":new RegExp(`[${this.specialCharactersSet}]`)};let s=0;return this.availableChecks.includes("lowercase")&&e.match(i.lowercase)&&(s+=1,t.add("lowercase")),this.availableChecks.includes("uppercase")&&e.match(i.uppercase)&&(s+=1,t.add("uppercase")),this.availableChecks.includes("numbers")&&e.match(i.numbers)&&(s+=1,t.add("numbers")),this.availableChecks.includes("special-characters")&&e.match(i["special-characters"])&&(s+=1,t.add("special-characters")),this.availableChecks.includes("min-length")&&e.length>=this.minLength&&(s+=1,t.add("min-length")),e.length||(s=0),s===this.availableChecks.length?this.el.classList.add("accepted"):this.el.classList.remove("accepted"),this.strength=s,this.passedRules=t,{strength:this.strength,rules:this.passedRules}}checkIfPassed(e,t=!1){const i=e.querySelector("[data-check]"),s=e.querySelector("[data-uncheck]");t?(e.classList.add("active"),i.classList.remove("hidden"),s.classList.add("hidden")):(e.classList.remove("active"),i.classList.add("hidden"),s.classList.remove("hidden"))}setStrength(e){const{strength:t,rules:i}=this.checkStrength(e),s={strength:t,rules:i};this.hideStrips(t),this.fireEvent("change",s),N("change.hs.strongPassword",this.el,s)}hideStrips(e){Array.from(this.el.children).forEach((t,i)=>{i<e?t.classList.add("passed"):t.classList.remove("passed")})}recalculateDirection(){Uo(this.hints,this.target,"bottom",this.popoverSpace)?(this.hints.classList.remove("bottom-full"),this.hints.classList.add("top-full"),this.hints.style.marginBottom="",this.hints.style.marginTop=`${this.popoverSpace}px`):(this.hints.classList.remove("top-full"),this.hints.classList.add("bottom-full"),this.hints.style.marginTop="",this.hints.style.marginBottom=`${this.popoverSpace}px`)}destroy(){this.target.removeEventListener("input",this.onTargetInputListener),this.target.removeEventListener("focus",this.onTargetFocusListener),this.target.removeEventListener("blur",this.onTargetBlurListener),this.target.removeEventListener("input",this.onTargetInputSecondListener),this.target.removeEventListener("input",this.onTargetInputThirdListener),window.$hsStrongPasswordCollection=window.$hsStrongPasswordCollection.filter(({element:e})=>e.el!==this.el)}static getInstance(e,t){const i=window.$hsStrongPasswordCollection.find(s=>s.element.el===(typeof e=="string"?document.querySelector(e):e));return i?t?i:i.element.el:null}static autoInit(){window.$hsStrongPasswordCollection||(window.$hsStrongPasswordCollection=[]),window.$hsStrongPasswordCollection&&(window.$hsStrongPasswordCollection=window.$hsStrongPasswordCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll("[data-hs-strong-password]:not(.--prevent-on-load-init)").forEach(e=>{if(!window.$hsStrongPasswordCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})){const t=e.getAttribute("data-hs-strong-password"),i=t?JSON.parse(t):{};new qn(e,i)}})}}window.addEventListener("load",()=>{qn.autoInit()});document.addEventListener("scroll",()=>{if(!window.$hsStrongPasswordCollection)return!1;const n=window.$hsStrongPasswordCollection.find(e=>e.element.isOpened);n&&n.element.recalculateDirection()});typeof window<"u"&&(window.HSStrongPassword=qn);/*
 * HSTabs
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */class Li extends U{constructor(e,t,i){super(e,t,i),this.toggles=this.el.querySelectorAll("[data-hs-tab]"),this.extraToggleId=this.el.getAttribute("data-hs-tab-select"),this.extraToggle=document.querySelector(this.extraToggleId),this.current=Array.from(this.toggles).find(s=>s.classList.contains("active")),this.currentContentId=this.current.getAttribute("data-hs-tab"),this.currentContent=document.querySelector(this.currentContentId),this.prev=null,this.prevContentId=null,this.prevContent=null,this.eventType="click",this.onToggleClickListener=[],this.init()}toggleClick(e){this.open(e)}extraToggleChange(e){this.change(e)}init(){this.createCollection(window.$hsTabsCollection,this),this.toggles.forEach(e=>{this.onToggleClickListener.push({el:e,fn:()=>this.toggleClick(e)}),e.addEventListener(this.eventType,this.onToggleClickListener.find(t=>t.el===e).fn)}),this.extraToggle&&(this.onExtraToggleChangeListener=e=>this.extraToggleChange(e),this.extraToggle.addEventListener("change",this.onExtraToggleChangeListener))}open(e){var t,i;this.prev=this.current,this.prevContentId=this.currentContentId,this.prevContent=this.currentContent,this.current=e,this.currentContentId=this.current.getAttribute("data-hs-tab"),this.currentContent=document.querySelector(this.currentContentId),(t=this==null?void 0:this.prev)!=null&&t.ariaSelected&&(this.prev.ariaSelected="false"),this.prev.classList.remove("active"),this.prevContent.classList.add("hidden"),(i=this==null?void 0:this.current)!=null&&i.ariaSelected&&(this.current.ariaSelected="true"),this.current.classList.add("active"),this.currentContent.classList.remove("hidden"),this.fireEvent("change",{el:e,prev:this.prevContentId,current:this.currentContentId}),N("change.hs.tab",e,{el:e,prev:this.prevContentId,current:this.currentContentId})}change(e){const t=document.querySelector(`[data-hs-tab="${e.target.value}"]`);t&&t.click()}destroy(){this.toggles.forEach(e=>{e.removeEventListener(this.eventType,this.onToggleClickListener.find(t=>t.el===e).fn)}),this.onToggleClickListener=[],this.extraToggle&&this.extraToggle.removeEventListener("change",this.onExtraToggleChangeListener),window.$hsTabsCollection=window.$hsTabsCollection.filter(({element:e})=>e.el!==this.el)}static getInstance(e,t){const i=window.$hsTabsCollection.find(s=>s.element.el===(typeof e=="string"?document.querySelector(e):e));return i?t?i:i.element:null}static autoInit(){window.$hsTabsCollection||(window.$hsTabsCollection=[],document.addEventListener("keydown",e=>Li.accessibility(e))),window.$hsTabsCollection&&(window.$hsTabsCollection=window.$hsTabsCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll('[role="tablist"]:not(select):not(.--prevent-on-load-init)').forEach(e=>{window.$hsTabsCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})||new Li(e)})}static open(e){const t=window.$hsTabsCollection.find(s=>Array.from(s.element.toggles).includes(typeof e=="string"?document.querySelector(e):e)),i=Array.from(t.element.toggles).find(s=>s===(typeof e=="string"?document.querySelector(e):e));i&&!i.classList.contains("active")&&t.element.open(i)}static accessibility(e){const t=document.querySelector("[data-hs-tab]:focus");if(t&&Sm.includes(e.code)&&!e.metaKey){const i=t.closest('[role="tablist"]').getAttribute("data-hs-tabs-vertical");switch(e.preventDefault(),e.code){case(i==="true"?"ArrowUp":"ArrowLeft"):this.onArrow();break;case(i==="true"?"ArrowDown":"ArrowRight"):this.onArrow(!1);break;case"Home":this.onStartEnd();break;case"End":this.onStartEnd(!1);break}}}static onArrow(e=!0){const t=document.querySelector("[data-hs-tab]:focus").closest('[role="tablist"]'),i=window.$hsTabsCollection.find(s=>s.element.el===t);if(i){const s=e?Array.from(i.element.toggles).reverse():Array.from(i.element.toggles),r=s.find(a=>document.activeElement===a);let o=s.findIndex(a=>a===r);o=o+1<s.length?o+1:0,s[o].focus(),s[o].click()}}static onStartEnd(e=!0){const t=document.querySelector("[data-hs-tab]:focus").closest('[role="tablist"]'),i=window.$hsTabsCollection.find(s=>s.element.el===t);if(i){const s=e?Array.from(i.element.toggles):Array.from(i.element.toggles).reverse();s.length&&(s[0].focus(),s[0].click())}}static on(e,t,i){const s=window.$hsTabsCollection.find(r=>Array.from(r.element.toggles).includes(typeof t=="string"?document.querySelector(t):t));s&&(s.element.events[e]=i)}}window.addEventListener("load",()=>{Li.autoInit()});typeof window<"u"&&(window.HSTabs=Li);/*
 * HSTextareaAutoHeight
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */class Hn extends U{constructor(e,t){super(e,t);const i=e.getAttribute("data-hs-copy-markup"),r={...i?JSON.parse(i):{},...t};this.defaultHeight=(r==null?void 0:r.defaultHeight)||0,this.init()}elementInput(){this.textareaSetHeight(3)}init(){this.createCollection(window.$hsTextareaAutoHeightCollection,this),this.setAutoHeight()}setAutoHeight(){this.isParentHidden()?this.callbackAccordingToType():this.textareaSetHeight(3),this.onElementInputListener=()=>this.elementInput(),this.el.addEventListener("input",this.onElementInputListener)}textareaSetHeight(e=0){this.el.style.height="auto",this.el.style.height=this.checkIfOneLine()&&this.defaultHeight?`${this.defaultHeight}px`:`${this.el.scrollHeight+e}px`}checkIfOneLine(){const e=this.el.clientHeight;return!(this.el.scrollHeight>e)}isParentHidden(){return this.el.closest(".hs-overlay.hidden")||this.el.closest('[role="tabpanel"].hidden')||this.el.closest(".hs-collapse.hidden")}parentType(){return this.el.closest(".hs-collapse")?"collapse":this.el.closest(".hs-overlay")?"overlay":this.el.closest('[role="tabpanel"]')?"tabs":!1}callbackAccordingToType(){var e;if(this.parentType()==="tabs"){const t=(e=this.el.closest('[role="tabpanel"]'))==null?void 0:e.id,s=document.querySelector(`[data-hs-tab="#${t}"]`).closest('[role="tablist"]'),{element:r}=window.HSTabs.getInstance(s,!0)||null;r.on("change",o=>{const a=document.querySelectorAll(`${o.current} [data-hs-textarea-auto-height]`);if(!a.length)return!1;a.forEach(l=>{const c=window.HSTextareaAutoHeight.getInstance(l,!0)||null;c&&c.element.textareaSetHeight(3)})})}else if(this.parentType()==="collapse"){const t=this.el.closest(".hs-collapse").id,{element:i}=window.HSCollapse.getInstance(`[data-hs-collapse="#${t}"]`,!0);i.on("beforeOpen",()=>{if(!this.el)return!1;this.textareaSetHeight(3)})}else if(this.parentType()==="overlay"){const{element:t}=window.HSOverlay.getInstance(this.el.closest(".hs-overlay"),!0);t.on("open",()=>{if(!this.el)return!1;this.textareaSetHeight(3)})}else return!1}destroy(){this.el.removeEventListener("input",this.onElementInputListener),window.$hsTextareaAutoHeightCollection=window.$hsTextareaAutoHeightCollection.filter(({element:e})=>e.el!==this.el)}static getInstance(e,t){const i=window.$hsTextareaAutoHeightCollection.find(s=>s.element.el===(typeof e=="string"?document.querySelector(e):e));return i?t?i:i.element:null}static autoInit(){window.$hsTextareaAutoHeightCollection||(window.$hsTextareaAutoHeightCollection=[]),window.$hsTextareaAutoHeightCollection&&(window.$hsTextareaAutoHeightCollection=window.$hsTextareaAutoHeightCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll("[data-hs-textarea-auto-height]:not(.--prevent-on-load-init)").forEach(e=>{if(!window.$hsTextareaAutoHeightCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})){const t=e.getAttribute("data-hs-textarea-auto-height"),i=t?JSON.parse(t):{};new Hn(e,i)}})}}window.addEventListener("load",()=>{Hn.autoInit()});typeof window<"u"&&(window.HSTextareaAutoHeight=Hn);/*
 * HSThemeSwitch
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */class Ti extends U{constructor(e,t){super(e,t);const i=e.getAttribute("data-hs-theme-switch"),r={...i?JSON.parse(i):{},...t};this.theme=(r==null?void 0:r.theme)||localStorage.getItem("hs_theme")||"default",this.type=(r==null?void 0:r.type)||"change",this.themeSet=["light","dark","default"],this.init()}elementChange(e){const t=e.target.checked?"dark":"default";this.setAppearance(t),this.toggleObserveSystemTheme()}elementClick(e){this.setAppearance(e),this.toggleObserveSystemTheme()}init(){this.createCollection(window.$hsThemeSwitchCollection,this),this.theme!=="default"&&this.setAppearance(),this.type==="click"?this.buildSwitchTypeOfClick():this.buildSwitchTypeOfChange()}buildSwitchTypeOfChange(){this.el.checked=this.theme==="dark",this.toggleObserveSystemTheme(),this.onElementChangeListener=e=>this.elementChange(e),this.el.addEventListener("change",this.onElementChangeListener)}buildSwitchTypeOfClick(){const e=this.el.getAttribute("data-hs-theme-click-value");this.toggleObserveSystemTheme(),this.onElementClickListener=()=>this.elementClick(e),this.el.addEventListener("click",this.onElementClickListener)}setResetStyles(){const e=document.createElement("style");return e.innerText="*{transition: unset !important;}",e.setAttribute("data-hs-appearance-onload-styles",""),document.head.appendChild(e),e}addSystemThemeObserver(){window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:e})=>{e?this.setAppearance("dark",!1):this.setAppearance("default",!1)})}removeSystemThemeObserver(){window.matchMedia("(prefers-color-scheme: dark)").removeEventListener}toggleObserveSystemTheme(){localStorage.getItem("hs_theme")==="auto"?this.addSystemThemeObserver():this.removeSystemThemeObserver()}setAppearance(e=this.theme,t=!0,i=!0){const s=document.querySelector("html"),r=this.setResetStyles();t&&localStorage.setItem("hs_theme",e),e==="auto"&&(e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"default"),s.classList.remove("light","dark","default","auto"),s.classList.add(e),setTimeout(()=>r.remove()),i&&window.dispatchEvent(new CustomEvent("on-hs-appearance-change",{detail:e}))}destroy(){this.type==="change"&&this.el.removeEventListener("change",this.onElementChangeListener),this.type==="click"&&this.el.removeEventListener("click",this.onElementClickListener),window.$hsThemeSwitchCollection=window.$hsThemeSwitchCollection.filter(({element:e})=>e.el!==this.el)}static getInstance(e,t){const i=window.$hsThemeSwitchCollection.find(s=>s.element.el===(typeof e=="string"?document.querySelector(e):e));return i?t?i:i.element.el:null}static autoInit(){window.$hsThemeSwitchCollection||(window.$hsThemeSwitchCollection=[]),window.$hsThemeSwitchCollection&&(window.$hsThemeSwitchCollection=window.$hsThemeSwitchCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll("[data-hs-theme-switch]:not(.--prevent-on-load-init)").forEach(e=>{window.$hsThemeSwitchCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})||new Ti(e,{type:"change"})}),document.querySelectorAll("[data-hs-theme-click-value]:not(.--prevent-on-load-init)").forEach(e=>{window.$hsThemeSwitchCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})||new Ti(e,{type:"click"})})}}window.addEventListener("load",()=>{Ti.autoInit()});window.$hsThemeSwitchCollection&&window.addEventListener("on-hs-appearance-change",n=>{window.$hsThemeSwitchCollection.forEach(e=>{e.element.el.checked=n.detail==="dark"})});typeof window<"u"&&(window.HSThemeSwitch=Ti);/*
 * HSToggleCount
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */class Vn extends U{constructor(e,t){super(e,t);const i=e.getAttribute("data-hs-toggle-count"),r={...i?JSON.parse(i):{},...t};this.target=r!=null&&r.target?typeof(r==null?void 0:r.target)=="string"?document.querySelector(r.target):r.target:null,this.min=(r==null?void 0:r.min)||0,this.max=(r==null?void 0:r.max)||0,this.duration=(r==null?void 0:r.duration)||700,this.isChecked=this.target.checked||!1,this.target&&this.init()}toggleChange(){this.isChecked=!this.isChecked,this.toggle()}init(){this.createCollection(window.$hsToggleCountCollection,this),this.isChecked&&(this.el.innerText=String(this.max)),this.onToggleChangeListener=()=>this.toggleChange(),this.target.addEventListener("change",this.onToggleChangeListener)}toggle(){this.isChecked?this.countUp():this.countDown()}animate(e,t){let i=0;const s=r=>{i||(i=r);const o=Math.min((r-i)/this.duration,1);this.el.innerText=String(Math.floor(o*(t-e)+e)),o<1&&window.requestAnimationFrame(s)};window.requestAnimationFrame(s)}countUp(){this.animate(this.min,this.max)}countDown(){this.animate(this.max,this.min)}destroy(){this.target.removeEventListener("change",this.onToggleChangeListener),window.$hsToggleCountCollection=window.$hsToggleCountCollection.filter(({element:e})=>e.el!==this.el)}static getInstance(e,t){const i=window.$hsToggleCountCollection.find(s=>s.element.el===(typeof e=="string"?document.querySelector(e):e));return i?t?i:i.element:null}static autoInit(){window.$hsToggleCountCollection||(window.$hsToggleCountCollection=[]),window.$hsToggleCountCollection&&(window.$hsToggleCountCollection=window.$hsToggleCountCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll("[data-hs-toggle-count]:not(.--prevent-on-load-init)").forEach(e=>{window.$hsToggleCountCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})||new Vn(e)})}}window.addEventListener("load",()=>{Vn.autoInit()});typeof window<"u"&&(window.HSToggleCount=Vn);/*
 * HSTogglePassword
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */class ki extends U{constructor(e,t){super(e,t);const i=e.getAttribute("data-hs-toggle-password"),r={...i?JSON.parse(i):{},...t},o=[];r!=null&&r.target&&typeof(r==null?void 0:r.target)=="string"?(r==null?void 0:r.target.split(",")).forEach(l=>{o.push(document.querySelector(l))}):r!=null&&r.target&&typeof(r==null?void 0:r.target)=="object"?r.target.forEach(a=>o.push(document.querySelector(a))):r.target.forEach(a=>o.push(a)),this.target=o,this.isShown=this.el.hasAttribute("type")?this.el.checked:!1,this.eventType=wm(this.el)?"change":"click",this.isMultiple=this.target.length>1&&!!this.el.closest("[data-hs-toggle-password-group]"),this.target&&this.init()}elementAction(){this.isShown?this.hide():this.show(),this.fireEvent("toggle",this.target),N("toggle.hs.toggle-select",this.el,this.target)}init(){this.createCollection(window.$hsTogglePasswordCollection,this),this.isShown?this.show():this.hide(),this.onElementActionListener=()=>this.elementAction(),this.el.addEventListener(this.eventType,this.onElementActionListener)}getMultipleToggles(){const t=this.el.closest("[data-hs-toggle-password-group]").querySelectorAll("[data-hs-toggle-password]"),i=[];return t.forEach(s=>{i.push(ki.getInstance(s))}),i}show(){this.isMultiple?(this.getMultipleToggles().forEach(t=>t?t.isShown=!0:!1),this.el.closest("[data-hs-toggle-password-group]").classList.add("active")):(this.isShown=!0,this.el.classList.add("active")),this.target.forEach(e=>{e.type="text"})}hide(){this.isMultiple?(this.getMultipleToggles().forEach(t=>t?t.isShown=!1:!1),this.el.closest("[data-hs-toggle-password-group]").classList.remove("active")):(this.isShown=!1,this.el.classList.remove("active")),this.target.forEach(e=>{e.type="password"})}destroy(){this.isMultiple?this.el.closest("[data-hs-toggle-password-group]").classList.remove("active"):this.el.classList.remove("active"),this.target.forEach(e=>{e.type="password"}),this.el.removeEventListener(this.eventType,this.onElementActionListener),this.isShown=!1,window.$hsTogglePasswordCollection=window.$hsTogglePasswordCollection.filter(({element:e})=>e.el!==this.el)}static getInstance(e,t){const i=window.$hsTogglePasswordCollection.find(s=>s.element.el===(typeof e=="string"?document.querySelector(e):e));return i?t?i:i.element:null}static autoInit(){window.$hsTogglePasswordCollection||(window.$hsTogglePasswordCollection=[]),window.$hsTogglePasswordCollection&&(window.$hsTogglePasswordCollection=window.$hsTogglePasswordCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll("[data-hs-toggle-password]:not(.--prevent-on-load-init)").forEach(e=>{window.$hsTogglePasswordCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})||new ki(e)})}}window.addEventListener("load",()=>{ki.autoInit()});typeof window<"u"&&(window.HSTogglePassword=ki);/*
 * HSTooltip
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */class gt extends U{constructor(e,t,i){super(e,t,i),this.el&&(this.toggle=this.el.querySelector(".hs-tooltip-toggle")||this.el,this.content=this.el.querySelector(".hs-tooltip-content"),this.eventMode=q(this.el,"--trigger")||"hover",this.preventPopper=q(this.el,"--prevent-popper","false"),this.placement=q(this.el,"--placement"),this.strategy=q(this.el,"--strategy"),this.scope=q(this.el,"--scope")||"parent"),this.el&&this.toggle&&this.content&&this.init()}toggleClick(){this.click()}toggleFocus(){this.focus()}toggleMouseEnter(){this.enter()}toggleMouseLeave(){this.leave()}toggleHandle(){this.hide(),this.toggle.removeEventListener("click",this.onToggleHandleListener,!0),this.toggle.removeEventListener("blur",this.onToggleHandleListener,!0)}init(){this.createCollection(window.$hsTooltipCollection,this),this.eventMode==="click"?(this.onToggleClickListener=()=>this.toggleClick(),this.toggle.addEventListener("click",this.onToggleClickListener)):this.eventMode==="focus"?(this.onToggleFocusListener=()=>this.toggleFocus(),this.toggle.addEventListener("click",this.onToggleFocusListener)):this.eventMode==="hover"&&(this.onToggleMouseEnterListener=()=>this.toggleMouseEnter(),this.onToggleMouseLeaveListener=()=>this.toggleMouseLeave(),this.toggle.addEventListener("mouseenter",this.onToggleMouseEnterListener),this.toggle.addEventListener("mouseleave",this.onToggleMouseLeaveListener)),this.preventPopper==="false"&&this.buildPopper()}enter(){this._show()}leave(){this.hide()}click(){if(this.el.classList.contains("show"))return!1;this._show(),this.onToggleHandleListener=()=>{setTimeout(()=>this.toggleHandle())},this.toggle.addEventListener("click",this.onToggleHandleListener,!0),this.toggle.addEventListener("blur",this.onToggleHandleListener,!0)}focus(){this._show();const e=()=>{this.hide(),this.toggle.removeEventListener("blur",e,!0)};this.toggle.addEventListener("blur",e,!0)}buildPopper(){this.scope==="window"&&document.body.appendChild(this.content),this.popperInstance=uo(this.toggle,this.content,{placement:Is[this.placement]||"top",strategy:this.strategy||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]})}_show(){this.content.classList.remove("hidden"),this.scope==="window"&&this.content.classList.add("show"),this.preventPopper==="false"&&(this.popperInstance.setOptions(e=>({...e,modifiers:[...e.modifiers,{name:"eventListeners",enabled:!0}]})),this.popperInstance.update()),setTimeout(()=>{this.el.classList.add("show"),this.fireEvent("show",this.el),N("show.hs.tooltip",this.el,this.el)})}show(){switch(this.eventMode){case"click":this.click();break;case"focus":this.focus();break;default:this.enter();break}this.toggle.focus(),this.toggle.style.outline="none"}hide(){this.el.classList.remove("show"),this.scope==="window"&&this.content.classList.remove("show"),this.preventPopper==="false"&&this.popperInstance.setOptions(e=>({...e,modifiers:[...e.modifiers,{name:"eventListeners",enabled:!1}]})),this.fireEvent("hide",this.el),N("hide.hs.tooltip",this.el,this.el),Be(this.content,()=>{if(this.el.classList.contains("show"))return!1;this.content.classList.add("hidden"),this.toggle.style.outline=""})}destroy(){this.el.classList.remove("show"),this.content.classList.add("hidden"),this.eventMode==="click"?this.toggle.removeEventListener("click",this.onToggleClickListener):this.eventMode==="focus"?this.toggle.removeEventListener("click",this.onToggleFocusListener):this.eventMode==="hover"&&(this.toggle.removeEventListener("mouseenter",this.onToggleMouseEnterListener),this.toggle.removeEventListener("mouseleave",this.onToggleMouseLeaveListener)),this.toggle.removeEventListener("click",this.onToggleHandleListener,!0),this.toggle.removeEventListener("blur",this.onToggleHandleListener,!0),this.popperInstance.destroy(),this.popperInstance=null,window.$hsTooltipCollection=window.$hsTooltipCollection.filter(({element:e})=>e.el!==this.el)}static findInCollection(e){return window.$hsTooltipCollection.find(t=>e instanceof gt?t.element.el===e.el:typeof e=="string"?t.element.el===document.querySelector(e):t.element.el===e)||null}static getInstance(e,t=!1){const i=window.$hsTooltipCollection.find(s=>s.element.el===(typeof e=="string"?document.querySelector(e):e));return i?t?i:i.element.el:null}static autoInit(){window.$hsTooltipCollection||(window.$hsTooltipCollection=[]),window.$hsTooltipCollection&&(window.$hsTooltipCollection=window.$hsTooltipCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll(".hs-tooltip:not(.--prevent-on-load-init)").forEach(e=>{window.$hsTooltipCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})||new gt(e)})}static show(e){const t=gt.findInCollection(e);t&&t.element.show()}static hide(e){const t=gt.findInCollection(e);t&&t.element.hide()}static on(e,t,i){const s=gt.findInCollection(t);s&&(s.element.events[e]=i)}}window.addEventListener("load",()=>{gt.autoInit()});typeof window<"u"&&(window.HSTooltip=gt);/*
 * HSTreeView
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */const pt=class pt extends U{constructor(e,t,i){super(e,t,i),this.items=[];const s=e.getAttribute("data-hs-tree-view"),o={...s?JSON.parse(s):{},...t};this.controlBy=(o==null?void 0:o.controlBy)||"button",this.autoSelectChildren=(o==null?void 0:o.autoSelectChildren)||!1,this.isIndeterminate=(o==null?void 0:o.isIndeterminate)||!0,this.onElementClickListener=[],this.onControlChangeListener=[],this.init()}elementClick(e,t,i){if(e.stopPropagation(),t.classList.contains("disabled"))return!1;!e.metaKey&&!e.shiftKey&&this.unselectItem(i),this.selectItem(t,i),this.fireEvent("click",{el:t,data:i}),N("click.hs.treeView",this.el,{el:t,data:i})}controlChange(e,t){this.autoSelectChildren?(this.selectItem(e,t),t.isDir&&this.selectChildren(e,t),this.toggleParent(e)):this.selectItem(e,t)}init(){this.createCollection(window.$hsTreeViewCollection,this),pt.group+=1,this.initItems()}initItems(){this.el.querySelectorAll("[data-hs-tree-view-item]").forEach((e,t)=>{const i=JSON.parse(e.getAttribute("data-hs-tree-view-item"));e.id||(e.id=`tree-view-item-${pt.group}-${t}`);const s={...i,id:i.id??e.id,path:this.getPath(e),isSelected:i.isSelected??!1};this.items.push(s),this.controlBy==="checkbox"?this.controlByCheckbox(e,s):this.controlByButton(e,s)})}controlByButton(e,t){this.onElementClickListener.push({el:e,fn:i=>this.elementClick(i,e,t)}),e.addEventListener("click",this.onElementClickListener.find(i=>i.el===e).fn)}controlByCheckbox(e,t){const i=e.querySelector(`input[value="${t.value}"]`);i&&(this.onControlChangeListener.push({el:i,fn:()=>this.controlChange(e,t)}),i.addEventListener("change",this.onControlChangeListener.find(s=>s.el===i).fn))}getItem(e){return this.items.find(t=>t.id===e)}getPath(e){var s;const t=[];let i=e.closest("[data-hs-tree-view-item]");for(;i;){const r=JSON.parse(i.getAttribute("data-hs-tree-view-item"));t.push(r.value),i=(s=i.parentElement)==null?void 0:s.closest("[data-hs-tree-view-item]")}return t.reverse().join("/")}unselectItem(e=null){let t=this.getSelectedItems();e&&(t=t.filter(i=>i.id!==e.id)),t.length&&t.forEach(i=>{document.querySelector(`#${i.id}`).classList.remove("selected"),this.changeItemProp(i.id,"isSelected",!1)})}selectItem(e,t){t.isSelected?(e.classList.remove("selected"),this.changeItemProp(t.id,"isSelected",!1)):(e.classList.add("selected"),this.changeItemProp(t.id,"isSelected",!0))}selectChildren(e,t){const i=e.querySelectorAll("[data-hs-tree-view-item]");Array.from(i).filter(s=>!s.classList.contains("disabled")).forEach(s=>{const r=s.id?this.getItem(s.id):null;if(!r)return!1;t.isSelected?(s.classList.add("selected"),this.changeItemProp(r.id,"isSelected",!0)):(s.classList.remove("selected"),this.changeItemProp(r.id,"isSelected",!1));const o=this.getItem(s.id),a=s.querySelector(`input[value="${o.value}"]`);this.isIndeterminate&&(a.indeterminate=!1),o.isSelected?a.checked=!0:a.checked=!1})}toggleParent(e){var i,s;let t=(i=e.parentElement)==null?void 0:i.closest("[data-hs-tree-view-item]");for(;t;){const r=t.querySelectorAll("[data-hs-tree-view-item]:not(.disabled)"),o=JSON.parse(t.getAttribute("data-hs-tree-view-item")),a=t.querySelector(`input[value="${o.value}"]`);let l=!1,c=0;r.forEach(u=>{const h=this.getItem(u.id);h.isSelected&&(c+=1),h.isSelected||(l=!0)}),l?(t.classList.remove("selected"),this.changeItemProp(t.id,"isSelected",!1),a.checked=!1):(t.classList.add("selected"),this.changeItemProp(t.id,"isSelected",!0),a.checked=!0),this.isIndeterminate&&(c>0&&c<r.length?a.indeterminate=!0:a.indeterminate=!1),t=(s=t.parentElement)==null?void 0:s.closest("[data-hs-tree-view-item]")}}update(){this.items.map(e=>{const t=document.querySelector(`#${e.id}`);return e.path!==this.getPath(t)&&(e.path=this.getPath(t)),e})}getSelectedItems(){return this.items.filter(e=>e.isSelected)}changeItemProp(e,t,i){this.items.map(s=>(s.id===e&&(s[t]=i),s))}destroy(){this.onElementClickListener.forEach(({el:e,fn:t})=>{e.removeEventListener("click",t)}),this.onControlChangeListener.length&&this.onElementClickListener.forEach(({el:e,fn:t})=>{e.removeEventListener("change",t)}),this.unselectItem(),this.items=[],window.$hsTreeViewCollection=window.$hsTreeViewCollection.filter(({element:e})=>e.el!==this.el),pt.group-=1}static findInCollection(e){return window.$hsTreeViewCollection.find(t=>e instanceof pt?t.element.el===e.el:typeof e=="string"?t.element.el===document.querySelector(e):t.element.el===e)||null}static getInstance(e,t){const i=window.$hsTreeViewCollection.find(s=>s.element.el===(typeof e=="string"?document.querySelector(e):e));return i?t?i:i.element.el:null}static autoInit(){window.$hsTreeViewCollection||(window.$hsTreeViewCollection=[]),window.$hsTreeViewCollection&&(window.$hsTreeViewCollection=window.$hsTreeViewCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll("[data-hs-tree-view]:not(.--prevent-on-load-init)").forEach(e=>{window.$hsTreeViewCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})||new pt(e)})}static on(e,t,i){const s=pt.findInCollection(t);console.log(1),s&&(s.element.events[e]=i)}};pt.group=0;let En=pt;window.addEventListener("load",()=>{En.autoInit()});typeof window<"u"&&(window.HSTreeView=En);/*
 * HSDataTable
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */class jn extends U{constructor(e,t,i){var a,l,c,u,h,f,g,b,y,p,v;super(e,t,i),this.el=typeof e=="string"?document.querySelector(e):e;const s=[];Array.from(this.el.querySelectorAll("thead th, thead td")).forEach((S,A)=>{S.classList.contains("--exclude-from-ordering")&&s.push({targets:A,orderable:!1})});const r=this.el.getAttribute("data-hs-datatable"),o=r?JSON.parse(r):{};this.concatOptions={searching:!0,lengthChange:!1,order:[],columnDefs:[...s],...o,...t},this.table=this.el.querySelector("table"),this.searches=Array.from(this.el.querySelectorAll("[data-hs-datatable-search]"))??null,this.pageEntitiesList=Array.from(this.el.querySelectorAll("[data-hs-datatable-page-entities]"))??null,this.pagingList=Array.from(this.el.querySelectorAll("[data-hs-datatable-paging]"))??null,this.pagingPagesList=Array.from(this.el.querySelectorAll("[data-hs-datatable-paging-pages]"))??null,this.pagingPrevList=Array.from(this.el.querySelectorAll("[data-hs-datatable-paging-prev]"))??null,this.pagingNextList=Array.from(this.el.querySelectorAll("[data-hs-datatable-paging-next]"))??null,this.infoList=Array.from(this.el.querySelectorAll("[data-hs-datatable-info]"))??null,(a=this.concatOptions)!=null&&a.rowSelectingOptions&&(this.rowSelectingAll=((c=(l=this.concatOptions)==null?void 0:l.rowSelectingOptions)!=null&&c.selectAllSelector?document.querySelector((h=(u=this.concatOptions)==null?void 0:u.rowSelectingOptions)==null?void 0:h.selectAllSelector):document.querySelector("[data-hs-datatable-row-selecting-all]"))??null),(f=this.concatOptions)!=null&&f.rowSelectingOptions&&(this.rowSelectingIndividual=((b=(g=this.concatOptions)==null?void 0:g.rowSelectingOptions)==null?void 0:b.individualSelector)??"[data-hs-datatable-row-selecting-individual]"??null),this.pageEntitiesList.length&&(this.concatOptions.pageLength=parseInt(this.pageEntitiesList[0].value)),this.maxPagesToShow=3,this.isRowSelecting=!!((y=this.concatOptions)!=null&&y.rowSelectingOptions),this.pageBtnClasses=((v=(p=this.concatOptions)==null?void 0:p.pagingOptions)==null?void 0:v.pageBtnClasses)??null,this.onSearchInputListener=[],this.onPageEntitiesChangeListener=[],this.onSinglePagingClickListener=[],this.onPagingPrevClickListener=[],this.onPagingNextClickListener=[],this.init()}init(){this.createCollection(window.$hsDataTableCollection,this),this.initTable(),this.searches.length&&this.initSearch(),this.pageEntitiesList.length&&this.initPageEntities(),this.pagingList.length&&this.initPaging(),this.pagingPagesList.length&&this.buildPagingPages(),this.pagingPrevList.length&&this.initPagingPrev(),this.pagingNextList.length&&this.initPagingNext(),this.infoList.length&&this.initInfo(),this.isRowSelecting&&this.initRowSelecting()}initTable(){this.dataTable=new DataTable(this.table,this.concatOptions),this.isRowSelecting&&this.triggerChangeEventToRow(),this.dataTable.on("draw",()=>{this.isRowSelecting&&this.updateSelectAllCheckbox(),this.isRowSelecting&&this.triggerChangeEventToRow(),this.updateInfo(),this.pagingPagesList.forEach(e=>this.updatePaging(e))})}searchInput(e){this.onSearchInput(e.target.value)}pageEntitiesChange(e){this.onEntitiesChange(parseInt(e.target.value),e.target)}pagingPrevClick(){this.onPrevClick()}pagingNextClick(){this.onNextClick()}rowSelectingAllChange(){this.onSelectAllChange()}singlePagingClick(e){this.onPageClick(e)}initSearch(){this.searches.forEach(e=>{this.onSearchInputListener.push({el:e,fn:Cn(t=>this.searchInput(t))}),e.addEventListener("input",this.onSearchInputListener.find(t=>t.el===e).fn)})}onSearchInput(e){this.dataTable.search(e).draw()}initPageEntities(){this.pageEntitiesList.forEach(e=>{this.onPageEntitiesChangeListener.push({el:e,fn:t=>this.pageEntitiesChange(t)}),e.addEventListener("change",this.onPageEntitiesChangeListener.find(t=>t.el===e).fn)})}onEntitiesChange(e,t){const i=this.pageEntitiesList.filter(s=>s!==t);i.length&&i.forEach(s=>{if(window.HSSelect){const r=window.HSSelect.getInstance(s,!0);r&&r.element.setValue(`${e}`)}else s.value=`${e}`}),this.dataTable.page.len(e).draw()}initInfo(){this.infoList.forEach(e=>{this.initInfoFrom(e),this.initInfoTo(e),this.initInfoLength(e)})}initInfoFrom(e){const t=e.querySelector("[data-hs-datatable-info-from]")??null,{start:i}=this.dataTable.page.info();t&&(t.innerText=`${i+1}`)}initInfoTo(e){const t=e.querySelector("[data-hs-datatable-info-to]")??null,{end:i}=this.dataTable.page.info();t&&(t.innerText=`${i}`)}initInfoLength(e){const t=e.querySelector("[data-hs-datatable-info-length]")??null,{recordsTotal:i}=this.dataTable.page.info();t&&(t.innerText=`${i}`)}updateInfo(){this.initInfo()}initPaging(){this.pagingList.forEach(e=>this.hidePagingIfSinglePage(e))}hidePagingIfSinglePage(e){const{pages:t}=this.dataTable.page.info();t<2?(e.classList.add("hidden"),e.style.display="none"):(e.classList.remove("hidden"),e.style.display="")}initPagingPrev(){this.pagingPrevList.forEach(e=>{this.onPagingPrevClickListener.push({el:e,fn:()=>this.pagingPrevClick()}),e.addEventListener("click",this.onPagingPrevClickListener.find(t=>t.el===e).fn)})}onPrevClick(){this.dataTable.page("previous").draw("page")}disablePagingArrow(e,t){t?(e.classList.add("disabled"),e.setAttribute("disabled","disabled")):(e.classList.remove("disabled"),e.removeAttribute("disabled"))}initPagingNext(){this.pagingNextList.forEach(e=>{this.onPagingNextClickListener.push({el:e,fn:()=>this.pagingNextClick()}),e.addEventListener("click",this.onPagingNextClickListener.find(t=>t.el===e).fn)})}onNextClick(){this.dataTable.page("next").draw("page")}buildPagingPages(){this.pagingPagesList.forEach(e=>this.updatePaging(e))}updatePaging(e){const{page:t,pages:i,length:s}=this.dataTable.page.info(),r=this.dataTable.rows({search:"applied"}).count(),o=Math.ceil(r/s),a=t+1;let l=Math.max(1,a-Math.floor(this.maxPagesToShow/2)),c=Math.min(o,l+(this.maxPagesToShow-1));c-l+1<this.maxPagesToShow&&(l=Math.max(1,c-this.maxPagesToShow+1)),e.innerHTML="",l>1&&(this.buildPagingPage(1,e),l>2&&e.appendChild(B('<span class="ellipsis">...</span>')));for(let u=l;u<=c;u++)this.buildPagingPage(u,e);c<o&&(c<o-1&&e.appendChild(B('<span class="ellipsis">...</span>')),this.buildPagingPage(o,e)),this.pagingPrevList.forEach(u=>this.disablePagingArrow(u,t===0)),this.pagingNextList.forEach(u=>this.disablePagingArrow(u,t===i-1)),this.pagingList.forEach(u=>this.hidePagingIfSinglePage(u))}buildPagingPage(e,t){const{page:i}=this.dataTable.page.info(),s=B('<button type="button"></button>');s.innerText=`${e}`,s.setAttribute("data-page",`${e}`),this.pageBtnClasses&&ce(this.pageBtnClasses,s),i===e-1&&s.classList.add("active"),this.onSinglePagingClickListener.push({el:s,fn:()=>this.singlePagingClick(e)}),s.addEventListener("click",this.onSinglePagingClickListener.find(r=>r.el===s).fn),t.append(s)}onPageClick(e){this.dataTable.page(e-1).draw("page")}initRowSelecting(){this.onRowSelectingAllChangeListener=()=>this.rowSelectingAllChange(),this.rowSelectingAll.addEventListener("change",this.onRowSelectingAllChangeListener)}triggerChangeEventToRow(){this.table.querySelectorAll(`tbody ${this.rowSelectingIndividual}`).forEach(e=>{e.addEventListener("change",()=>{this.updateSelectAllCheckbox()})})}onSelectAllChange(){let e=this.rowSelectingAll.checked;Array.from(this.dataTable.rows({page:"current",search:"applied"}).nodes()).forEach(i=>{const s=i.querySelector(this.rowSelectingIndividual);s&&(s.checked=e)}),this.updateSelectAllCheckbox()}updateSelectAllCheckbox(){if(!this.dataTable.rows({search:"applied"}).count())return this.rowSelectingAll.checked=!1,!1;let t=!0;Array.from(this.dataTable.rows({page:"current",search:"applied"}).nodes()).forEach(s=>{const r=s.querySelector(this.rowSelectingIndividual);if(r&&!r.checked)return t=!1,!1}),this.rowSelectingAll.checked=t}destroy(){this.searches&&this.onSearchInputListener.forEach(({el:e,fn:t})=>e.removeEventListener("click",t)),this.pageEntitiesList&&this.onPageEntitiesChangeListener.forEach(({el:e,fn:t})=>e.removeEventListener("change",t)),this.pagingPagesList.length&&(this.onSinglePagingClickListener.forEach(({el:e,fn:t})=>e.removeEventListener("click",t)),this.pagingPagesList.forEach(e=>e.innerHTML="")),this.pagingPrevList.length&&this.onPagingPrevClickListener.forEach(({el:e,fn:t})=>e.removeEventListener("click",t)),this.pagingNextList.length&&this.onPagingNextClickListener.forEach(({el:e,fn:t})=>e.removeEventListener("click",t)),this.rowSelectingAll&&this.rowSelectingAll.removeEventListener("change",this.onRowSelectingAllChangeListener),this.dataTable.destroy(),this.rowSelectingAll=null,this.rowSelectingIndividual=null,window.$hsDataTableCollection=window.$hsDataTableCollection.filter(({element:e})=>e.el!==this.el)}static getInstance(e,t){const i=window.$hsDataTableCollection.find(s=>s.element.el===(typeof e=="string"?document.querySelector(e):e));return i?t?i:i.element.el:null}static autoInit(){window.$hsDataTableCollection||(window.$hsDataTableCollection=[]),window.$hsDataTableCollection&&(window.$hsDataTableCollection=window.$hsDataTableCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll("[data-hs-datatable]:not(.--prevent-on-load-init)").forEach(e=>{window.$hsDataTableCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})||new jn(e)})}}window.addEventListener("load",()=>{document.querySelectorAll("[data-hs-datatable]:not(.--prevent-on-load-init)").length&&(typeof jQuery>"u"&&console.error("HSDataTable: jQuery is not available, please add it to the page."),typeof DataTable>"u"&&console.error("HSDataTable: DataTable is not available, please add it to the page.")),typeof DataTable<"u"&&typeof jQuery<"u"&&jn.autoInit()});typeof window<"u"&&(window.HSDataTable=jn);/*
 * HSFileUpload
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */typeof Dropzone<"u"&&(Dropzone.autoDiscover=!1);class Wn extends U{constructor(e,t,i){var o;super(e,t,i),this.extensions={},this.el=typeof e=="string"?document.querySelector(e):e;const s=this.el.getAttribute("data-hs-file-upload"),r=s?JSON.parse(s):{};this.previewTemplate=((o=this.el.querySelector("[data-hs-file-upload-preview]"))==null?void 0:o.innerHTML)||`<div class="p-3 bg-white border border-solid border-gray-300 rounded-xl dark:bg-neutral-800 dark:border-neutral-600">
			<div class="mb-2 flex justify-between items-center">
				<div class="flex items-center gap-x-3">
					<span class="size-8 flex justify-center items-center border border-gray-200 text-gray-500 rounded-lg dark:border-neutral-700 dark:text-neutral-500" data-hs-file-upload-file-icon></span>
					<div>
						<p class="text-sm font-medium text-gray-800 dark:text-white">
							<span class="truncate inline-block max-w-[300px] align-bottom" data-hs-file-upload-file-name></span>.<span data-hs-file-upload-file-ext></span>
						</p>
						<p class="text-xs text-gray-500 dark:text-neutral-500" data-hs-file-upload-file-size></p>
					</div>
				</div>
				<div class="inline-flex items-center gap-x-2">
					<button type="button" class="text-gray-500 hover:text-gray-800 dark:text-neutral-500 dark:hover:text-neutral-200" data-hs-file-upload-remove>
						<svg class="shrink-0 size-4" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"></path><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path><line x1="10" x2="10" y1="11" y2="17"></line><line x1="14" x2="14" y1="11" y2="17"></line></svg>
					</button>
				</div>
			</div>
			<div class="flex items-center gap-x-3 whitespace-nowrap">
				<div class="flex w-full h-2 bg-gray-200 rounded-full overflow-hidden dark:bg-neutral-700" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" data-hs-file-upload-progress-bar>
					<div class="flex flex-col justify-center rounded-full overflow-hidden bg-blue-600 text-xs text-white text-center whitespace-nowrap transition-all duration-500 hs-file-upload-complete:bg-green-600 dark:bg-blue-500" style="width: 0" data-hs-file-upload-progress-bar-pane></div>
				</div>
				<div class="w-10 text-end">
					<span class="text-sm text-gray-800 dark:text-white">
						<span data-hs-file-upload-progress-bar-value>0</span>%
					</span>
				</div>
			</div>
		</div>`,this.extensions=_.merge({default:{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/></svg>',class:"size-5"},xls:{icon:'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.0243 1.43996H7.08805C6.82501 1.43996 6.57277 1.54445 6.38677 1.73043C6.20077 1.91642 6.09631 2.16868 6.09631 2.43171V6.64796L15.0243 11.856L19.4883 13.7398L23.9523 11.856V6.64796L15.0243 1.43996Z" fill="#21A366"></path><path d="M6.09631 6.64796H15.0243V11.856H6.09631V6.64796Z" fill="#107C41"></path><path d="M22.9605 1.43996H15.0243V6.64796H23.9523V2.43171C23.9523 2.16868 23.8478 1.91642 23.6618 1.73043C23.4758 1.54445 23.2235 1.43996 22.9605 1.43996Z" fill="#33C481"></path><path d="M15.0243 11.856H6.09631V21.2802C6.09631 21.5433 6.20077 21.7955 6.38677 21.9815C6.57277 22.1675 6.82501 22.272 7.08805 22.272H22.9606C23.2236 22.272 23.4759 22.1675 23.6618 21.9815C23.8478 21.7955 23.9523 21.5433 23.9523 21.2802V17.064L15.0243 11.856Z" fill="#185C37"></path><path d="M15.0243 11.856H23.9523V17.064H15.0243V11.856Z" fill="#107C41"></path><path opacity="0.1" d="M12.5446 5.15996H6.09631V19.296H12.5446C12.8073 19.2952 13.0591 19.1904 13.245 19.0046C13.4308 18.8188 13.5355 18.567 13.5363 18.3042V6.1517C13.5355 5.88892 13.4308 5.63712 13.245 5.4513C13.0591 5.26548 12.8073 5.16074 12.5446 5.15996Z" fill="black"></path><path opacity="0.2" d="M11.8006 5.90396H6.09631V20.04H11.8006C12.0633 20.0392 12.3151 19.9344 12.501 19.7486C12.6868 19.5628 12.7915 19.311 12.7923 19.0482V6.8957C12.7915 6.6329 12.6868 6.38114 12.501 6.19532C12.3151 6.0095 12.0633 5.90475 11.8006 5.90396Z" fill="black"></path><path opacity="0.2" d="M11.8006 5.90396H6.09631V18.552H11.8006C12.0633 18.5512 12.3151 18.4464 12.501 18.2606C12.6868 18.0748 12.7915 17.823 12.7923 17.5602V6.8957C12.7915 6.6329 12.6868 6.38114 12.501 6.19532C12.3151 6.0095 12.0633 5.90475 11.8006 5.90396Z" fill="black"></path><path opacity="0.2" d="M11.0566 5.90396H6.09631V18.552H11.0566C11.3193 18.5512 11.5711 18.4464 11.757 18.2606C11.9428 18.0748 12.0475 17.823 12.0483 17.5602V6.8957C12.0475 6.6329 11.9428 6.38114 11.757 6.19532C11.5711 6.0095 11.3193 5.90475 11.0566 5.90396Z" fill="black"></path><path d="M1.13604 5.90396H11.0566C11.3195 5.90396 11.5718 6.00842 11.7578 6.19442C11.9438 6.38042 12.0483 6.63266 12.0483 6.8957V16.8162C12.0483 17.0793 11.9438 17.3315 11.7578 17.5175C11.5718 17.7035 11.3195 17.808 11.0566 17.808H1.13604C0.873012 17.808 0.620754 17.7035 0.434765 17.5175C0.248775 17.3315 0.144287 17.0793 0.144287 16.8162V6.8957C0.144287 6.63266 0.248775 6.38042 0.434765 6.19442C0.620754 6.00842 0.873012 5.90396 1.13604 5.90396Z" fill="#107C41"></path><path d="M2.77283 15.576L5.18041 11.8455L2.9752 8.13596H4.74964L5.95343 10.5071C6.06401 10.7318 6.14015 10.8994 6.18185 11.01H6.19745C6.27683 10.8305 6.35987 10.6559 6.44669 10.4863L7.73309 8.13596H9.36167L7.09991 11.8247L9.41897 15.576H7.68545L6.29489 12.972C6.22943 12.861 6.17387 12.7445 6.12899 12.6238H6.10817C6.06761 12.7419 6.01367 12.855 5.94748 12.9608L4.51676 15.576H2.77283Z" fill="white"></path></svg>',class:"size-5"},doc:{icon:'<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M30.6141 1.91994H9.45071C9.09999 1.91994 8.76367 2.05926 8.51567 2.30725C8.26767 2.55523 8.12839 2.89158 8.12839 3.24228V8.86395L20.0324 12.3359L31.9364 8.86395V3.24228C31.9364 2.89158 31.797 2.55523 31.549 2.30725C31.3011 2.05926 30.9647 1.91994 30.6141 1.91994Z" fill="#41A5EE"></path><path d="M31.9364 8.86395H8.12839V15.8079L20.0324 19.2799L31.9364 15.8079V8.86395Z" fill="#2B7CD3"></path><path d="M31.9364 15.8079H8.12839V22.7519L20.0324 26.2239L31.9364 22.7519V15.8079Z" fill="#185ABD"></path><path d="M31.9364 22.752H8.12839V28.3736C8.12839 28.7244 8.26767 29.0607 8.51567 29.3087C8.76367 29.5567 9.09999 29.696 9.45071 29.696H30.6141C30.9647 29.696 31.3011 29.5567 31.549 29.3087C31.797 29.0607 31.9364 28.7244 31.9364 28.3736V22.752Z" fill="#103F91"></path><path opacity="0.1" d="M16.7261 6.87994H8.12839V25.7279H16.7261C17.0764 25.7269 17.4121 25.5872 17.6599 25.3395C17.9077 25.0917 18.0473 24.756 18.0484 24.4056V8.20226C18.0473 7.8519 17.9077 7.51616 17.6599 7.2684C17.4121 7.02064 17.0764 6.88099 16.7261 6.87994Z" class="fill-black dark:fill-neutral-200" fill="currentColor"></path><path opacity="0.2" d="M15.7341 7.87194H8.12839V26.7199H15.7341C16.0844 26.7189 16.4201 26.5792 16.6679 26.3315C16.9157 26.0837 17.0553 25.748 17.0564 25.3976V9.19426C17.0553 8.84386 16.9157 8.50818 16.6679 8.26042C16.4201 8.01266 16.0844 7.87299 15.7341 7.87194Z" class="fill-black dark:fill-neutral-200" fill="currentColor"></path><path opacity="0.2" d="M15.7341 7.87194H8.12839V24.7359H15.7341C16.0844 24.7349 16.4201 24.5952 16.6679 24.3475C16.9157 24.0997 17.0553 23.764 17.0564 23.4136V9.19426C17.0553 8.84386 16.9157 8.50818 16.6679 8.26042C16.4201 8.01266 16.0844 7.87299 15.7341 7.87194Z" class="fill-black dark:fill-neutral-200" fill="currentColor"></path><path opacity="0.2" d="M14.7421 7.87194H8.12839V24.7359H14.7421C15.0924 24.7349 15.4281 24.5952 15.6759 24.3475C15.9237 24.0997 16.0633 23.764 16.0644 23.4136V9.19426C16.0633 8.84386 15.9237 8.50818 15.6759 8.26042C15.4281 8.01266 15.0924 7.87299 14.7421 7.87194Z" class="fill-black dark:fill-neutral-200" fill="currentColor"></path><path d="M1.51472 7.87194H14.7421C15.0927 7.87194 15.4291 8.01122 15.6771 8.25922C15.925 8.50722 16.0644 8.84354 16.0644 9.19426V22.4216C16.0644 22.7723 15.925 23.1087 15.6771 23.3567C15.4291 23.6047 15.0927 23.7439 14.7421 23.7439H1.51472C1.16401 23.7439 0.827669 23.6047 0.579687 23.3567C0.3317 23.1087 0.192383 22.7723 0.192383 22.4216V9.19426C0.192383 8.84354 0.3317 8.50722 0.579687 8.25922C0.827669 8.01122 1.16401 7.87194 1.51472 7.87194Z" fill="#185ABD"></path><path d="M12.0468 20.7679H10.2612L8.17801 13.9231L5.99558 20.7679H4.20998L2.22598 10.8479H4.01158L5.40038 17.7919L7.48358 11.0463H8.97161L10.9556 17.7919L12.3444 10.8479H14.0308L12.0468 20.7679Z" fill="white"></path></svg>',class:"size-5"},zip:{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 22h2a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v18"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/><circle cx="10" cy="20" r="2"/><path d="M10 7V6"/><path d="M10 12v-1"/><path d="M10 18v-2"/></svg>',class:"size-5"}},r.extensions),this.singleton=r.singleton,this.concatOptions={clickable:this.el.querySelector("[data-hs-file-upload-trigger]"),previewsContainer:this.el.querySelector("[data-hs-file-upload-previews]"),addRemoveLinks:!1,previewTemplate:this.previewTemplate,autoHideTrigger:!1,...r,...t},this.onReloadButtonClickListener=[],this.onTempFileInputChangeListener=[],this.init()}tempFileInputChange(e,t){var r;const s=(r=e.target.files)==null?void 0:r[0];if(s){const o=s;o.status=Dropzone.ADDED,o.accepted=!0,o.previewElement=t.previewElement,o.previewTemplate=t.previewTemplate,o.previewsContainer=t.previewsContainer,this.dropzone.removeFile(t),this.dropzone.addFile(o)}}reloadButtonClick(e,t){e.preventDefault(),e.stopPropagation();const i=document.createElement("input");i.type="file",this.onTempFileInputChangeListener.push({el:i,fn:s=>this.tempFileInputChange(s,t)}),i.click(),i.addEventListener("change",this.onTempFileInputChangeListener.find(s=>s.el===i).fn)}init(){this.createCollection(window.$hsFileUploadCollection,this),this.initDropzone()}initDropzone(){const e=this.el.querySelector("[data-hs-file-upload-clear]"),t=Array.from(this.el.querySelectorAll("[data-hs-file-upload-pseudo-trigger]"));this.dropzone=new Dropzone(this.el,this.concatOptions),this.dropzone.on("addedfile",i=>this.onAddFile(i)),this.dropzone.on("removedfile",()=>this.onRemoveFile()),this.dropzone.on("uploadprogress",(i,s)=>this.onUploadProgress(i,s)),this.dropzone.on("complete",i=>this.onComplete(i)),e&&(e.onclick=()=>{this.dropzone.files.length&&this.dropzone.removeAllFiles(!0)}),t.length&&t.forEach(i=>{i.onclick=()=>{var s,r;(s=this.concatOptions)!=null&&s.clickable&&((r=this.concatOptions)==null?void 0:r.clickable).click()}})}destroy(){this.onTempFileInputChangeListener.forEach(e=>{e.el.removeEventListener("change",e.fn)}),this.onTempFileInputChangeListener=null,this.onReloadButtonClickListener.forEach(e=>{e.el.removeEventListener("click",e.fn)}),this.onReloadButtonClickListener=null,this.dropzone.destroy(),window.$hsFileUploadCollection=window.$hsFileUploadCollection.filter(({element:e})=>e.el!==this.el)}onAddFile(e){const{previewElement:t}=e,i=e.previewElement.querySelector("[data-hs-file-upload-reload]");if(!t)return!1;this.singleton&&this.dropzone.files.length>1&&this.dropzone.removeFile(this.dropzone.files[0]),i&&(this.onReloadButtonClickListener.push({el:i,fn:s=>this.reloadButtonClick(s,e)}),i.addEventListener("click",this.onReloadButtonClickListener.find(s=>s.el===i).fn)),this.previewAccepted(e)}previewAccepted(e){const{previewElement:t}=e,i=this.splitFileName(e.name),s=t.querySelector("[data-hs-file-upload-file-name]"),r=t.querySelector("[data-hs-file-upload-file-ext]"),o=t.querySelector("[data-hs-file-upload-file-size]"),a=t.querySelector("[data-hs-file-upload-file-icon]"),l=this.el.querySelector("[data-hs-file-upload-trigger]"),c=t.querySelector("[data-dz-thumbnail]"),u=t.querySelector("[data-hs-file-upload-remove]");s&&(s.textContent=i.name),r&&(r.textContent=i.extension),o&&(o.textContent=this.formatFileSize(e.size)),c&&(e.type.includes("image/")?c.classList.remove("hidden"):this.setIcon(i.extension,a)),this.dropzone.files.length>0&&this.concatOptions.autoHideTrigger&&(l.style.display="none"),u&&(u.onclick=()=>this.dropzone.removeFile(e))}onRemoveFile(){const e=this.el.querySelector("[data-hs-file-upload-trigger]");this.dropzone.files.length===0&&this.concatOptions.autoHideTrigger&&(e.style.display="")}onUploadProgress(e,t){const{previewElement:i}=e;if(!i)return!1;const s=i.querySelector("[data-hs-file-upload-progress-bar]"),r=i.querySelector("[data-hs-file-upload-progress-bar-pane]"),o=i.querySelector("[data-hs-file-upload-progress-bar-value]"),a=Math.floor(t);s&&s.setAttribute("aria-valuenow",`${a}`),r&&(r.style.width=`${a}%`),o&&(o.innerText=`${a}`)}onComplete(e){const{previewElement:t}=e;if(!t)return!1;t.classList.add("complete")}setIcon(e,t){const i=this.createIcon(e);t.append(i)}createIcon(e){var i,s;const t=(i=this.extensions[e])!=null&&i.icon?B(this.extensions[e].icon):B(this.extensions.default.icon);return ce((s=this.extensions[e])!=null&&s.class?this.extensions[e].class:this.extensions.default.class,t),t}formatFileSize(e){return e<1024?e.toFixed(2)+" B":e<1024*1024?(e/1024).toFixed(2)+" KB":e<1024*1024*1024?(e/(1024*1024)).toFixed(2)+" MB":e<1024*1024*1024*1024?(e/(1024*1024*1024)).toFixed(2)+" GB":(e/(1024*1024*1024*1024)).toFixed(2)+" TB"}splitFileName(e){let t=e.lastIndexOf(".");return t==-1?{name:e,extension:""}:{name:e.substring(0,t),extension:e.substring(t+1)}}static getInstance(e,t){const i=window.$hsFileUploadCollection.find(s=>s.element.el===(typeof e=="string"?document.querySelector(e):e));return i?t?i:i.element.el:null}static autoInit(){window.$hsFileUploadCollection||(window.$hsFileUploadCollection=[]),window.$hsFileUploadCollection&&(window.$hsFileUploadCollection=window.$hsFileUploadCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll("[data-hs-file-upload]:not(.--prevent-on-load-init)").forEach(e=>{window.$hsFileUploadCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})||new Wn(e)})}}window.addEventListener("load",()=>{document.querySelectorAll("[data-hs-file-upload]:not(.--prevent-on-load-init)").length&&(typeof _>"u"&&console.error("HSFileUpload: Lodash is not available, please add it to the page."),typeof Dropzone>"u"&&console.error("HSFileUpload: Dropzone is not available, please add it to the page.")),typeof _<"u"&&typeof Dropzone<"u"&&Wn.autoInit()});typeof window<"u"&&(window.HSFileUpload=Wn);/*
 * HSRangeSlider
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */class zn extends U{constructor(e,t,i){super(e,t,i);const s=e.getAttribute("data-hs-range-slider"),r=s?JSON.parse(s):{};this.concatOptions={...r,...t,cssClasses:{...noUiSlider.cssClasses,...this.processClasses(r.cssClasses)}},this.init()}get formattedValue(){const e=this.el.noUiSlider.get();if(Array.isArray(e)&&this.format){const t=[];return e.forEach(i=>{t.push(this.format.to(i))}),t}else return this.format?this.format.to(e):e}processClasses(e){const t={};return Object.keys(e).forEach(i=>{i&&(t[i]=`${noUiSlider.cssClasses[i]} ${e[i]}`)}),t}init(){var e,t,i,s,r,o,a,l,c,u,h,f,g;this.createCollection(window.$hsRangeSliderCollection,this),(typeof((e=this.concatOptions)==null?void 0:e.formatter)=="object"?((i=(t=this.concatOptions)==null?void 0:t.formatter)==null?void 0:i.type)==="thousandsSeparatorAndDecimalPoints":((s=this.concatOptions)==null?void 0:s.formatter)==="thousandsSeparatorAndDecimalPoints")?this.thousandsSeparatorAndDecimalPointsFormatter():(typeof((r=this.concatOptions)==null?void 0:r.formatter)=="object"?((a=(o=this.concatOptions)==null?void 0:o.formatter)==null?void 0:a.type)==="integer":((l=this.concatOptions)==null?void 0:l.formatter)==="integer")?this.integerFormatter():typeof((c=this.concatOptions)==null?void 0:c.formatter)=="object"&&((h=(u=this.concatOptions)==null?void 0:u.formatter)!=null&&h.prefix||(g=(f=this.concatOptions)==null?void 0:f.formatter)!=null&&g.postfix)&&this.prefixOrPostfixFormatter(),noUiSlider.create(this.el,this.concatOptions),this.concatOptions.disabled&&this.setDisabled()}formatValue(e){var i,s,r,o,a,l,c,u,h;let t="";return typeof((i=this.concatOptions)==null?void 0:i.formatter)=="object"?((r=(s=this.concatOptions)==null?void 0:s.formatter)!=null&&r.prefix&&(t+=(a=(o=this.concatOptions)==null?void 0:o.formatter)==null?void 0:a.prefix),t+=e,(c=(l=this.concatOptions)==null?void 0:l.formatter)!=null&&c.postfix&&(t+=(h=(u=this.concatOptions)==null?void 0:u.formatter)==null?void 0:h.postfix)):t+=e,t}integerFormatter(){var e;this.format={to:t=>this.formatValue(Math.round(t)),from:t=>Math.round(+t)},(e=this.concatOptions)!=null&&e.tooltips&&(this.concatOptions.tooltips=this.format)}prefixOrPostfixFormatter(){var e;this.format={to:t=>this.formatValue(t),from:t=>+t},(e=this.concatOptions)!=null&&e.tooltips&&(this.concatOptions.tooltips=this.format)}thousandsSeparatorAndDecimalPointsFormatter(){var e;this.format={to:t=>this.formatValue(new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}).format(t)),from:t=>parseFloat(t.replace(/,/g,""))},(e=this.concatOptions)!=null&&e.tooltips&&(this.concatOptions.tooltips=this.format)}setDisabled(){this.el.setAttribute("disabled","disabled"),this.el.classList.add("disabled")}destroy(){this.el.noUiSlider.destroy(),this.format=null,window.$hsRangeSliderCollection=window.$hsRangeSliderCollection.filter(({element:e})=>e.el!==this.el)}static getInstance(e,t=!1){const i=window.$hsRangeSliderCollection.find(s=>s.element.el===(typeof e=="string"?document.querySelector(e):e));return i?t?i:i.element.el:null}static autoInit(){window.$hsRangeSliderCollection||(window.$hsRangeSliderCollection=[]),window.$hsRangeSliderCollection&&(window.$hsRangeSliderCollection=window.$hsRangeSliderCollection.filter(({element:e})=>document.contains(e.el))),document.querySelectorAll("[data-hs-range-slider]:not(.--prevent-on-load-init)").forEach(e=>{window.$hsRangeSliderCollection.find(t=>{var i;return((i=t==null?void 0:t.element)==null?void 0:i.el)===e})||new zn(e)})}}window.addEventListener("load",()=>{zn.autoInit()});typeof window<"u"&&(window.HSRangeSlider=zn);/*
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */const as=[{key:"copy-markup",fn:Dn,collection:"$hsCopyMarkupCollection"},{key:"accordion",fn:Ci,collection:"$hsAccordionCollection"},{key:"carousel",fn:Pn,collection:"$hsCarouselCollection"},{key:"collapse",fn:mt,collection:"$hsCollapseCollection"},{key:"combobox",fn:je,collection:"$hsComboBoxCollection"},{key:"datatable",fn:jn,collection:"$hsDataTableCollection"},{key:"dropdown",fn:pe,collection:"$hsDropdownCollection"},{key:"file-upload",fn:Wn,collection:"$hsFileUploadCollection"},{key:"input-number",fn:Bn,collection:"$hsInputNumberCollection"},{key:"layout-splitter",fn:An,collection:"$hsLayoutSplitterCollection"},{key:"overlay",fn:Re,collection:"$hsOverlayCollection"},{key:"pin-input",fn:Mn,collection:"$hsPinInputCollection"},{key:"range-slider",fn:zn,collection:"$hsRangeSliderCollection"},{key:"remove-element",fn:Fn,collection:"$hsRemoveElementCollection"},{key:"scrollspy",fn:_n,collection:"$hsScrollspyCollection"},{key:"select",fn:et,collection:"$hsSelectCollection"},{key:"stepper",fn:$n,collection:"$hsStepperCollection"},{key:"strong-password",fn:qn,collection:"$hsStrongPasswordCollection"},{key:"tabs",fn:Li,collection:"$hsTabsCollection"},{key:"textarea-auto-height",fn:Hn,collection:"$hsTextareaAutoHeightCollection"},{key:"theme-switch",fn:Ti,collection:"$hsThemeSwitchCollection"},{key:"toggle-count",fn:Vn,collection:"$hsToggleCountCollection"},{key:"toggle-password",fn:ki,collection:"$hsTogglePasswordCollection"},{key:"tooltip",fn:gt,collection:"$hsTooltipCollection"},{key:"tree-view",fn:En,collection:"$hsTreeViewCollection"}];/*
 * HSStaticMethods
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */const Ng={getClassProperty:q,afterTransition:Be,autoInit(n="all"){n==="all"?as.forEach(({fn:e})=>{e==null||e.autoInit()}):as.forEach(({key:e,fn:t})=>{n.includes(e)&&(t==null||t.autoInit())})},cleanCollection(n="all"){n==="all"?as.forEach(({collection:e})=>{window[e]instanceof Array&&(window[e]=[])}):as.forEach(({key:e,collection:t})=>{n.includes(e)&&window[t]instanceof Array&&(window[t]=[])})}};typeof window<"u"&&(window.HSStaticMethods=Ng);/*
 * @version: 2.7.0
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */typeof DataTable<"u"&&typeof jQuery<"u"&&require("./plugins/datatable").default;typeof _<"u"&&typeof Dropzone<"u"&&require("./plugins/file-upload").default;typeof noUiSlider<"u"&&require("./plugins/range-slider").default;var ho=!1,fo=!1,Ut=[],po=-1;function Bg(n){Mg(n)}function Mg(n){Ut.includes(n)||Ut.push(n),_g()}function Fg(n){let e=Ut.indexOf(n);e!==-1&&e>po&&Ut.splice(e,1)}function _g(){!fo&&!ho&&(ho=!0,queueMicrotask($g))}function $g(){ho=!1,fo=!0;for(let n=0;n<Ut.length;n++)Ut[n](),po=n;Ut.length=0,po=-1,fo=!1}var Bi,ri,Mi,ku,mo=!0;function qg(n){mo=!1,n(),mo=!0}function Hg(n){Bi=n.reactive,Mi=n.release,ri=e=>n.effect(e,{scheduler:t=>{mo?Bg(t):t()}}),ku=n.raw}function jl(n){ri=n}function Vg(n){let e=()=>{};return[i=>{let s=ri(i);return n._x_effects||(n._x_effects=new Set,n._x_runEffects=()=>{n._x_effects.forEach(r=>r())}),n._x_effects.add(s),e=()=>{s!==void 0&&(n._x_effects.delete(s),Mi(s))},s},()=>{e()}]}function Iu(n,e){let t=!0,i,s=ri(()=>{let r=n();JSON.stringify(r),t?i=r:queueMicrotask(()=>{e(r,i),i=r}),t=!1});return()=>Mi(s)}var Ru=[],Du=[],Pu=[];function jg(n){Pu.push(n)}function ta(n,e){typeof e=="function"?(n._x_cleanups||(n._x_cleanups=[]),n._x_cleanups.push(e)):(e=n,Du.push(e))}function Ou(n){Ru.push(n)}function Nu(n,e,t){n._x_attributeCleanups||(n._x_attributeCleanups={}),n._x_attributeCleanups[e]||(n._x_attributeCleanups[e]=[]),n._x_attributeCleanups[e].push(t)}function Bu(n,e){n._x_attributeCleanups&&Object.entries(n._x_attributeCleanups).forEach(([t,i])=>{(e===void 0||e.includes(t))&&(i.forEach(s=>s()),delete n._x_attributeCleanups[t])})}function Wg(n){var e,t;for((e=n._x_effects)==null||e.forEach(Fg);(t=n._x_cleanups)!=null&&t.length;)n._x_cleanups.pop()()}var ia=new MutationObserver(oa),na=!1;function sa(){ia.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),na=!0}function Mu(){zg(),ia.disconnect(),na=!1}var tn=[];function zg(){let n=ia.takeRecords();tn.push(()=>n.length>0&&oa(n));let e=tn.length;queueMicrotask(()=>{if(tn.length===e)for(;tn.length>0;)tn.shift()()})}function Q(n){if(!na)return n();Mu();let e=n();return sa(),e}var ra=!1,Ds=[];function Ug(){ra=!0}function Jg(){ra=!1,oa(Ds),Ds=[]}function oa(n){if(ra){Ds=Ds.concat(n);return}let e=[],t=new Set,i=new Map,s=new Map;for(let r=0;r<n.length;r++)if(!n[r].target._x_ignoreMutationObserver&&(n[r].type==="childList"&&(n[r].removedNodes.forEach(o=>{o.nodeType===1&&o._x_marker&&t.add(o)}),n[r].addedNodes.forEach(o=>{if(o.nodeType===1){if(t.has(o)){t.delete(o);return}o._x_marker||e.push(o)}})),n[r].type==="attributes")){let o=n[r].target,a=n[r].attributeName,l=n[r].oldValue,c=()=>{i.has(o)||i.set(o,[]),i.get(o).push({name:a,value:o.getAttribute(a)})},u=()=>{s.has(o)||s.set(o,[]),s.get(o).push(a)};o.hasAttribute(a)&&l===null?c():o.hasAttribute(a)?(u(),c()):u()}s.forEach((r,o)=>{Bu(o,r)}),i.forEach((r,o)=>{Ru.forEach(a=>a(o,r))});for(let r of t)e.some(o=>o.contains(r))||Du.forEach(o=>o(r));for(let r of e)r.isConnected&&Pu.forEach(o=>o(r));e=null,t=null,i=null,s=null}function Fu(n){return Jn(Ii(n))}function Un(n,e,t){return n._x_dataStack=[e,...Ii(t||n)],()=>{n._x_dataStack=n._x_dataStack.filter(i=>i!==e)}}function Ii(n){return n._x_dataStack?n._x_dataStack:typeof ShadowRoot=="function"&&n instanceof ShadowRoot?Ii(n.host):n.parentNode?Ii(n.parentNode):[]}function Jn(n){return new Proxy({objects:n},Kg)}var Kg={ownKeys({objects:n}){return Array.from(new Set(n.flatMap(e=>Object.keys(e))))},has({objects:n},e){return e==Symbol.unscopables?!1:n.some(t=>Object.prototype.hasOwnProperty.call(t,e)||Reflect.has(t,e))},get({objects:n},e,t){return e=="toJSON"?Xg:Reflect.get(n.find(i=>Reflect.has(i,e))||{},e,t)},set({objects:n},e,t,i){const s=n.find(o=>Object.prototype.hasOwnProperty.call(o,e))||n[n.length-1],r=Object.getOwnPropertyDescriptor(s,e);return r!=null&&r.set&&(r!=null&&r.get)?r.set.call(i,t)||!0:Reflect.set(s,e,t)}};function Xg(){return Reflect.ownKeys(this).reduce((e,t)=>(e[t]=Reflect.get(this,t),e),{})}function _u(n){let e=i=>typeof i=="object"&&!Array.isArray(i)&&i!==null,t=(i,s="")=>{Object.entries(Object.getOwnPropertyDescriptors(i)).forEach(([r,{value:o,enumerable:a}])=>{if(a===!1||o===void 0||typeof o=="object"&&o!==null&&o.__v_skip)return;let l=s===""?r:`${s}.${r}`;typeof o=="object"&&o!==null&&o._x_interceptor?i[r]=o.initialize(n,l,r):e(o)&&o!==i&&!(o instanceof Element)&&t(o,l)})};return t(n)}function $u(n,e=()=>{}){let t={initialValue:void 0,_x_interceptor:!0,initialize(i,s,r){return n(this.initialValue,()=>Gg(i,s),o=>go(i,s,o),s,r)}};return e(t),i=>{if(typeof i=="object"&&i!==null&&i._x_interceptor){let s=t.initialize.bind(t);t.initialize=(r,o,a)=>{let l=i.initialize(r,o,a);return t.initialValue=l,s(r,o,a)}}else t.initialValue=i;return t}}function Gg(n,e){return e.split(".").reduce((t,i)=>t[i],n)}function go(n,e,t){if(typeof e=="string"&&(e=e.split(".")),e.length===1)n[e[0]]=t;else{if(e.length===0)throw error;return n[e[0]]||(n[e[0]]={}),go(n[e[0]],e.slice(1),t)}}var qu={};function Je(n,e){qu[n]=e}function bo(n,e){let t=Qg(e);return Object.entries(qu).forEach(([i,s])=>{Object.defineProperty(n,`$${i}`,{get(){return s(e,t)},enumerable:!1})}),n}function Qg(n){let[e,t]=Uu(n),i={interceptor:$u,...e};return ta(n,t),i}function Yg(n,e,t,...i){try{return t(...i)}catch(s){Ln(s,n,e)}}function Ln(n,e,t=void 0){n=Object.assign(n??{message:"No error message given."},{el:e,expression:t}),console.warn(`Alpine Expression Error: ${n.message}

${t?'Expression: "'+t+`"

`:""}`,e),setTimeout(()=>{throw n},0)}var ws=!0;function Hu(n){let e=ws;ws=!1;let t=n();return ws=e,t}function Jt(n,e,t={}){let i;return be(n,e)(s=>i=s,t),i}function be(...n){return Vu(...n)}var Vu=ju;function Zg(n){Vu=n}function ju(n,e){let t={};bo(t,n);let i=[t,...Ii(n)],s=typeof e=="function"?eb(i,e):ib(i,e,n);return Yg.bind(null,n,e,s)}function eb(n,e){return(t=()=>{},{scope:i={},params:s=[]}={})=>{let r=e.apply(Jn([i,...n]),s);Ps(t,r)}}var Mr={};function tb(n,e){if(Mr[n])return Mr[n];let t=Object.getPrototypeOf(async function(){}).constructor,i=/^[\n\s]*if.*\(.*\)/.test(n.trim())||/^(let|const)\s/.test(n.trim())?`(async()=>{ ${n} })()`:n,r=(()=>{try{let o=new t(["__self","scope"],`with (scope) { __self.result = ${i} }; __self.finished = true; return __self.result;`);return Object.defineProperty(o,"name",{value:`[Alpine] ${n}`}),o}catch(o){return Ln(o,e,n),Promise.resolve()}})();return Mr[n]=r,r}function ib(n,e,t){let i=tb(e,t);return(s=()=>{},{scope:r={},params:o=[]}={})=>{i.result=void 0,i.finished=!1;let a=Jn([r,...n]);if(typeof i=="function"){let l=i(i,a).catch(c=>Ln(c,t,e));i.finished?(Ps(s,i.result,a,o,t),i.result=void 0):l.then(c=>{Ps(s,c,a,o,t)}).catch(c=>Ln(c,t,e)).finally(()=>i.result=void 0)}}}function Ps(n,e,t,i,s){if(ws&&typeof e=="function"){let r=e.apply(t,i);r instanceof Promise?r.then(o=>Ps(n,o,t,i)).catch(o=>Ln(o,s,e)):n(r)}else typeof e=="object"&&e instanceof Promise?e.then(r=>n(r)):n(e)}var aa="x-";function Fi(n=""){return aa+n}function nb(n){aa=n}var Os={};function ie(n,e){return Os[n]=e,{before(t){if(!Os[t]){console.warn(String.raw`Cannot find directive \`${t}\`. \`${n}\` will use the default order of execution`);return}const i=Ht.indexOf(t);Ht.splice(i>=0?i:Ht.indexOf("DEFAULT"),0,n)}}}function sb(n){return Object.keys(Os).includes(n)}function la(n,e,t){if(e=Array.from(e),n._x_virtualDirectives){let r=Object.entries(n._x_virtualDirectives).map(([a,l])=>({name:a,value:l})),o=Wu(r);r=r.map(a=>o.find(l=>l.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),e=e.concat(r)}let i={};return e.map(Xu((r,o)=>i[r]=o)).filter(Qu).map(ab(i,t)).sort(lb).map(r=>ob(n,r))}function Wu(n){return Array.from(n).map(Xu()).filter(e=>!Qu(e))}var yo=!1,on=new Map,zu=Symbol();function rb(n){yo=!0;let e=Symbol();zu=e,on.set(e,[]);let t=()=>{for(;on.get(e).length;)on.get(e).shift()();on.delete(e)},i=()=>{yo=!1,t()};n(t),i()}function Uu(n){let e=[],t=a=>e.push(a),[i,s]=Vg(n);return e.push(s),[{Alpine:Kn,effect:i,cleanup:t,evaluateLater:be.bind(be,n),evaluate:Jt.bind(Jt,n)},()=>e.forEach(a=>a())]}function ob(n,e){let t=()=>{},i=Os[e.type]||t,[s,r]=Uu(n);Nu(n,e.original,r);let o=()=>{n._x_ignore||n._x_ignoreSelf||(i.inline&&i.inline(n,e,s),i=i.bind(i,n,e,s),yo?on.get(zu).push(i):i())};return o.runCleanups=r,o}var Ju=(n,e)=>({name:t,value:i})=>(t.startsWith(n)&&(t=t.replace(n,e)),{name:t,value:i}),Ku=n=>n;function Xu(n=()=>{}){return({name:e,value:t})=>{let{name:i,value:s}=Gu.reduce((r,o)=>o(r),{name:e,value:t});return i!==e&&n(i,e),{name:i,value:s}}}var Gu=[];function ca(n){Gu.push(n)}function Qu({name:n}){return Yu().test(n)}var Yu=()=>new RegExp(`^${aa}([^:^.]+)\\b`);function ab(n,e){return({name:t,value:i})=>{let s=t.match(Yu()),r=t.match(/:([a-zA-Z0-9\-_:]+)/),o=t.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=e||n[t]||t;return{type:s?s[1]:null,value:r?r[1]:null,modifiers:o.map(l=>l.replace(".","")),expression:i,original:a}}}var vo="DEFAULT",Ht=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",vo,"teleport"];function lb(n,e){let t=Ht.indexOf(n.type)===-1?vo:n.type,i=Ht.indexOf(e.type)===-1?vo:e.type;return Ht.indexOf(t)-Ht.indexOf(i)}function gn(n,e,t={}){n.dispatchEvent(new CustomEvent(e,{detail:t,bubbles:!0,composed:!0,cancelable:!0}))}function ti(n,e){if(typeof ShadowRoot=="function"&&n instanceof ShadowRoot){Array.from(n.children).forEach(s=>ti(s,e));return}let t=!1;if(e(n,()=>t=!0),t)return;let i=n.firstElementChild;for(;i;)ti(i,e),i=i.nextElementSibling}function Pe(n,...e){console.warn(`Alpine Warning: ${n}`,...e)}var Wl=!1;function cb(){Wl&&Pe("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),Wl=!0,document.body||Pe("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),gn(document,"alpine:init"),gn(document,"alpine:initializing"),sa(),jg(e=>vt(e,ti)),ta(e=>$i(e)),Ou((e,t)=>{la(e,t).forEach(i=>i())});let n=e=>!Js(e.parentElement,!0);Array.from(document.querySelectorAll(td().join(","))).filter(n).forEach(e=>{vt(e)}),gn(document,"alpine:initialized"),setTimeout(()=>{fb()})}var ua=[],Zu=[];function ed(){return ua.map(n=>n())}function td(){return ua.concat(Zu).map(n=>n())}function id(n){ua.push(n)}function nd(n){Zu.push(n)}function Js(n,e=!1){return _i(n,t=>{if((e?td():ed()).some(s=>t.matches(s)))return!0})}function _i(n,e){if(n){if(e(n))return n;if(n._x_teleportBack&&(n=n._x_teleportBack),!!n.parentElement)return _i(n.parentElement,e)}}function ub(n){return ed().some(e=>n.matches(e))}var sd=[];function db(n){sd.push(n)}var hb=1;function vt(n,e=ti,t=()=>{}){_i(n,i=>i._x_ignore)||rb(()=>{e(n,(i,s)=>{i._x_marker||(t(i,s),sd.forEach(r=>r(i,s)),la(i,i.attributes).forEach(r=>r()),i._x_ignore||(i._x_marker=hb++),i._x_ignore&&s())})})}function $i(n,e=ti){e(n,t=>{Wg(t),Bu(t),delete t._x_marker})}function fb(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([e,t,i])=>{sb(t)||i.some(s=>{if(document.querySelector(s))return Pe(`found "${s}", but missing ${e} plugin`),!0})})}var wo=[],da=!1;function ha(n=()=>{}){return queueMicrotask(()=>{da||setTimeout(()=>{Co()})}),new Promise(e=>{wo.push(()=>{n(),e()})})}function Co(){for(da=!1;wo.length;)wo.shift()()}function pb(){da=!0}function fa(n,e){return Array.isArray(e)?zl(n,e.join(" ")):typeof e=="object"&&e!==null?mb(n,e):typeof e=="function"?fa(n,e()):zl(n,e)}function zl(n,e){let t=s=>s.split(" ").filter(r=>!n.classList.contains(r)).filter(Boolean),i=s=>(n.classList.add(...s),()=>{n.classList.remove(...s)});return e=e===!0?e="":e||"",i(t(e))}function mb(n,e){let t=a=>a.split(" ").filter(Boolean),i=Object.entries(e).flatMap(([a,l])=>l?t(a):!1).filter(Boolean),s=Object.entries(e).flatMap(([a,l])=>l?!1:t(a)).filter(Boolean),r=[],o=[];return s.forEach(a=>{n.classList.contains(a)&&(n.classList.remove(a),o.push(a))}),i.forEach(a=>{n.classList.contains(a)||(n.classList.add(a),r.push(a))}),()=>{o.forEach(a=>n.classList.add(a)),r.forEach(a=>n.classList.remove(a))}}function Ks(n,e){return typeof e=="object"&&e!==null?gb(n,e):bb(n,e)}function gb(n,e){let t={};return Object.entries(e).forEach(([i,s])=>{t[i]=n.style[i],i.startsWith("--")||(i=yb(i)),n.style.setProperty(i,s)}),setTimeout(()=>{n.style.length===0&&n.removeAttribute("style")}),()=>{Ks(n,t)}}function bb(n,e){let t=n.getAttribute("style",e);return n.setAttribute("style",e),()=>{n.setAttribute("style",t||"")}}function yb(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function xo(n,e=()=>{}){let t=!1;return function(){t?e.apply(this,arguments):(t=!0,n.apply(this,arguments))}}ie("transition",(n,{value:e,modifiers:t,expression:i},{evaluate:s})=>{typeof i=="function"&&(i=s(i)),i!==!1&&(!i||typeof i=="boolean"?wb(n,t,e):vb(n,i,e))});function vb(n,e,t){rd(n,fa,""),{enter:s=>{n._x_transition.enter.during=s},"enter-start":s=>{n._x_transition.enter.start=s},"enter-end":s=>{n._x_transition.enter.end=s},leave:s=>{n._x_transition.leave.during=s},"leave-start":s=>{n._x_transition.leave.start=s},"leave-end":s=>{n._x_transition.leave.end=s}}[t](e)}function wb(n,e,t){rd(n,Ks);let i=!e.includes("in")&&!e.includes("out")&&!t,s=i||e.includes("in")||["enter"].includes(t),r=i||e.includes("out")||["leave"].includes(t);e.includes("in")&&!i&&(e=e.filter((v,S)=>S<e.indexOf("out"))),e.includes("out")&&!i&&(e=e.filter((v,S)=>S>e.indexOf("out")));let o=!e.includes("opacity")&&!e.includes("scale"),a=o||e.includes("opacity"),l=o||e.includes("scale"),c=a?0:1,u=l?nn(e,"scale",95)/100:1,h=nn(e,"delay",0)/1e3,f=nn(e,"origin","center"),g="opacity, transform",b=nn(e,"duration",150)/1e3,y=nn(e,"duration",75)/1e3,p="cubic-bezier(0.4, 0.0, 0.2, 1)";s&&(n._x_transition.enter.during={transformOrigin:f,transitionDelay:`${h}s`,transitionProperty:g,transitionDuration:`${b}s`,transitionTimingFunction:p},n._x_transition.enter.start={opacity:c,transform:`scale(${u})`},n._x_transition.enter.end={opacity:1,transform:"scale(1)"}),r&&(n._x_transition.leave.during={transformOrigin:f,transitionDelay:`${h}s`,transitionProperty:g,transitionDuration:`${y}s`,transitionTimingFunction:p},n._x_transition.leave.start={opacity:1,transform:"scale(1)"},n._x_transition.leave.end={opacity:c,transform:`scale(${u})`})}function rd(n,e,t={}){n._x_transition||(n._x_transition={enter:{during:t,start:t,end:t},leave:{during:t,start:t,end:t},in(i=()=>{},s=()=>{}){So(n,e,{during:this.enter.during,start:this.enter.start,end:this.enter.end},i,s)},out(i=()=>{},s=()=>{}){So(n,e,{during:this.leave.during,start:this.leave.start,end:this.leave.end},i,s)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(n,e,t,i){const s=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let r=()=>s(t);if(e){n._x_transition&&(n._x_transition.enter||n._x_transition.leave)?n._x_transition.enter&&(Object.entries(n._x_transition.enter.during).length||Object.entries(n._x_transition.enter.start).length||Object.entries(n._x_transition.enter.end).length)?n._x_transition.in(t):r():n._x_transition?n._x_transition.in(t):r();return}n._x_hidePromise=n._x_transition?new Promise((o,a)=>{n._x_transition.out(()=>{},()=>o(i)),n._x_transitioning&&n._x_transitioning.beforeCancel(()=>a({isFromCancelledTransition:!0}))}):Promise.resolve(i),queueMicrotask(()=>{let o=od(n);o?(o._x_hideChildren||(o._x_hideChildren=[]),o._x_hideChildren.push(n)):s(()=>{let a=l=>{let c=Promise.all([l._x_hidePromise,...(l._x_hideChildren||[]).map(a)]).then(([u])=>u==null?void 0:u());return delete l._x_hidePromise,delete l._x_hideChildren,c};a(n).catch(l=>{if(!l.isFromCancelledTransition)throw l})})})};function od(n){let e=n.parentNode;if(e)return e._x_hidePromise?e:od(e)}function So(n,e,{during:t,start:i,end:s}={},r=()=>{},o=()=>{}){if(n._x_transitioning&&n._x_transitioning.cancel(),Object.keys(t).length===0&&Object.keys(i).length===0&&Object.keys(s).length===0){r(),o();return}let a,l,c;Cb(n,{start(){a=e(n,i)},during(){l=e(n,t)},before:r,end(){a(),c=e(n,s)},after:o,cleanup(){l(),c()}})}function Cb(n,e){let t,i,s,r=xo(()=>{Q(()=>{t=!0,i||e.before(),s||(e.end(),Co()),e.after(),n.isConnected&&e.cleanup(),delete n._x_transitioning})});n._x_transitioning={beforeCancels:[],beforeCancel(o){this.beforeCancels.push(o)},cancel:xo(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();r()}),finish:r},Q(()=>{e.start(),e.during()}),pb(),requestAnimationFrame(()=>{if(t)return;let o=Number(getComputedStyle(n).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,a=Number(getComputedStyle(n).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;o===0&&(o=Number(getComputedStyle(n).animationDuration.replace("s",""))*1e3),Q(()=>{e.before()}),i=!0,requestAnimationFrame(()=>{t||(Q(()=>{e.end()}),Co(),setTimeout(n._x_transitioning.finish,o+a),s=!0)})})}function nn(n,e,t){if(n.indexOf(e)===-1)return t;const i=n[n.indexOf(e)+1];if(!i||e==="scale"&&isNaN(i))return t;if(e==="duration"||e==="delay"){let s=i.match(/([0-9]+)ms/);if(s)return s[1]}return e==="origin"&&["top","right","left","center","bottom"].includes(n[n.indexOf(e)+2])?[i,n[n.indexOf(e)+2]].join(" "):i}var kt=!1;function Dt(n,e=()=>{}){return(...t)=>kt?e(...t):n(...t)}function xb(n){return(...e)=>kt&&n(...e)}var ad=[];function Xs(n){ad.push(n)}function Sb(n,e){ad.forEach(t=>t(n,e)),kt=!0,ld(()=>{vt(e,(t,i)=>{i(t,()=>{})})}),kt=!1}var Ao=!1;function Ab(n,e){e._x_dataStack||(e._x_dataStack=n._x_dataStack),kt=!0,Ao=!0,ld(()=>{Eb(e)}),kt=!1,Ao=!1}function Eb(n){let e=!1;vt(n,(i,s)=>{ti(i,(r,o)=>{if(e&&ub(r))return o();e=!0,s(r,o)})})}function ld(n){let e=ri;jl((t,i)=>{let s=e(t);return Mi(s),()=>{}}),n(),jl(e)}function cd(n,e,t,i=[]){switch(n._x_bindings||(n._x_bindings=Bi({})),n._x_bindings[e]=t,e=i.includes("camel")?Ob(e):e,e){case"value":Lb(n,t);break;case"style":kb(n,t);break;case"class":Tb(n,t);break;case"selected":case"checked":Ib(n,e,t);break;default:ud(n,e,t);break}}function Lb(n,e){if(fd(n))n.attributes.value===void 0&&(n.value=e),window.fromModel&&(typeof e=="boolean"?n.checked=Cs(n.value)===e:n.checked=Ul(n.value,e));else if(pa(n))Number.isInteger(e)?n.value=e:!Array.isArray(e)&&typeof e!="boolean"&&![null,void 0].includes(e)?n.value=String(e):Array.isArray(e)?n.checked=e.some(t=>Ul(t,n.value)):n.checked=!!e;else if(n.tagName==="SELECT")Pb(n,e);else{if(n.value===e)return;n.value=e===void 0?"":e}}function Tb(n,e){n._x_undoAddedClasses&&n._x_undoAddedClasses(),n._x_undoAddedClasses=fa(n,e)}function kb(n,e){n._x_undoAddedStyles&&n._x_undoAddedStyles(),n._x_undoAddedStyles=Ks(n,e)}function Ib(n,e,t){ud(n,e,t),Db(n,e,t)}function ud(n,e,t){[null,void 0,!1].includes(t)&&Bb(e)?n.removeAttribute(e):(dd(e)&&(t=e),Rb(n,e,t))}function Rb(n,e,t){n.getAttribute(e)!=t&&n.setAttribute(e,t)}function Db(n,e,t){n[e]!==t&&(n[e]=t)}function Pb(n,e){const t=[].concat(e).map(i=>i+"");Array.from(n.options).forEach(i=>{i.selected=t.includes(i.value)})}function Ob(n){return n.toLowerCase().replace(/-(\w)/g,(e,t)=>t.toUpperCase())}function Ul(n,e){return n==e}function Cs(n){return[1,"1","true","on","yes",!0].includes(n)?!0:[0,"0","false","off","no",!1].includes(n)?!1:n?!!n:null}var Nb=new Set(["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected","shadowrootclonable","shadowrootdelegatesfocus","shadowrootserializable"]);function dd(n){return Nb.has(n)}function Bb(n){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(n)}function Mb(n,e,t){return n._x_bindings&&n._x_bindings[e]!==void 0?n._x_bindings[e]:hd(n,e,t)}function Fb(n,e,t,i=!0){if(n._x_bindings&&n._x_bindings[e]!==void 0)return n._x_bindings[e];if(n._x_inlineBindings&&n._x_inlineBindings[e]!==void 0){let s=n._x_inlineBindings[e];return s.extract=i,Hu(()=>Jt(n,s.expression))}return hd(n,e,t)}function hd(n,e,t){let i=n.getAttribute(e);return i===null?typeof t=="function"?t():t:i===""?!0:dd(e)?!![e,"true"].includes(i):i}function pa(n){return n.type==="checkbox"||n.localName==="ui-checkbox"||n.localName==="ui-switch"}function fd(n){return n.type==="radio"||n.localName==="ui-radio"}function pd(n,e){var t;return function(){var i=this,s=arguments,r=function(){t=null,n.apply(i,s)};clearTimeout(t),t=setTimeout(r,e)}}function md(n,e){let t;return function(){let i=this,s=arguments;t||(n.apply(i,s),t=!0,setTimeout(()=>t=!1,e))}}function gd({get:n,set:e},{get:t,set:i}){let s=!0,r,o=ri(()=>{let a=n(),l=t();if(s)i(Fr(a)),s=!1;else{let c=JSON.stringify(a),u=JSON.stringify(l);c!==r?i(Fr(a)):c!==u&&e(Fr(l))}r=JSON.stringify(n()),JSON.stringify(t())});return()=>{Mi(o)}}function Fr(n){return typeof n=="object"?JSON.parse(JSON.stringify(n)):n}function _b(n){(Array.isArray(n)?n:[n]).forEach(t=>t(Kn))}var Mt={},Jl=!1;function $b(n,e){if(Jl||(Mt=Bi(Mt),Jl=!0),e===void 0)return Mt[n];Mt[n]=e,_u(Mt[n]),typeof e=="object"&&e!==null&&e.hasOwnProperty("init")&&typeof e.init=="function"&&Mt[n].init()}function qb(){return Mt}var bd={};function Hb(n,e){let t=typeof e!="function"?()=>e:e;return n instanceof Element?yd(n,t()):(bd[n]=t,()=>{})}function Vb(n){return Object.entries(bd).forEach(([e,t])=>{Object.defineProperty(n,e,{get(){return(...i)=>t(...i)}})}),n}function yd(n,e,t){let i=[];for(;i.length;)i.pop()();let s=Object.entries(e).map(([o,a])=>({name:o,value:a})),r=Wu(s);return s=s.map(o=>r.find(a=>a.name===o.name)?{name:`x-bind:${o.name}`,value:`"${o.value}"`}:o),la(n,s,t).map(o=>{i.push(o.runCleanups),o()}),()=>{for(;i.length;)i.pop()()}}var vd={};function jb(n,e){vd[n]=e}function Wb(n,e){return Object.entries(vd).forEach(([t,i])=>{Object.defineProperty(n,t,{get(){return(...s)=>i.bind(e)(...s)},enumerable:!1})}),n}var zb={get reactive(){return Bi},get release(){return Mi},get effect(){return ri},get raw(){return ku},version:"3.14.8",flushAndStopDeferringMutations:Jg,dontAutoEvaluateFunctions:Hu,disableEffectScheduling:qg,startObservingMutations:sa,stopObservingMutations:Mu,setReactivityEngine:Hg,onAttributeRemoved:Nu,onAttributesAdded:Ou,closestDataStack:Ii,skipDuringClone:Dt,onlyDuringClone:xb,addRootSelector:id,addInitSelector:nd,interceptClone:Xs,addScopeToNode:Un,deferMutations:Ug,mapAttributes:ca,evaluateLater:be,interceptInit:db,setEvaluator:Zg,mergeProxies:Jn,extractProp:Fb,findClosest:_i,onElRemoved:ta,closestRoot:Js,destroyTree:$i,interceptor:$u,transition:So,setStyles:Ks,mutateDom:Q,directive:ie,entangle:gd,throttle:md,debounce:pd,evaluate:Jt,initTree:vt,nextTick:ha,prefixed:Fi,prefix:nb,plugin:_b,magic:Je,store:$b,start:cb,clone:Ab,cloneNode:Sb,bound:Mb,$data:Fu,watch:Iu,walk:ti,data:jb,bind:Hb},Kn=zb;function Ub(n,e){const t=Object.create(null),i=n.split(",");for(let s=0;s<i.length;s++)t[i[s]]=!0;return s=>!!t[s]}var Jb=Object.freeze({}),Kb=Object.prototype.hasOwnProperty,Gs=(n,e)=>Kb.call(n,e),Kt=Array.isArray,bn=n=>wd(n)==="[object Map]",Xb=n=>typeof n=="string",ma=n=>typeof n=="symbol",Qs=n=>n!==null&&typeof n=="object",Gb=Object.prototype.toString,wd=n=>Gb.call(n),Cd=n=>wd(n).slice(8,-1),ga=n=>Xb(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Qb=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},Yb=Qb(n=>n.charAt(0).toUpperCase()+n.slice(1)),xd=(n,e)=>n!==e&&(n===n||e===e),Eo=new WeakMap,sn=[],Ze,Xt=Symbol("iterate"),Lo=Symbol("Map key iterate");function Zb(n){return n&&n._isEffect===!0}function ey(n,e=Jb){Zb(n)&&(n=n.raw);const t=ny(n,e);return e.lazy||t(),t}function ty(n){n.active&&(Sd(n),n.options.onStop&&n.options.onStop(),n.active=!1)}var iy=0;function ny(n,e){const t=function(){if(!t.active)return n();if(!sn.includes(t)){Sd(t);try{return ry(),sn.push(t),Ze=t,n()}finally{sn.pop(),Ad(),Ze=sn[sn.length-1]}}};return t.id=iy++,t.allowRecurse=!!e.allowRecurse,t._isEffect=!0,t.active=!0,t.raw=n,t.deps=[],t.options=e,t}function Sd(n){const{deps:e}=n;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(n);e.length=0}}var Ri=!0,ba=[];function sy(){ba.push(Ri),Ri=!1}function ry(){ba.push(Ri),Ri=!0}function Ad(){const n=ba.pop();Ri=n===void 0?!0:n}function ze(n,e,t){if(!Ri||Ze===void 0)return;let i=Eo.get(n);i||Eo.set(n,i=new Map);let s=i.get(t);s||i.set(t,s=new Set),s.has(Ze)||(s.add(Ze),Ze.deps.push(s),Ze.options.onTrack&&Ze.options.onTrack({effect:Ze,target:n,type:e,key:t}))}function It(n,e,t,i,s,r){const o=Eo.get(n);if(!o)return;const a=new Set,l=u=>{u&&u.forEach(h=>{(h!==Ze||h.allowRecurse)&&a.add(h)})};if(e==="clear")o.forEach(l);else if(t==="length"&&Kt(n))o.forEach((u,h)=>{(h==="length"||h>=i)&&l(u)});else switch(t!==void 0&&l(o.get(t)),e){case"add":Kt(n)?ga(t)&&l(o.get("length")):(l(o.get(Xt)),bn(n)&&l(o.get(Lo)));break;case"delete":Kt(n)||(l(o.get(Xt)),bn(n)&&l(o.get(Lo)));break;case"set":bn(n)&&l(o.get(Xt));break}const c=u=>{u.options.onTrigger&&u.options.onTrigger({effect:u,target:n,key:t,type:e,newValue:i,oldValue:s,oldTarget:r}),u.options.scheduler?u.options.scheduler(u):u()};a.forEach(c)}var oy=Ub("__proto__,__v_isRef,__isVue"),Ed=new Set(Object.getOwnPropertyNames(Symbol).map(n=>Symbol[n]).filter(ma)),ay=Ld(),ly=Ld(!0),Kl=cy();function cy(){const n={};return["includes","indexOf","lastIndexOf"].forEach(e=>{n[e]=function(...t){const i=z(this);for(let r=0,o=this.length;r<o;r++)ze(i,"get",r+"");const s=i[e](...t);return s===-1||s===!1?i[e](...t.map(z)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{n[e]=function(...t){sy();const i=z(this)[e].apply(this,t);return Ad(),i}}),n}function Ld(n=!1,e=!1){return function(i,s,r){if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_raw"&&r===(n?e?Sy:Rd:e?xy:Id).get(i))return i;const o=Kt(i);if(!n&&o&&Gs(Kl,s))return Reflect.get(Kl,s,r);const a=Reflect.get(i,s,r);return(ma(s)?Ed.has(s):oy(s))||(n||ze(i,"get",s),e)?a:To(a)?!o||!ga(s)?a.value:a:Qs(a)?n?Dd(a):Ca(a):a}}var uy=dy();function dy(n=!1){return function(t,i,s,r){let o=t[i];if(!n&&(s=z(s),o=z(o),!Kt(t)&&To(o)&&!To(s)))return o.value=s,!0;const a=Kt(t)&&ga(i)?Number(i)<t.length:Gs(t,i),l=Reflect.set(t,i,s,r);return t===z(r)&&(a?xd(s,o)&&It(t,"set",i,s,o):It(t,"add",i,s)),l}}function hy(n,e){const t=Gs(n,e),i=n[e],s=Reflect.deleteProperty(n,e);return s&&t&&It(n,"delete",e,void 0,i),s}function fy(n,e){const t=Reflect.has(n,e);return(!ma(e)||!Ed.has(e))&&ze(n,"has",e),t}function py(n){return ze(n,"iterate",Kt(n)?"length":Xt),Reflect.ownKeys(n)}var my={get:ay,set:uy,deleteProperty:hy,has:fy,ownKeys:py},gy={get:ly,set(n,e){return console.warn(`Set operation on key "${String(e)}" failed: target is readonly.`,n),!0},deleteProperty(n,e){return console.warn(`Delete operation on key "${String(e)}" failed: target is readonly.`,n),!0}},ya=n=>Qs(n)?Ca(n):n,va=n=>Qs(n)?Dd(n):n,wa=n=>n,Ys=n=>Reflect.getPrototypeOf(n);function ls(n,e,t=!1,i=!1){n=n.__v_raw;const s=z(n),r=z(e);e!==r&&!t&&ze(s,"get",e),!t&&ze(s,"get",r);const{has:o}=Ys(s),a=i?wa:t?va:ya;if(o.call(s,e))return a(n.get(e));if(o.call(s,r))return a(n.get(r));n!==s&&n.get(e)}function cs(n,e=!1){const t=this.__v_raw,i=z(t),s=z(n);return n!==s&&!e&&ze(i,"has",n),!e&&ze(i,"has",s),n===s?t.has(n):t.has(n)||t.has(s)}function us(n,e=!1){return n=n.__v_raw,!e&&ze(z(n),"iterate",Xt),Reflect.get(n,"size",n)}function Xl(n){n=z(n);const e=z(this);return Ys(e).has.call(e,n)||(e.add(n),It(e,"add",n,n)),this}function Gl(n,e){e=z(e);const t=z(this),{has:i,get:s}=Ys(t);let r=i.call(t,n);r?kd(t,i,n):(n=z(n),r=i.call(t,n));const o=s.call(t,n);return t.set(n,e),r?xd(e,o)&&It(t,"set",n,e,o):It(t,"add",n,e),this}function Ql(n){const e=z(this),{has:t,get:i}=Ys(e);let s=t.call(e,n);s?kd(e,t,n):(n=z(n),s=t.call(e,n));const r=i?i.call(e,n):void 0,o=e.delete(n);return s&&It(e,"delete",n,void 0,r),o}function Yl(){const n=z(this),e=n.size!==0,t=bn(n)?new Map(n):new Set(n),i=n.clear();return e&&It(n,"clear",void 0,void 0,t),i}function ds(n,e){return function(i,s){const r=this,o=r.__v_raw,a=z(o),l=e?wa:n?va:ya;return!n&&ze(a,"iterate",Xt),o.forEach((c,u)=>i.call(s,l(c),l(u),r))}}function hs(n,e,t){return function(...i){const s=this.__v_raw,r=z(s),o=bn(r),a=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,c=s[n](...i),u=t?wa:e?va:ya;return!e&&ze(r,"iterate",l?Lo:Xt),{next(){const{value:h,done:f}=c.next();return f?{value:h,done:f}:{value:a?[u(h[0]),u(h[1])]:u(h),done:f}},[Symbol.iterator](){return this}}}}function xt(n){return function(...e){{const t=e[0]?`on key "${e[0]}" `:"";console.warn(`${Yb(n)} operation ${t}failed: target is readonly.`,z(this))}return n==="delete"?!1:this}}function by(){const n={get(r){return ls(this,r)},get size(){return us(this)},has:cs,add:Xl,set:Gl,delete:Ql,clear:Yl,forEach:ds(!1,!1)},e={get(r){return ls(this,r,!1,!0)},get size(){return us(this)},has:cs,add:Xl,set:Gl,delete:Ql,clear:Yl,forEach:ds(!1,!0)},t={get(r){return ls(this,r,!0)},get size(){return us(this,!0)},has(r){return cs.call(this,r,!0)},add:xt("add"),set:xt("set"),delete:xt("delete"),clear:xt("clear"),forEach:ds(!0,!1)},i={get(r){return ls(this,r,!0,!0)},get size(){return us(this,!0)},has(r){return cs.call(this,r,!0)},add:xt("add"),set:xt("set"),delete:xt("delete"),clear:xt("clear"),forEach:ds(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{n[r]=hs(r,!1,!1),t[r]=hs(r,!0,!1),e[r]=hs(r,!1,!0),i[r]=hs(r,!0,!0)}),[n,t,e,i]}var[yy,vy,zy,Uy]=by();function Td(n,e){const t=n?vy:yy;return(i,s,r)=>s==="__v_isReactive"?!n:s==="__v_isReadonly"?n:s==="__v_raw"?i:Reflect.get(Gs(t,s)&&s in i?t:i,s,r)}var wy={get:Td(!1)},Cy={get:Td(!0)};function kd(n,e,t){const i=z(t);if(i!==t&&e.call(n,i)){const s=Cd(n);console.warn(`Reactive ${s} contains both the raw and reactive versions of the same object${s==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Id=new WeakMap,xy=new WeakMap,Rd=new WeakMap,Sy=new WeakMap;function Ay(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ey(n){return n.__v_skip||!Object.isExtensible(n)?0:Ay(Cd(n))}function Ca(n){return n&&n.__v_isReadonly?n:Pd(n,!1,my,wy,Id)}function Dd(n){return Pd(n,!0,gy,Cy,Rd)}function Pd(n,e,t,i,s){if(!Qs(n))return console.warn(`value cannot be made reactive: ${String(n)}`),n;if(n.__v_raw&&!(e&&n.__v_isReactive))return n;const r=s.get(n);if(r)return r;const o=Ey(n);if(o===0)return n;const a=new Proxy(n,o===2?i:t);return s.set(n,a),a}function z(n){return n&&z(n.__v_raw)||n}function To(n){return!!(n&&n.__v_isRef===!0)}Je("nextTick",()=>ha);Je("dispatch",n=>gn.bind(gn,n));Je("watch",(n,{evaluateLater:e,cleanup:t})=>(i,s)=>{let r=e(i),a=Iu(()=>{let l;return r(c=>l=c),l},s);t(a)});Je("store",qb);Je("data",n=>Fu(n));Je("root",n=>Js(n));Je("refs",n=>(n._x_refs_proxy||(n._x_refs_proxy=Jn(Ly(n))),n._x_refs_proxy));function Ly(n){let e=[];return _i(n,t=>{t._x_refs&&e.push(t._x_refs)}),e}var _r={};function Od(n){return _r[n]||(_r[n]=0),++_r[n]}function Ty(n,e){return _i(n,t=>{if(t._x_ids&&t._x_ids[e])return!0})}function ky(n,e){n._x_ids||(n._x_ids={}),n._x_ids[e]||(n._x_ids[e]=Od(e))}Je("id",(n,{cleanup:e})=>(t,i=null)=>{let s=`${t}${i?`-${i}`:""}`;return Iy(n,s,e,()=>{let r=Ty(n,t),o=r?r._x_ids[t]:Od(t);return i?`${t}-${o}-${i}`:`${t}-${o}`})});Xs((n,e)=>{n._x_id&&(e._x_id=n._x_id)});function Iy(n,e,t,i){if(n._x_id||(n._x_id={}),n._x_id[e])return n._x_id[e];let s=i();return n._x_id[e]=s,t(()=>{delete n._x_id[e]}),s}Je("el",n=>n);Nd("Focus","focus","focus");Nd("Persist","persist","persist");function Nd(n,e,t){Je(e,i=>Pe(`You can't use [$${e}] without first installing the "${n}" plugin here: https://alpinejs.dev/plugins/${t}`,i))}ie("modelable",(n,{expression:e},{effect:t,evaluateLater:i,cleanup:s})=>{let r=i(e),o=()=>{let u;return r(h=>u=h),u},a=i(`${e} = __placeholder`),l=u=>a(()=>{},{scope:{__placeholder:u}}),c=o();l(c),queueMicrotask(()=>{if(!n._x_model)return;n._x_removeModelListeners.default();let u=n._x_model.get,h=n._x_model.set,f=gd({get(){return u()},set(g){h(g)}},{get(){return o()},set(g){l(g)}});s(f)})});ie("teleport",(n,{modifiers:e,expression:t},{cleanup:i})=>{n.tagName.toLowerCase()!=="template"&&Pe("x-teleport can only be used on a <template> tag",n);let s=Zl(t),r=n.content.cloneNode(!0).firstElementChild;n._x_teleport=r,r._x_teleportBack=n,n.setAttribute("data-teleport-template",!0),r.setAttribute("data-teleport-target",!0),n._x_forwardEvents&&n._x_forwardEvents.forEach(a=>{r.addEventListener(a,l=>{l.stopPropagation(),n.dispatchEvent(new l.constructor(l.type,l))})}),Un(r,{},n);let o=(a,l,c)=>{c.includes("prepend")?l.parentNode.insertBefore(a,l):c.includes("append")?l.parentNode.insertBefore(a,l.nextSibling):l.appendChild(a)};Q(()=>{o(r,s,e),Dt(()=>{vt(r)})()}),n._x_teleportPutBack=()=>{let a=Zl(t);Q(()=>{o(n._x_teleport,a,e)})},i(()=>Q(()=>{r.remove(),$i(r)}))});var Ry=document.createElement("div");function Zl(n){let e=Dt(()=>document.querySelector(n),()=>Ry)();return e||Pe(`Cannot find x-teleport element for selector: "${n}"`),e}var Bd=()=>{};Bd.inline=(n,{modifiers:e},{cleanup:t})=>{e.includes("self")?n._x_ignoreSelf=!0:n._x_ignore=!0,t(()=>{e.includes("self")?delete n._x_ignoreSelf:delete n._x_ignore})};ie("ignore",Bd);ie("effect",Dt((n,{expression:e},{effect:t})=>{t(be(n,e))}));function ko(n,e,t,i){let s=n,r=l=>i(l),o={},a=(l,c)=>u=>c(l,u);if(t.includes("dot")&&(e=Dy(e)),t.includes("camel")&&(e=Py(e)),t.includes("passive")&&(o.passive=!0),t.includes("capture")&&(o.capture=!0),t.includes("window")&&(s=window),t.includes("document")&&(s=document),t.includes("debounce")){let l=t[t.indexOf("debounce")+1]||"invalid-wait",c=Ns(l.split("ms")[0])?Number(l.split("ms")[0]):250;r=pd(r,c)}if(t.includes("throttle")){let l=t[t.indexOf("throttle")+1]||"invalid-wait",c=Ns(l.split("ms")[0])?Number(l.split("ms")[0]):250;r=md(r,c)}return t.includes("prevent")&&(r=a(r,(l,c)=>{c.preventDefault(),l(c)})),t.includes("stop")&&(r=a(r,(l,c)=>{c.stopPropagation(),l(c)})),t.includes("once")&&(r=a(r,(l,c)=>{l(c),s.removeEventListener(e,r,o)})),(t.includes("away")||t.includes("outside"))&&(s=document,r=a(r,(l,c)=>{n.contains(c.target)||c.target.isConnected!==!1&&(n.offsetWidth<1&&n.offsetHeight<1||n._x_isShown!==!1&&l(c))})),t.includes("self")&&(r=a(r,(l,c)=>{c.target===n&&l(c)})),(Ny(e)||Md(e))&&(r=a(r,(l,c)=>{By(c,t)||l(c)})),s.addEventListener(e,r,o),()=>{s.removeEventListener(e,r,o)}}function Dy(n){return n.replace(/-/g,".")}function Py(n){return n.toLowerCase().replace(/-(\w)/g,(e,t)=>t.toUpperCase())}function Ns(n){return!Array.isArray(n)&&!isNaN(n)}function Oy(n){return[" ","_"].includes(n)?n:n.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Ny(n){return["keydown","keyup"].includes(n)}function Md(n){return["contextmenu","click","mouse"].some(e=>n.includes(e))}function By(n,e){let t=e.filter(r=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(r));if(t.includes("debounce")){let r=t.indexOf("debounce");t.splice(r,Ns((t[r+1]||"invalid-wait").split("ms")[0])?2:1)}if(t.includes("throttle")){let r=t.indexOf("throttle");t.splice(r,Ns((t[r+1]||"invalid-wait").split("ms")[0])?2:1)}if(t.length===0||t.length===1&&ec(n.key).includes(t[0]))return!1;const s=["ctrl","shift","alt","meta","cmd","super"].filter(r=>t.includes(r));return t=t.filter(r=>!s.includes(r)),!(s.length>0&&s.filter(o=>((o==="cmd"||o==="super")&&(o="meta"),n[`${o}Key`])).length===s.length&&(Md(n.type)||ec(n.key).includes(t[0])))}function ec(n){if(!n)return[];n=Oy(n);let e={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return e[n]=n,Object.keys(e).map(t=>{if(e[t]===n)return t}).filter(t=>t)}ie("model",(n,{modifiers:e,expression:t},{effect:i,cleanup:s})=>{let r=n;e.includes("parent")&&(r=n.parentNode);let o=be(r,t),a;typeof t=="string"?a=be(r,`${t} = __placeholder`):typeof t=="function"&&typeof t()=="string"?a=be(r,`${t()} = __placeholder`):a=()=>{};let l=()=>{let f;return o(g=>f=g),tc(f)?f.get():f},c=f=>{let g;o(b=>g=b),tc(g)?g.set(f):a(()=>{},{scope:{__placeholder:f}})};typeof t=="string"&&n.type==="radio"&&Q(()=>{n.hasAttribute("name")||n.setAttribute("name",t)});var u=n.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(n.type)||e.includes("lazy")?"change":"input";let h=kt?()=>{}:ko(n,u,e,f=>{c($r(n,e,f,l()))});if(e.includes("fill")&&([void 0,null,""].includes(l())||pa(n)&&Array.isArray(l())||n.tagName.toLowerCase()==="select"&&n.multiple)&&c($r(n,e,{target:n},l())),n._x_removeModelListeners||(n._x_removeModelListeners={}),n._x_removeModelListeners.default=h,s(()=>n._x_removeModelListeners.default()),n.form){let f=ko(n.form,"reset",[],g=>{ha(()=>n._x_model&&n._x_model.set($r(n,e,{target:n},l())))});s(()=>f())}n._x_model={get(){return l()},set(f){c(f)}},n._x_forceModelUpdate=f=>{f===void 0&&typeof t=="string"&&t.match(/\./)&&(f=""),window.fromModel=!0,Q(()=>cd(n,"value",f)),delete window.fromModel},i(()=>{let f=l();e.includes("unintrusive")&&document.activeElement.isSameNode(n)||n._x_forceModelUpdate(f)})});function $r(n,e,t,i){return Q(()=>{if(t instanceof CustomEvent&&t.detail!==void 0)return t.detail!==null&&t.detail!==void 0?t.detail:t.target.value;if(pa(n))if(Array.isArray(i)){let s=null;return e.includes("number")?s=qr(t.target.value):e.includes("boolean")?s=Cs(t.target.value):s=t.target.value,t.target.checked?i.includes(s)?i:i.concat([s]):i.filter(r=>!My(r,s))}else return t.target.checked;else{if(n.tagName.toLowerCase()==="select"&&n.multiple)return e.includes("number")?Array.from(t.target.selectedOptions).map(s=>{let r=s.value||s.text;return qr(r)}):e.includes("boolean")?Array.from(t.target.selectedOptions).map(s=>{let r=s.value||s.text;return Cs(r)}):Array.from(t.target.selectedOptions).map(s=>s.value||s.text);{let s;return fd(n)?t.target.checked?s=t.target.value:s=i:s=t.target.value,e.includes("number")?qr(s):e.includes("boolean")?Cs(s):e.includes("trim")?s.trim():s}}})}function qr(n){let e=n?parseFloat(n):null;return Fy(e)?e:n}function My(n,e){return n==e}function Fy(n){return!Array.isArray(n)&&!isNaN(n)}function tc(n){return n!==null&&typeof n=="object"&&typeof n.get=="function"&&typeof n.set=="function"}ie("cloak",n=>queueMicrotask(()=>Q(()=>n.removeAttribute(Fi("cloak")))));nd(()=>`[${Fi("init")}]`);ie("init",Dt((n,{expression:e},{evaluate:t})=>typeof e=="string"?!!e.trim()&&t(e,{},!1):t(e,{},!1)));ie("text",(n,{expression:e},{effect:t,evaluateLater:i})=>{let s=i(e);t(()=>{s(r=>{Q(()=>{n.textContent=r})})})});ie("html",(n,{expression:e},{effect:t,evaluateLater:i})=>{let s=i(e);t(()=>{s(r=>{Q(()=>{n.innerHTML=r,n._x_ignoreSelf=!0,vt(n),delete n._x_ignoreSelf})})})});ca(Ju(":",Ku(Fi("bind:"))));var Fd=(n,{value:e,modifiers:t,expression:i,original:s},{effect:r,cleanup:o})=>{if(!e){let l={};Vb(l),be(n,i)(u=>{yd(n,u,s)},{scope:l});return}if(e==="key")return _y(n,i);if(n._x_inlineBindings&&n._x_inlineBindings[e]&&n._x_inlineBindings[e].extract)return;let a=be(n,i);r(()=>a(l=>{l===void 0&&typeof i=="string"&&i.match(/\./)&&(l=""),Q(()=>cd(n,e,l,t))})),o(()=>{n._x_undoAddedClasses&&n._x_undoAddedClasses(),n._x_undoAddedStyles&&n._x_undoAddedStyles()})};Fd.inline=(n,{value:e,modifiers:t,expression:i})=>{e&&(n._x_inlineBindings||(n._x_inlineBindings={}),n._x_inlineBindings[e]={expression:i,extract:!1})};ie("bind",Fd);function _y(n,e){n._x_keyExpression=e}id(()=>`[${Fi("data")}]`);ie("data",(n,{expression:e},{cleanup:t})=>{if($y(n))return;e=e===""?"{}":e;let i={};bo(i,n);let s={};Wb(s,i);let r=Jt(n,e,{scope:s});(r===void 0||r===!0)&&(r={}),bo(r,n);let o=Bi(r);_u(o);let a=Un(n,o);o.init&&Jt(n,o.init),t(()=>{o.destroy&&Jt(n,o.destroy),a()})});Xs((n,e)=>{n._x_dataStack&&(e._x_dataStack=n._x_dataStack,e.setAttribute("data-has-alpine-state",!0))});function $y(n){return kt?Ao?!0:n.hasAttribute("data-has-alpine-state"):!1}ie("show",(n,{modifiers:e,expression:t},{effect:i})=>{let s=be(n,t);n._x_doHide||(n._x_doHide=()=>{Q(()=>{n.style.setProperty("display","none",e.includes("important")?"important":void 0)})}),n._x_doShow||(n._x_doShow=()=>{Q(()=>{n.style.length===1&&n.style.display==="none"?n.removeAttribute("style"):n.style.removeProperty("display")})});let r=()=>{n._x_doHide(),n._x_isShown=!1},o=()=>{n._x_doShow(),n._x_isShown=!0},a=()=>setTimeout(o),l=xo(h=>h?o():r(),h=>{typeof n._x_toggleAndCascadeWithTransitions=="function"?n._x_toggleAndCascadeWithTransitions(n,h,o,r):h?a():r()}),c,u=!0;i(()=>s(h=>{!u&&h===c||(e.includes("immediate")&&(h?a():r()),l(h),c=h,u=!1)}))});ie("for",(n,{expression:e},{effect:t,cleanup:i})=>{let s=Hy(e),r=be(n,s.items),o=be(n,n._x_keyExpression||"index");n._x_prevKeys=[],n._x_lookup={},t(()=>qy(n,s,r,o)),i(()=>{Object.values(n._x_lookup).forEach(a=>Q(()=>{$i(a),a.remove()})),delete n._x_prevKeys,delete n._x_lookup})});function qy(n,e,t,i){let s=o=>typeof o=="object"&&!Array.isArray(o),r=n;t(o=>{Vy(o)&&o>=0&&(o=Array.from(Array(o).keys(),p=>p+1)),o===void 0&&(o=[]);let a=n._x_lookup,l=n._x_prevKeys,c=[],u=[];if(s(o))o=Object.entries(o).map(([p,v])=>{let S=ic(e,v,p,o);i(A=>{u.includes(A)&&Pe("Duplicate key on x-for",n),u.push(A)},{scope:{index:p,...S}}),c.push(S)});else for(let p=0;p<o.length;p++){let v=ic(e,o[p],p,o);i(S=>{u.includes(S)&&Pe("Duplicate key on x-for",n),u.push(S)},{scope:{index:p,...v}}),c.push(v)}let h=[],f=[],g=[],b=[];for(let p=0;p<l.length;p++){let v=l[p];u.indexOf(v)===-1&&g.push(v)}l=l.filter(p=>!g.includes(p));let y="template";for(let p=0;p<u.length;p++){let v=u[p],S=l.indexOf(v);if(S===-1)l.splice(p,0,v),h.push([y,p]);else if(S!==p){let A=l.splice(p,1)[0],w=l.splice(S-1,1)[0];l.splice(p,0,w),l.splice(S,0,A),f.push([A,w])}else b.push(v);y=v}for(let p=0;p<g.length;p++){let v=g[p];v in a&&(Q(()=>{$i(a[v]),a[v].remove()}),delete a[v])}for(let p=0;p<f.length;p++){let[v,S]=f[p],A=a[v],w=a[S],C=document.createElement("div");Q(()=>{w||Pe('x-for ":key" is undefined or invalid',r,S,a),w.after(C),A.after(w),w._x_currentIfEl&&w.after(w._x_currentIfEl),C.before(A),A._x_currentIfEl&&A.after(A._x_currentIfEl),C.remove()}),w._x_refreshXForScope(c[u.indexOf(S)])}for(let p=0;p<h.length;p++){let[v,S]=h[p],A=v==="template"?r:a[v];A._x_currentIfEl&&(A=A._x_currentIfEl);let w=c[S],C=u[S],L=document.importNode(r.content,!0).firstElementChild,I=Bi(w);Un(L,I,r),L._x_refreshXForScope=H=>{Object.entries(H).forEach(([j,X])=>{I[j]=X})},Q(()=>{A.after(L),Dt(()=>vt(L))()}),typeof C=="object"&&Pe("x-for key cannot be an object, it must be a string or an integer",r),a[C]=L}for(let p=0;p<b.length;p++)a[b[p]]._x_refreshXForScope(c[u.indexOf(b[p])]);r._x_prevKeys=u})}function Hy(n){let e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,t=/^\s*\(|\)\s*$/g,i=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,s=n.match(i);if(!s)return;let r={};r.items=s[2].trim();let o=s[1].replace(t,"").trim(),a=o.match(e);return a?(r.item=o.replace(e,"").trim(),r.index=a[1].trim(),a[2]&&(r.collection=a[2].trim())):r.item=o,r}function ic(n,e,t,i){let s={};return/^\[.*\]$/.test(n.item)&&Array.isArray(e)?n.item.replace("[","").replace("]","").split(",").map(o=>o.trim()).forEach((o,a)=>{s[o]=e[a]}):/^\{.*\}$/.test(n.item)&&!Array.isArray(e)&&typeof e=="object"?n.item.replace("{","").replace("}","").split(",").map(o=>o.trim()).forEach(o=>{s[o]=e[o]}):s[n.item]=e,n.index&&(s[n.index]=t),n.collection&&(s[n.collection]=i),s}function Vy(n){return!Array.isArray(n)&&!isNaN(n)}function _d(){}_d.inline=(n,{expression:e},{cleanup:t})=>{let i=Js(n);i._x_refs||(i._x_refs={}),i._x_refs[e]=n,t(()=>delete i._x_refs[e])};ie("ref",_d);ie("if",(n,{expression:e},{effect:t,cleanup:i})=>{n.tagName.toLowerCase()!=="template"&&Pe("x-if can only be used on a <template> tag",n);let s=be(n,e),r=()=>{if(n._x_currentIfEl)return n._x_currentIfEl;let a=n.content.cloneNode(!0).firstElementChild;return Un(a,{},n),Q(()=>{n.after(a),Dt(()=>vt(a))()}),n._x_currentIfEl=a,n._x_undoIf=()=>{Q(()=>{$i(a),a.remove()}),delete n._x_currentIfEl},a},o=()=>{n._x_undoIf&&(n._x_undoIf(),delete n._x_undoIf)};t(()=>s(a=>{a?r():o()})),i(()=>n._x_undoIf&&n._x_undoIf())});ie("id",(n,{expression:e},{evaluate:t})=>{t(e).forEach(s=>ky(n,s))});Xs((n,e)=>{n._x_ids&&(e._x_ids=n._x_ids)});ca(Ju("@",Ku(Fi("on:"))));ie("on",Dt((n,{value:e,modifiers:t,expression:i},{cleanup:s})=>{let r=i?be(n,i):()=>{};n.tagName.toLowerCase()==="template"&&(n._x_forwardEvents||(n._x_forwardEvents=[]),n._x_forwardEvents.includes(e)||n._x_forwardEvents.push(e));let o=ko(n,e,t,a=>{r(()=>{},{scope:{$event:a},params:[a]})});s(()=>o())}));Zs("Collapse","collapse","collapse");Zs("Intersect","intersect","intersect");Zs("Focus","trap","focus");Zs("Mask","mask","mask");function Zs(n,e,t){ie(e,i=>Pe(`You can't use [x-${e}] without first installing the "${n}" plugin here: https://alpinejs.dev/plugins/${t}`,i))}Kn.setEvaluator(ju);Kn.setReactivityEngine({reactive:Ca,effect:ey,release:ty,raw:z});var jy=Kn,$d=jy;window.Alpine=$d;$d.start();
